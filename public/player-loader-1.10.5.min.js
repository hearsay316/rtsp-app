/*!
* Bilibili Live Player Loader v1.2.0 (55-6202901d)
* 
* Copyright 2016 - 2020 Bilibili, Inc.
* Released in Mon Mar 30 2020 15:59:10 GMT+0800 (GMT+08:00)
*/

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EmbedPlayer=t():e.EmbedPlayer=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.warn=function(t){var n=t.key||e.LOG_DEBUG_TAG,r=t.value||"warn",a="LivePlayerLoader '"+n+"': "+JSON.stringify(r);e.ENABLE_DEBUG&&console.warn(a)},e.info=function(t){var n=t.key||e.LOG_DEBUG_TAG,r=t.value||"info",a="LivePlayerLoader '"+n+"': "+JSON.stringify(r);e.ENABLE_DEBUG&&console.info(a)},e.error=function(t){var n=t.key||e.LOG_DEBUG_TAG,r=t.value||"error",a="LivePlayerLoader '"+n+"': "+JSON.stringify(r);e.ENABLE_DEBUG&&console.error(a)},e.assign=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),i=0;i<n.length;i++){var o=n[i];null!=o&&e.name2value(o,a)}return a},e.createWrapper=function(t,n,r,a){void 0===r&&(r={}),void 0===a&&(a=1);try{if(t&&n&&t.querySelector("#"+n))return t.querySelector("#"+n)}catch(e){}var i=document.createElement("div");return i.id=n,r=e.assign({width:"100%",height:"100%",zIndex:1,position:"relative"},r),e.addStyle(i,r),t.appendChild(i),i},e.createIframe=function(t,n,r,a,i,o){void 0===a&&(a=document.body),void 0===i&&(i={}),void 0===o&&(o=null),t||e.error({key:"[ createIframe ]",value:"iframe src is missing"});var s=document.createElement("iframe"),l=[];for(var u in i=e.assign({width:!0,height:!0,iframe:!0,container:!0},i),n=e.assign({width:"100%",height:"100%",frameBorder:"0",marginWidth:"0",marginHeight:"0"},n),r)!i[u]&&r.hasOwnProperty(u)&&null!=r[u]&&l.push(u+"="+r[u]);return s.src=s+"?"+l.join("&"),e.name2value(n,s),s.addEventListener("load",function(){e.info({key:"[ iframe ]",value:"load complete"}),o&&o()}),a.appendChild(s),s},e.loadScript=function(e,t,n){try{var r=document.createElement("script"),a=document.getElementsByTagName("head")[0];r.src=e,r.onload="function"==typeof t&&t,r.onerror=function(t){a&&a.removeChild(r),console.error("Load script error, src:",e),"function"==typeof n&&n()},a&&a.appendChild(r)}catch(t){console.error("Load script error",e,t)}},e.getCookie=function(){var e=document.cookie,t={};try{if(e)for(var n=e.split("; "),r=0,a=n.length;r<a;r++){var i=n[r].split("=");t[i[0]]=i[1]}}catch(e){console.error("Live player loader get cookie error",e)}return t},e.setCookie=function(e,t,n){void 0===n&&(n=365);var r=new Date,a=encodeURIComponent(e),i=encodeURIComponent(t);r.setTime(r.getTime()+24*n*60*60*1e3),document.cookie=a+"="+i+"; expires="+r.toUTCString()+"; path=/; domain=.bilibili.com"},e.getLocalStorageItem=function(t,n){void 0===n&&(n="undefined");try{return"undefined"===n?JSON.parse(localStorage.getItem(t))||{}:(JSON.parse(localStorage.getItem(t))||{})[n]}catch(t){return e.error({key:"[ getLocalStorageItem ]",value:"LocalStorage Not Support"}),void 0===n?null:window.undefined}},e.setLocalStorageItem=function(t,n){try{return localStorage.setItem(t,JSON.stringify(n)),!0}catch(t){return e.error({key:"[ setLocalStorageItem ]",value:"LocalStorage Not Support"}),!1}},e.replacePathVersion=function(e,t,n){return void 0===t&&(t="latest"),void 0===n&&(n=""),e?e.replace(/\#\{version\}/,t).replace(/\#\{folder\}/,n):e},e.addStyle=function(t,n){return t instanceof HTMLElement||e.error({key:"[ addStyle ]",value:"The element is not instance of HTMLElement"}),e.name2value(n,t.style),t},e.getRequestParams=function(){var e=window.location.search.substr(1);if(!e)return{};for(var t={},n=e.split("&"),r=0;r<n.length;r++){var a=n[r].split("=");t[a[0]]=decodeURIComponent(a[1])}return t},e.name2value=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},e.callQueueFunction=function(e){for(;e.length;){var t=e.shift();if("function"==typeof t){if(0===e.length)return t();t()}}},e.copyFunctionQueue=function(e){var t=[];if(e instanceof Array)for(var n=e.length,r=0;r<n;r++)t[r]=e[r];return t},e.ENABLE_DEBUG=!1,e.LOG_DEBUG_TAG="[ LOG ]",e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),a=n(0),i=n(2),o=function(){function e(){}return e.hasLivePlayerFile=function(){return window.Player&&window.Player.VERSION()},e.hasJQuery=function(){return!!window.jQuery},e.hasNoFlashTipsComponent=function(){return!!window.NoFlashTips},e.hasSwfObject=function(){return!!window.swfobject},e.isFlashPlayerLoadComplete=function(e,t,n){void 0===n&&(n=null);var r=!1,i=0,o=0,s=Date.now(),l=function(e){clearTimeout(i),clearTimeout(o),n&&n(e)};if(window[t]=function(){r=!0,a.default.info({key:"[ Flash ]",value:"callback called. Elapsed: "+(Date.now()-s)+"ms"}),l(!0)},e.success){a.default.info({key:"[ Flash ]",value:"load complete. Elapsed: "+(Date.now()-s)+"ms"});var u=e.ref;!function e(){if(!r)try{if("function"==typeof u.PercentLoaded&&100===u.PercentLoaded())return void(o=window.setTimeout(function(){r||(window[t](),a.default.warn({key:"[ Flash ]",value:"manual execute callback"}))},2e3));if(Date.now()-s>5e3)return a.default.error({key:"[ Flash ]",value:"loading timeout"}),void l(!1);i=window.setTimeout(e,100)}catch(e){}}()}else l(!1)},e.hasFlashPlugin=function(){var e=!1,t=navigator.plugins,n=window.ActiveXObject;try{var r=n&&!1!==new n("ShockwaveFlash.ShockwaveFlash");e=void 0!==t&&"object"==typeof t["Shockwave Flash"]||r}catch(e){console.error("flash plugin detect error",e)}return e},e.isHTML5PlayerSupported=function(){return!(!function(){var e=!1;try{e=MediaSource&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}catch(e){console.error("mseFlvPlaybackDetect error",e)}return e}()||!function(){var e=!1;try{var t=new XMLHttpRequest;t.open("GET","https://example.com",!0),t.responseType="moz-chunked-arraybuffer",e="moz-chunked-arraybuffer"===t.responseType.toString()}catch(e){console.error("mozChunkedArrayBufferDetect error",e)}return e}()&&!function(){var e=!1;try{e=window.fetch&&ReadableStream&&function(){var e=!1;try{var t=navigator.userAgent.toLowerCase(),n=/(edge)\/([\w.]+)/.exec(t);if(n&&n[0]){var r=n[2]&&n[2].split(".")||[];if(r&&r.length){var a=parseInt(r[0],10),i=parseInt(r[1],10);a>=15&&i>=15048&&(e=!0)}}else e=!0}catch(e){console.error("msEdgeDetect error",e)}return e}()}catch(e){console.error("fetchStreamDetect error",e)}return e}())},e.isInPartsTesting=function(t){void 0===t&&(t="1.3");var n=!1;try{var o=r.detect(),s=o.version&&o.version.split("."),l=a.default.getLocalStorageItem(i.PLAYER_DATABASE_TYPE.LOCAL_NAME),u=a.default.getLocalStorageItem("LIVE_HTML5_PLAYER_PTK");if(l&&"html5"!==l.type&&u.version!==t){parseInt(s[0],10);o&&"chrome"===o.name?n=!0:o&&"firefox"===o.name&&(n=!0),e.hasFlashPlugin()||(n=!0),n=!0}n&&a.default.setLocalStorageItem("LIVE_HTML5_PLAYER_PTK",{version:t,status:!0,date:Date.now()})}catch(e){console.error("Using default HTML5 player error",e)}return n},e}();t.default=o},function(e,t,n){"use strict";var r,a,i,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HTML5="html5",e.FLASH="flash"}(r||(r={})),t.PLAYER_TYPE=r,function(e){e[e.HOME=0]="HOME",e[e.PAGE=1]="PAGE",e[e.SHARING=2]="SHARING",e[e.MOBILE=3]="MOBILE"}(a||(a={})),t.PLAYER_USAGE_TYPE=a,function(e){e.COOKIE_NAME="LIVE_PLAYER_TYPE",e.LOCAL_NAME="LIVE_PLAYER_STATUS",e.LOCAL_SWITCH_NAME="BILIBILI_LIVE_PLAYER_SWITCH_STATUS"}(i||(i={})),t.PLAYER_DATABASE_TYPE=i,function(e){e[e.HTML5=1]="HTML5",e[e.FLASH=2]="FLASH"}(o||(o={})),t.COOKIE_KEY=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="https://s1.hdslb.com/bfs/static/blive/live-assets/player",a="//s1.hdslb.com/bfs/static/player/live",i={jquery:r+"/libs/jquery/jquery-1.11.3.min.js",noFlashTips:r+"/libs/no-flash-tips.min.js",html5Player:a+"/loader/player-loader-latest.min.js",html5MobilePlayer:r+"/html5/mobile/lmplayer.min.js",swfObject:r+"/libs/swfobject.js",flashPagePlayer:a+"/flash/#{folder}pageplayer-#{version}.swf",flashHomePlayer:a+"/flash/#{folder}homeplayer-#{version}.swf",flashSharePlayer:a+"/flash/#{folder}shareplayer-#{version}.swf"};t.default=i},function(e,t,n){var r=n(5).default;e.exports=r,window.EmbedPlayer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(7),i=n(8),o=n(3),s=n(2),l=n(14),u=n(0),c=function(){function e(t){this.state={},this.eventsQueue={initEventQueue:[],onEventQueue:[],funcCallBufferQueue:[],setEventQueue:[]},this.player=null,this.requestParams=null,this.playerEventMap=null,this.playerEventSetMap=null,this.guid=this.getGUID(),this.returnObject=null,this.BUNDLE_TYPE="release",this.isRelease="release"===this.BUNDLE_TYPE;var n=this.isRelease?0:1;if(this.requestParams=u.default.getRequestParams(),u.default.ENABLE_DEBUG=!!(void 0===this.requestParams.debug?n:parseInt(this.requestParams.debug,10)),!e.instance)return u.default.info({key:"[ Loader ]",value:"begin."}),e.instance=this,this.verifyOptions(t).initializeConfig(t).bindLoaderProto().initialize(t),this.getLoaderReturn();u.default.error({key:"[ LivePlayerLoader ]",value:"LivePlayerLoader already exists"})}return e.loader=function(t){e.instance?e.instance.loader("",t):u.default.warn({key:"[ loader ]",value:"missing instance"})},e.reload=function(t){e.instance?e.instance.loader(e.instance.state.currentPlayerType,t):u.default.warn({key:"[ loader ]",value:"missing instance"})},e.prototype.loader=function(e,t){if(this.state.isStopPlayback)return!1;var n=e||this.config.typeMap[this.state.currentPlayerType];return this.state.switchCount++,this.destroyPlayer(),this.config.initTime=Math.floor(performance.now&&performance.now()||0),u.default.setCookie(s.PLAYER_DATABASE_TYPE.COOKIE_NAME,n===s.PLAYER_TYPE.HTML5?s.COOKIE_KEY.HTML5:s.COOKIE_KEY.FLASH,365),this.loadPlayer(n),"function"==typeof t&&t(),this.done(this.reinitCallbackQueue.bind(this),this.onOperableElementsChange.bind(this)),!0},e.prototype.reload=function(e){return this.loader(this.state.currentPlayerType,e),this.getLoaderReturn()},e.prototype.init=function(e,t){return this.player?(e&&t&&(this.eventsQueue.initEventQueue.push({action:e,data:t}),this.player&&this.player.init(e,t)),this.getLoaderReturn()):this.done(this.init.bind(this,e,t))},e.prototype.on=function(e,t){if(!this.player)return this.done(this.on.bind(this,e,t));if(e&&"function"==typeof t){var n=this.state.currentPlayerType;if("operableElementsChange"===e)return this.state.callbackMap.operableElementsChange.push(t),this.getLoaderReturn();if(this.eventsQueue.onEventQueue.push({action:e,callback:t}),n===s.PLAYER_TYPE.HTML5)"function"==typeof this.player.on&&this.player.on(e,t);else if(n===s.PLAYER_TYPE.FLASH){var r=this.getEventGUID();this.playerEventMap[r]={action:e,callback:t},this.player.on&&this.player.on(e,"_playerEventMap."+r+".callback")}}return this.getLoaderReturn()},e.prototype.set=function(e){if(!this.player)return this.done(this.set.bind(this,e));if(e&&e instanceof Object){var t=this.state.currentPlayerType;if(e.action&&"blockDanmaku"===e.action)-1===this.eventsQueue.setEventQueue.indexOf(e)&&this.eventsQueue.setEventQueue.push(e);if(t===s.PLAYER_TYPE.HTML5)"function"==typeof this.player.set&&this.player.set(e);else if(t===s.PLAYER_TYPE.FLASH){if(e.callback){var n=this.getEventGUID();this.playerEventSetMap[n]={callback:e.callback},e.callback="_playerEventSetMap."+n+".callback"}this.player.set&&this.player.set(e)}}return this.getLoaderReturn()},e.prototype.done=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.eventsQueue.funcCallBufferQueue.push.apply(this.eventsQueue.funcCallBufferQueue,e),this.player&&u.default.callQueueFunction(this.eventsQueue.funcCallBufferQueue),this.getLoaderReturn()},e.prototype.loadVideo=function(e){try{this.config.cid=e.cid,this.player&&this.player.loadVideo&&this.player.loadVideo(e)}catch(e){u.default.error({key:"[ loadVideo ]",value:e.message})}},e.prototype.changeUIStatus=function(e){try{void 0!==e.logo&&(this.state.UIState.logo=e.logo),void 0!==e.recommend&&(this.state.UIState.recommend=e.recommend),void 0!==e.feedback&&(this.state.UIState.feedback=e.feedback),void 0!==e.tipsText&&(this.state.UIState.tipsText=e.tipsText),this.player&&this.player.changeUIStatus&&this.player.changeUIStatus(this.state.UIState)}catch(e){u.default.error({key:"[ loadVideo ]",value:e.message})}},e.prototype.addLoadingPicture=function(e){this.player||this.done(this.addLoadingPicture.bind(this,e));try{this.config.loadingPicture=e,this.player&&this.player.addLoadingPicture&&this.player.addLoadingPicture(e)}catch(e){u.default.error({key:"[ addLoadingPicture ]",value:e.message})}},e.prototype.destroy=function(){this.destroyPlayer(),e.instance=null,e.playerInstance=null},e.prototype.getPlayerInfo=function(){try{return this.player&&this.player.getPlayerInfo&&this.player.getPlayerInfo()}catch(e){u.default.error({key:"[ getPlayerInfo ]",value:e.message})}},e.prototype.stopPlayback=function(e){try{this.state.isStopPlayback=!0,this.player.stopPlayback(e)}catch(e){return u.default.error({key:"[ stopPlayback ]",value:e.message}),!1}},e.prototype.getOperableElements=function(){try{return this.state.currentPlayerType===s.PLAYER_TYPE.HTML5?"function"==typeof this.player.getOperableElements&&this.player.getOperableElements():this.state.operableElements}catch(e){u.default.error({key:"[ getOperableElements ]",value:e.message})}},e.prototype.notifyInOperation=function(e){void 0===e&&(e=!0);try{this.state.currentPlayerType===s.PLAYER_TYPE.HTML5?"function"==typeof this.player.notifyInOperation&&this.player.notifyInOperation(e):this.toggleFlashOperableElements(e)}catch(e){u.default.error({key:"[ notifyInOperation ]",value:e.message})}},e.prototype.notifyAnnouncement=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=100);try{this.player&&this.player.notifyAnnouncement&&this.player.notifyAnnouncement(e,t)}catch(e){u.default.error({key:"[ notifyAnnouncement ]",value:e.message})}},e.prototype.initialize=function(e){var t=this;if(!r.default.hasJQuery()){var n=u.default.replacePathVersion(o.default.jquery,this.version.jquery);return u.default.loadScript(n,function(){t.initialize(e)}),!1}return this.container=u.default.createWrapper(this.container,l.DEFAULT_OPTIONS.wrapperId),e.iframe&&u.default.createIframe(e.iframeSrc,{width:e.width,height:e.height},e,this.container,{width:!0,height:!0,iframe:!0,container:!0}),this.config.isInPartsTesting&&this.setConfig(s.PLAYER_TYPE.HTML5),this.state.currentPlayerType=this.adjustType(this.getConfig("type")),this.loadPlayer(this.state.currentPlayerType),this},e.prototype.loadPlayer=function(e,t){switch(void 0===e&&(e=s.PLAYER_TYPE.HTML5),void 0===t&&(t=!1),e){case s.PLAYER_TYPE.HTML5:this.config.isHTML5PlayerSupported?(this.setCurrentType(s.PLAYER_TYPE.HTML5),this.createHTML5Player(t)):this.config.onlyH5?this.showOnlyH5Tips():this.loadPlayer(s.PLAYER_TYPE.FLASH,t);break;case s.PLAYER_TYPE.FLASH:this.config.onlyH5?this.showOnlyH5Tips():(this.setCurrentType(s.PLAYER_TYPE.FLASH),this.createFlashPlayer(t));break;default:throw new Error("Unsupported Player Type "+e)}this.config.roomInitData=null,this.config.playurlData=null},e.prototype.createHTML5Player=function(e){var t=this;if(void 0===e&&(e=!1),r.default.hasLivePlayerFile())this.initializeHTML5Player();else{var n=this.state,a=this.getPlayerPath(s.PLAYER_TYPE.HTML5,e);u.default.loadScript(a,this.initializeHTML5Player.bind(this),function(){n.fallback&&t.createHTML5Player(!0),n.fallback=!1})}},e.prototype.checkHasFlashPlugin=function(e,t){var n=this;void 0===t&&(t=!1);var r=this.config;return!(!r.hasFlashPlugin&&this.state.currentPlayerType===s.PLAYER_TYPE.FLASH||t)||(new a.default(this.container,function(t){n.loadPlayer(s.PLAYER_TYPE.HTML5,e),"function"==typeof t&&t()},r.isHTML5PlayerSupported),!1)},e.prototype.createFlashPlayer=function(e){var t=this;void 0===e&&(e=!1);var n=this.config;if(this.checkHasFlashPlugin(e))if(r.default.hasSwfObject()){this.state.fallback=!0;var a=l.DEFAULT_PARAMS,i=this.getPlayerPath(s.PLAYER_TYPE.FLASH,e),c={cid:n.cid,rnd:n.rnd,type:n.type,p2p:n.p2p,fnPromiseMode:n.fnPromiseMode,changeMode:!!n.isHTML5PlayerSupported&&n.changeMode,versionRnd:n.versionRnd,initTime:n.initTime||performance.now&&performance.now(),loaderInitTime:performance.now&&performance.now(),onReady:n.onReady||l.DEFAULT_OPTIONS.flashPlayerCallbackFuncName,loadingPicture:n.loadingPicture,switchCount:this.state.switchCount};try{n.roomInitData&&(c.roomInitData=encodeURIComponent(JSON.stringify(n.roomInitData)))}catch(e){}try{c.UI=encodeURIComponent(JSON.stringify(this.state.UIState))}catch(e){}try{n.playurlData&&(c.playurlData=encodeURIComponent(JSON.stringify(n.playurlData)))}catch(e){}0===this.config.type&&(a.wmode="transparent");var f={swfUrl:i,container:this.container,width:"100%",height:"100%",version:"0",expressInstallSwfUrl:"",flashvars:c,params:a,attributes:{id:l.DEFAULT_OPTIONS.flashPlayerId}};this.initializeFlashPlayer(f)}else this.state.fallback&&u.default.loadScript(o.default.swfObject,function(){t.state.fallback=!1,t.createFlashPlayer(e)},function(){throw t.checkHasFlashPlugin(e,!0),new Error("Get SWFObject js file error")})},e.prototype.initializeHTML5Player=function(){var t=this.config,n=this.state;this.container.querySelector("object")&&(this.container.innerHTML=""),this.state.operableElements.mainElement=null,this.player=new window.Player($(this.container),{cid:t.cid,rnd:t.rnd,type:t.type,initTime:t.initTime,protover:t.protover,loaderInitTime:performance.now&&performance.now(),changeMode:!t.onlyH5&&t.changeMode,versionRnd:t.versionRnd,switchCount:this.state.switchCount,roomInitData:t.roomInitData,playurlData:t.playurlData,sendPanel:t.sendPanel,specialDanmakuHeight:t.specialDanmakuHeight,specialDanmakuUIDList:t.specialDanmakuUIDList,loadingPicture:t.loadingPicture,fnPromiseMode:t.fnPromiseMode,fnElementId:t.fnElementId,checkChasingFrame:t.checkChasingFrame,UI:n.UIState,mask:t.mask}),e.playerInstance=this.player,u.default.callQueueFunction(this.eventsQueue.funcCallBufferQueue)},e.prototype.initializeFlashPlayer=function(t){var n=this,a=t.swfUrl,i=t.container,o=t.width,s=t.height,l=t.version,c=t.expressInstallSwfUrl,f=t.flashvars,p=t.params,d=t.attributes,h=document.createElement("div");this.container.innerHTML="",h.id=d.id,i.appendChild(h),this.createFlashOperableElements(),window.swfobject.embedSWF(a,h.id,o,s,l,c,f,p,d,function(t){r.default.isFlashPlayerLoadComplete(t,f.onReady,function(r){r?(n.player=t.ref,e.playerInstance=n.player,u.default.callQueueFunction(n.eventsQueue.funcCallBufferQueue)):(n.state.fallback&&n.createFlashPlayer(!0),n.state.fallback=!1)})})},e.prototype.initializeConfig=function(e){return this.container=e.container,this.compatibleWithLinkHelper(),this.config=u.default.assign(l.DEFAULT_OPTIONS,{typeMap:{flash:s.PLAYER_TYPE.HTML5,html5:s.PLAYER_TYPE.FLASH},rnd:0,hasFlashPlugin:r.default.hasFlashPlugin(),isHTML5PlayerSupported:r.default.isHTML5PlayerSupported(),isInPartsTesting:r.default.isInPartsTesting(),mask:e.mask},e),e.UI=e.UI||{},this.state={currentPlayerType:this.getConfig("type"),fallback:!0,switchCount:0,operableElements:{mainElement:null},callbackMap:{operableElementsChange:[]},UIState:{logo:void 0===e.UI.logo||e.UI.logo,recommend:void 0===e.UI.recommend||e.UI.recommend,tipsText:e.UI.tipsText||null,feedback:void 0===e.UI.feedback||e.UI.feedback}},this.version={html5:{web:"1.10.4",mobile:"1.10.4"},flash:{home:"2.7.0",page:"2.7.1",share:"latest"},backup:"latest"},this.playerEventMap=window._playerEventMap={},this.playerEventSetMap=window._playerEventSetMap={},this},e.prototype.verifyOptions=function(e){return e&&e instanceof Object?e.container&&e.container instanceof HTMLElement?e.cid&&parseInt(""+e.cid,10)>0||u.default.error({key:"cid",value:e.cid}):u.default.error({key:"container",value:e.container}):u.default.error({key:"options",value:e}),this},e.prototype.getPlayerPath=function(e,t){void 0===t&&(t=!1);var n=this.config.type,r=e===s.PLAYER_TYPE.HTML5,a=t?this.version.backup:this.version.html5.web,i=""+o.default.html5Player;if(r)return u.default.replacePathVersion(i,a);switch(parseInt(n.toString(),10)){case s.PLAYER_USAGE_TYPE.PAGE:i=o.default.flashPagePlayer,a=this.version.flash.page;break;case s.PLAYER_USAGE_TYPE.HOME:i=o.default.flashHomePlayer,a=this.version.flash.home;break;case s.PLAYER_USAGE_TYPE.SHARING:i=o.default.flashSharePlayer,a=this.version.flash.share;break;default:throw new Error("[ getPlayerPath ] Unsupported Type")}return a=t?this.version.backup:a,u.default.replacePathVersion(""+i,a)},e.prototype.getConfig=function(e,t){return void 0===e&&(e="undefined"),void 0===t&&(t=s.PLAYER_DATABASE_TYPE.LOCAL_NAME),u.default.getLocalStorageItem(t,e)},e.prototype.setConfig=function(e,t){void 0===t&&(t=s.PLAYER_DATABASE_TYPE.LOCAL_NAME);var n=u.default.assign({type:l.DEFAULT_OPTIONS.defaultPlayerType},this.getConfig(t),{type:e,timeStamp:Date.now()});return u.default.setLocalStorageItem(t,n)},e.prototype.setCurrentType=function(e){return this.config.typeMap[e]?(this.state.currentPlayerType=e,this.setConfig(e),!0):(u.default.warn({key:"[ setCurrentType ]",value:"currentType distortion"}),!1)},e.prototype.adjustType=function(e){return this.config.typeMap[e]?e:s.PLAYER_TYPE.FLASH},e.prototype.getGUID=function(){var e=0;return function(){return e++}},e.prototype.getEventGUID=function(){return"player_event_"+this.guid()},e.prototype.bindLoaderProto=function(){var e=this,t=l.PLAYER_EVENTS_MAP,n=l.PLAYER_EVENTS_PROMISE_MAP,r=this,a=function(a){if(!Object.prototype.hasOwnProperty.call(t,a))return"continue";var i=t[a].slice(1);r[a]=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var l=e.state.currentPlayerType===s.PLAYER_TYPE.HTML5,c=i.slice(0),f=function(){try{return l?(c.push.apply(c,r),e.player[t[a][0]].apply(e.player,c)):n[a]&&0!==n[a].length&&e.config.fnPromiseMode?new Promise(function(t,n){var i=e.getEventGUID(),o=e.getEventGUID();e.playerEventMap[i]={callback:t.bind(e)},e.playerEventMap[o]={callback:n.bind(e)},r=r.concat(["_playerEventMap."+i+".callback","_playerEventMap."+o+".callback"]),e.player[a].apply(e.player,r)}):e.player[a].apply(e.player,r)}catch(e){u.default.error({key:"[ bindPlayerEvents ]",value:e.message})}};return n[a]&&n[a].length&&e.config.fnPromiseMode?f():(e.eventsQueue.funcCallBufferQueue.push(f),e.player?u.default.callQueueFunction(e.eventsQueue.funcCallBufferQueue):void 0)}};for(var i in t)a(i);return this},e.prototype.reinitCallbackQueue=function(){if(e.instance){var t=u.default.copyFunctionQueue(this.eventsQueue.initEventQueue),n=u.default.copyFunctionQueue(this.eventsQueue.onEventQueue),r=u.default.copyFunctionQueue(this.eventsQueue.setEventQueue),a=0,i=0;for(this.eventsQueue.onEventQueue=[],this.eventsQueue.initEventQueue=[],this.eventsQueue.setEventQueue=[],a=0,i=t.length;a<i;a++)this.init&&this.init(t[a].action,t[a].data);for(a=0,i=n.length;a<i;a++)this.on&&this.on(n[a].action,n[a].callback),"switchLine"===n[a].action&&n[a].callback(0);for(a=0,i=r.length;a<i;a++)this.set&&this.set(r[a])}},e.prototype.compatibleWithLinkHelper=function(){try{var e=u.default.getCookie(),t=u.default.getLocalStorageItem(s.PLAYER_DATABASE_TYPE.LOCAL_NAME);localStorage&&(e[s.PLAYER_DATABASE_TYPE.COOKIE_NAME]===s.COOKIE_KEY.FLASH?(u.default.setLocalStorageItem(s.PLAYER_DATABASE_TYPE.LOCAL_SWITCH_NAME,"true"),t.type="html5"):e[s.PLAYER_DATABASE_TYPE.COOKIE_NAME]===s.COOKIE_KEY.HTML5&&(t.type="flash")),u.default.setLocalStorageItem(s.PLAYER_DATABASE_TYPE.LOCAL_NAME,t)}catch(e){}},e.prototype.getLoaderReturn=function(){if(!this.isRelease)return this;if(this.returnObject)return this.returnObject;var e={};for(var t in l.PLAYER_EVENTS_MAP)Object.prototype.hasOwnProperty.call(l.PLAYER_EVENTS_MAP,t)&&(e[t]=this[t].bind(this));return e.on=this.on.bind(this),e.loader=this.loader.bind(this),e.reload=this.reload.bind(this),e.set=this.set.bind(this),e.init=this.init.bind(this),e.done=this.done.bind(this),e.loadVideo=this.loadVideo.bind(this),e.addLoadingPicture=this.addLoadingPicture.bind(this),e.getPlayerInfo=this.getPlayerInfo.bind(this),e.stopPlayback=this.stopPlayback.bind(this),e.destroy=this.destroy.bind(this),e.version=this.version,e.getOperableElements=this.getOperableElements.bind(this),e.notifyInOperation=this.notifyInOperation.bind(this),e.notifyAnnouncement=this.notifyAnnouncement.bind(this),e.changeUIStatus=this.changeUIStatus.bind(this),this.returnObject=e,e},e.prototype.destroyPlayer=function(){try{this.eventsQueue.funcCallBufferQueue.length=0,this.state.fallback=!0,this.state.currentPlayerType===s.PLAYER_TYPE.HTML5&&this.player&&"function"==typeof this.player.destroy&&this.player.destroy(),this.player=null,this.config.playurlData=null}catch(e){}},e.prototype.createFlashOperableElements=function(){try{var e=document.createElement("div");e.className="flash-player-operable-element";e.style.cssText="position: absolute; top: 0; left: 0; right: 0; bottom: 80px;z-index:-1;",this.state.operableElements={mainElement:e},this.container.appendChild(e)}catch(e){console.error("Create Flash Operable Elements Error",e)}},e.prototype.toggleFlashOperableElements=function(e){void 0===e&&(e=!0);try{this.state.operableElements&&this.state.operableElements.mainElement&&(this.state.operableElements.mainElement.style.zIndex=""+(e?99:-1))}catch(e){}},e.prototype.onOperableElementsChange=function(){try{var e=this.state.callbackMap.operableElementsChange,t=this.state.currentPlayerType===s.PLAYER_TYPE.HTML5?this.player.getOperableElements&&this.player.getOperableElements():this.getOperableElements();t?e&&e.length&&e.forEach(function(e){e(t)}):u.default.warn({key:"[ getNewOperableElements ]",value:"return undefined"})}catch(e){u.default.error({key:"[ onOperableElementsChange ]",value:e.message})}},e.prototype.showOnlyH5Tips=function(){new i.default({id:"js-player-decorator",url:"//s1.hdslb.com/bfs/static/player/img/h5.png",textList:["您当前的浏览器不支持HTML5播放器","请切换浏览器再试试哦~"]})},e.instance=null,e.playerInstance=null,e}();t.default=c},function(e,t,n){"use strict";function r(e){var t=i([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]]).filter(function(t){return t.rule&&t.rule.test(e)})[0];return t?t.name:null}function a(e){var t=i([["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/]]);if(!e)return null;var n=t.map(function(t){var n=t.rule.exec(e),r=n&&n[1].split(/[._]/).slice(0,3);return r&&r.length<3&&(r=r.concat(1===r.length?[0,0]:[0])),n&&{name:t.name,version:r.join("."),versionMajor:parseInt(r[0],10)}}).filter(Boolean)[0]||null;return n&&(n.os=r(e)),n}function i(e){return e.map(function(e){return{name:e[0],rule:e[1]}})}Object.defineProperty(t,"__esModule",{value:!0}),t.detect=function(){return"undefined"!=typeof navigator?a(navigator.userAgent):null},t.detectOS=r,t.parseUserAgent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),i=n(3),o=function(){function e(e,t,n){if(this._options={msg:"主人，未安装Flash插件，暂时无法观看直播，您可以…",msgSize:14,btnList:[{title:"下载Flash插件",type:"flash",theme:"red"}],miniType:1},null==e)throw new Error("Container Cannot be undefined or null");n&&this._options.btnList.push({title:"使用HTML5播放器",type:"html5",theme:"orange",onClick:t}),this.createNoFlashTips(e)}return e.prototype.createNoFlashTips=function(e){var t=this;r.default.hasNoFlashTipsComponent()?new window.NoFlashTips(e,this._options):a.default.loadScript(i.default.noFlashTips,function(){t.createNoFlashTips(e)},function(){a.default.error({key:"[ NoFlashTips ]",value:"Get NoFlashTips component fail."}),e.innerHTML="Flash 未安装或已禁用组件加载失败。",a.default.addStyle(e,{lineHeight:"500px",textAlign:"center",fontSize:"14px"})})},e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),n(9);var a=function(){function e(e){this.prefix="must-h5",this.config=r({textList:[]},e),this.container=document.querySelector("#"+this.config.id)||document.createElement("div"),this.init()}return e.prototype.init=function(){this.container.innerHTML=this.tpl()},e.prototype.tpl=function(){var e=this,t="";return this.config.textList.forEach(function(n){t+='<p class="'+e.prefix+'-text">'+n+"</p> "}),'<div class="'+this.prefix+'" >\n                <img class="'+this.prefix+'-img" src="'+this.config.url+'"> \n                '+t+"\n        </div>"},e.prototype.destroy=function(){},e}();t.default=a},function(e,t,n){var r=n(10);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(12)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(11)(!1)).push([e.i,".must-h5 {\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: #000;\n  color: #fff;\n  font-size: 16px;\n}\n.must-h5-img {\n  width: 60%;\n  max-width: 300px;\n  margin-bottom: 1em;\n}\n.must-h5-text {\n  margin: 0;\n  line-height: 2;\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([a]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(a=0;a<e.length;a++){var o=e[a];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){var r,a,i={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=r.apply(this,arguments)),a}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),l=null,u=0,c=[],f=n(13);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i[r.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](r.parts[o]);for(;o<r.parts.length;o++)a.parts.push(E(r.parts[o],t))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(E(r.parts[o],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},a=0;a<e.length;a++){var i=e[a],o=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=s(e.insertAt.before,n);n.insertBefore(t,a)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return m(t,e.attrs),h(e,t),t}function m(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function E(e,t){var n,r,a,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var o=u++;n=l||(l=v(t)),r=b.bind(null,n,o,!1),a=b.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,a=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||i)&&(r=f(r));a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,t),a=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),a=function(){y(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return p(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var o=n[a];(s=i[o.id]).refs--,r.push(s)}e&&p(d(e,t),t);for(a=0;a<r.length;a++){var s;if(0===(s=r[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var g,P=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function b(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=P(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(a=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLAYER_EVENTS_MAP={play:["play"],pause:["pause"],resize:["resize"],sendDanmaku:["sendDanmaku"],sendGift:["sendGift"],noticeGift:["noticeGift"],noticeGuard:["noticeGuard"],sendGiftStatus:["sendGiftStatus"],switchLine:["switchLine"],switchQuality:["switchQuality"],stop:["stop"],mute:["mute"],injectInitAPIData:["injectInitAPIData"],getPlaybackDelay:["getPlaybackDelay"],setProtectPlaybackRate:["setProtectPlaybackRate"],setChasingFrameThreshold:["setChasingFrameThreshold"],setPlaybackRate:["setPlaybackRate"],getPlaybackRate:["getPlaybackRate"],mock:["mock"]};t.PLAYER_EVENTS_PROMISE_MAP={sendDanmaku:["sendDanmaku"]};t.DEFAULT_PARAMS={allowfullscreen:"true",allowscriptaccess:"always",allowfullscreeninteractive:"true",quality:"high",wmode:"direct"};t.DEFAULT_OPTIONS={wrapperId:"js-player-decorator",html5PlayerId:"player_object",flashPlayerId:"swfobject_placeholder",flashPlayerCallbackFuncName:"flash_on_ready_callback",defaultPlayerType:"flash",iframe:!1,type:1,changeMode:!0,p2p:0,versionRnd:0,width:"100%",height:"100%",devModule:!1,crossOrigin:!1,roomInitData:{},fnPromiseMode:!1}}])});

/*!
* Bilibili HTML5 Live Player v1.10.4 (311-50618c46)
* 
* Copyright 2016 - 2020 bilibili, Inc.
* Released in Mon Mar 30 2020 15:59:00 GMT+0800 (GMT+08:00)
*/

!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}({23:function(e,t,n){try{var i=n(24),r=n(25),a=n(26);n(27)(window.jQuery),window.flvjs=i,window.Clipboard=r,window.DanmakuWebSocket=a}catch(e){}},24:function(e,t){!function(n){"object"==typeof t&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define([],n):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).flvjs=n()}(function(){return function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){return r(t[o][1][e]||e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){var i=Object.create||function(e){var t=function(){};return t.prototype=e,new t},r=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},a=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=o).EventEmitter=o).prototype._events=void 0,o.prototype._maxListeners=void 0;var s,u=10;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),s=0===l.x}catch(e){s=!1}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var a,o,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]):(o=e._events=i(null),e._eventsCount=0),s){if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(a=c(e))&&0<a&&s.length>a){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else s=o[t]=n,++e._eventsCount;return e}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=a.call(h,i);return r.listener=n,i.wrapFn=r}function _(e,t,n){var i=e._events;if(!i)return[];var r=i[t];return r?"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):p(r,r.length):[]}function m(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function p(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}s?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');u=e}}):o.defaultMaxListeners=u,o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){var t,n,i,r,a,o,s="error"===e;if(o=this._events)s=s&&null==o.error;else if(!s)return!1;if(s){if(1<arguments.length&&(t=arguments[1]),t instanceof Error)throw t;var u=new Error('Unhandled "error" event. ('+t+")");throw u.context=t,u}if(!(n=o[e]))return!1;var l="function"==typeof n;switch(i=arguments.length){case 1:!function(e,t,n){if(l)e.call(n);else for(var i=e.length,r=p(e,i),a=0;a<i;++a)r[a].call(n)}(n,0,this);break;case 2:!function(e,t,n,i){if(t)e.call(n,i);else for(var r=e.length,a=p(e,r),o=0;o<r;++o)a[o].call(n,i)}(n,l,this,arguments[1]);break;case 3:!function(e,t,n,i,r){if(t)e.call(n,i,r);else for(var a=e.length,o=p(e,a),s=0;s<a;++s)o[s].call(n,i,r)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,i,r,a){if(t)e.call(n,i,r,a);else for(var o=e.length,s=p(e,o),u=0;u<o;++u)s[u].call(n,i,r,a)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),a=1;a<i;a++)r[a-1]=arguments[a];!function(e,t,n,i){if(l)e.apply(n,i);else for(var r=e.length,a=p(e,r),o=0;o<r;++o)a[o].apply(n,i)}(n,0,this,r)}return!0},o.prototype.on=o.prototype.addListener=function(e,t){return d(this,e,t,!1)},o.prototype.prependListener=function(e,t){return d(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,a,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=i(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,a=o;break}if(a<0)return this;0===a?n.shift():function(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.removeAllListeners=function(e){var t,n,a;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=i(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=i(null):delete n[e]),this;if(0===arguments.length){var o,s=r(n);for(a=0;a<s.length;++a)"removeListener"!==(o=s[a])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(a=t.length-1;0<=a;a--)this.removeListener(e,t[a]);return this},o.prototype.listeners=function(e){return _(this,e,!0)},o.prototype.rawListeners=function(e){return _(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},o.prototype.listenerCount=m,o.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],2:[function(e,t,n){(function(t,i){var r=e("process/browser.js").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,s={},u=0;function l(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new l(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,i=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,r(function(){s[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof i?i:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":3,timers:2}],3:[function(e,t,n){var i,r,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],d=!1,h=-1;function f(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&_())}function _(){if(!d){var e=u(f);d=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||d||u(_)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],4:[function(e,t,n){(function(e,t){!function(){"use strict";function n(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}var i=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function a(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(n){return void l(t.promise,n)}u(t.promise,i)}else(1===e._state?u:l)(t.promise,e._value)})):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void h((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){l(e,t)}var i,r}function l(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,l(t,e))})}catch(e){if(n)return;n=!0,l(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(a);return s(this,new d(e,t,n)),n},o.prototype.finally=n,o.all=function(e){return new o(function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var a=i.length;function o(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,function(t){o(e,t)},n)}i[e]=r,0==--a&&t(i)}catch(r){n(r)}}for(var s=0;s<i.length;s++)o(s,i[s])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,a=e.length;i<a;i++)o.resolve(e[i]).then(t,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){i(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var f=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in f?f.Promise.prototype.finally||(f.Promise.prototype.finally=n):f.Promise=o}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:2}],5:[function(e,t,n){var i=arguments[3],r=arguments[4],a=arguments[5],o=JSON.stringify;t.exports=function(e,t){for(var n,s=Object.keys(a),u=0,l=s.length;u<l;u++){var c=s[u],d=a[c].exports;if(d===e||d&&d.default===e){n=c;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var h={};for(u=0,l=s.length;u<l;u++)h[c=s[u]]=c;r[n]=["function(require,module,exports){"+e+"(self); }",h]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),_={};_[n]=n,r[f]=["function(require,module,exports){var f = require("+o(n)+");(f.default ? f.default : f)(self);}",_];var m={};!function e(t){for(var n in m[t]=!0,r[t][1]){var i=r[t][1][n];m[i]||e(i)}}(f);var p="("+i+")({"+Object.keys(m).map(function(e){return o(e)+":["+r[e][0]+","+o(r[e][1])+"]"}).join(",")+"},{},["+o(f)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,g=new Blob([p],{type:"text/javascript"});if(t&&t.bare)return g;var y=v.createObjectURL(g),b=new Worker(y);return b.objectURL=y,b}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=u(e("../remux/mp4-remuxer.js")),r=u(e("../core/mse-controller.js")),a=u(e("../core/mse-events.js")),o=u(e("../utils/utils.js")),s=u(e("../utils/browser.js"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._clipMediaElement=null,this._msectlClip=null,this._clipRemuxer=null,this._saveClipRemuxer=null,this._pendingSeekTime=null,this._requestSetTime=!1,this._receivedCanPlay=!1,this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)}}var t,n;return t=e,(n=[{key:"checkClipCacheData",value:function(e){return!!(e&&e.audioMetadata&&e.videoMetadata&&e.clipCacheTrack&&e.clipCacheTrack.videoTrack&&e.clipCacheTrack.videoTrack.length&&e.clipCacheTrack.audioTrack&&e.clipCacheTrack.audioTrack.length)}},{key:"clip",value:function(e,t,n){if(!this.checkClipCacheData(e))return!1;if(isNaN(t)||isNaN(n)||t<0||n<=0||n<=t)return!1;t=+t,n=+n,e=o.default.cloneDeep(e,!0);var i=o.default.cloneDeep(e.clipCacheTrack.keyframeTimeList,!0);if(!i||!i.length)return!1;i.push(this.getDuration(e)+i[0]);var r=0,a=0;t+=i[0],n+=i[0];for(var s=1;s<i.length;s++)Math.abs(t-i[s])<Math.abs(t-i[r])&&(r=s),n>=i[s]&&(a=s);if(r>=i.length-1||a<r)return!1;for(var u={keyframeTimeList:[],videoTrack:[],videoLengthList:[],audioTrack:[],audioLengthList:[]},l=r;l<a;l++)u.keyframeTimeList.push(e.clipCacheTrack.keyframeTimeList[l]),u.videoTrack.push(e.clipCacheTrack.videoTrack[l]),u.videoLengthList.push(e.clipCacheTrack.videoLengthList[l]),u.audioTrack.push(e.clipCacheTrack.audioTrack[l]),u.audioLengthList.push(e.clipCacheTrack.audioLengthList[l]);if(a<i.length-1){for(var c=[],d=[],h=0,f=0,_=0;_<e.clipCacheTrack.audioTrack[a].length;_++){var m=e.clipCacheTrack.audioTrack[a][_];if(n<m.dts)break;c.push(m),h+=m.unit.length}for(var p=0;p<e.clipCacheTrack.videoTrack[a].length;p++){var v=e.clipCacheTrack.videoTrack[a][p];if(n<v.dts)break;d.push(v),f+=v.length}h&&f&&(u.keyframeTimeList.push(e.clipCacheTrack.keyframeTimeList[a]),u.videoTrack.push(d),u.videoLengthList.push(f),u.audioTrack.push(c),u.audioLengthList.push(h))}return!(!u.videoTrack.length||!u.audioTrack.length)&&(e.clipCacheTrack=u,e)}},{key:"setData",value:function(e,t,n){var s=this;if(!t||!this.checkClipCacheData(e))return!1;this.destroy(),e=o.default.cloneDeep(e,!0),t=o.default.cloneDeep(t,!0);var u=e.audioMetadata,l=e.videoMetadata,c=e.clipCacheTrack,d=c.videoTrack.length,h=this.getDuration(e);h&&(l.duration=u.duration=h),(this._clipMediaElement=n).addEventListener("loadedmetadata",this.e.onvLoadedMetadata),n.addEventListener("seeking",this.e.onvSeeking),n.addEventListener("canplay",this.e.onvCanPlay),n.addEventListener("stalled",this.e.onvStalled),n.addEventListener("progress",this.e.onvProgress),t.isLive=!1,this._msectlClip=new r.default(t),this._msectlClip.attachMediaElement(this._clipMediaElement);var f={video:[],audio:[]},_={onDataAvailable:function(){},onTrackMetadata:function(){}};this._clipRemuxer=new i.default(t),this._clipRemuxer.isClipRemux=!0,this._clipRemuxer.bindDataSource(_),this._clipRemuxer.onInitSegment=function(e,t){f[e].push(t),s._msectlClip.appendInitSegment(t)},this._clipRemuxer.onMediaSegment=function(e,t){f[e].push(t)},_.onTrackMetadata("audio",u),_.onTrackMetadata("video",l);for(var m=0;m<d;m++){var p={type:"video",id:1,sequenceNumber:0,samples:[],length:0},v={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};p.samples=p.samples.concat(c.videoTrack[m]),p.length+=c.videoLengthList[m],v.samples=v.samples.concat(c.audioTrack[m]),v.length+=c.audioLengthList[m],_.onDataAvailable(v,p)}this._msectlClip.on(a.default.SOURCE_OPEN,function(){var e=function(e){if(f.hasOwnProperty(e)){var t=f[e][0];s._msectlClip.appendInitSegment(t),f[e].forEach(function(t,n){0<n&&s._msectlClip.appendMediaSegment(t),n==f[e].length-1&&s._msectlClip.endOfStream()})}};for(var t in f)e(t)})}},{key:"destroy",value:function(){this._requestSetTime=!1,this._receivedCanPlay=!1,this.detachMediaElement(),this._clipRemuxer&&(this._clipRemuxer.destroy(),this._clipRemuxer=null),this._saveClipRemuxer&&(this._saveClipRemuxer.destroy(),this._saveClipRemuxer=null)}},{key:"detachMediaElement",value:function(){this._clipMediaElement&&(this._msectlClip&&this._msectlClip.detachMediaElement(),this._clipMediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._clipMediaElement.removeEventListener("seeking",this.e.onvSeeking),this._clipMediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._clipMediaElement.removeEventListener("stalled",this.e.onvStalled),this._clipMediaElement.removeEventListener("progress",this.e.onvProgress),this._clipMediaElement.pause(),this._clipMediaElement=null),this._msectlClip&&(this._msectlClip.destroy(),this._msectlClip=null)}},{key:"save",value:function(e,t,n){if(!t||!this.checkClipCacheData(e))return!1;e=o.default.cloneDeep(e,!0),t=o.default.cloneDeep(t,!0);var r=e.audioMetadata,a=e.videoMetadata,s=e.clipCacheTrack;t.isLive=!1;var u={onDataAvailable:function(){},onTrackMetadata2:function(){}},l=null;if(this._saveClipRemuxer=new i.default(t),this._saveClipRemuxer.isClipRemux=!0,this._saveClipRemuxer.bindDataSource(u),this._saveClipRemuxer.onInitSegment=function(e,t){"video"===e&&(l=o.default.concatArrayBuffer(l,t.data))},this._saveClipRemuxer.onMediaSegment=function(e,t){l=o.default.concatArrayBuffer(l,t.data)},"mp4a.40.5"===r.codec){var c=new Array(2),d=r.channelCount,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350].indexOf(r.audioSampleRate);-1!==h&&(c[0]=16,c[0]|=(15&h)>>>1,c[1]=(15&h)<<7,c[1]|=(15&d)<<3,r.config=c,r.codec="mp4a.40.2")}a.duration=r.duration=0,u.onTrackMetadata2(r,a);for(var f=s.videoTrack.length,_=0;_<f;_++){var m={type:"video",id:1,sequenceNumber:0,samples:[],length:0},p={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};if(m.samples=m.samples.concat(s.videoTrack[_]),m.length+=s.videoLengthList[_],m.sequenceNumber=2*_+1,p.samples=p.samples.concat(s.audioTrack[_]),p.length+=s.audioLengthList[_],p.sequenceNumber=2*_+2,u.onDataAvailable(p,m),_===f-1){var v="fragment.mp4";n&&"string"==typeof n&&(v=n),".mp4"!==v.slice(-4)&&(v+=".mp4"),o.default.downloadFile(v,l)}}return!0}},{key:"getDuration",value:function(e){if(!this.checkClipCacheData(e))return NaN;var t=e.clipCacheTrack,n=t.videoTrack.length,i=t.videoTrack[n-1].length;return t.videoTrack[0].length&&i?t.videoTrack[n-1][i-1].dts-t.videoTrack[0][0].dts:NaN}},{key:"play",value:function(){return!!this._clipMediaElement&&this._clipMediaElement.play()}},{key:"pause",value:function(){this._clipMediaElement&&this._clipMediaElement.pause()}},{key:"_internalSeek",value:function(e){var t=!1,n=0;if(e<1&&0<this._clipMediaElement.buffered.length){var i=this._clipMediaElement.buffered.start(0);(i<1&&e<i||s.default.safari)&&(t=!0,n=s.default.safari?i+.1:i)}this._requestSetTime=!0,this._clipMediaElement.currentTime=t?n:e}},{key:"_onvLoadedMetadata",value:function(e){this._clipMediaElement&&null!=this._pendingSeekTime&&(this._clipMediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}},{key:"_onvSeeking",value:function(e){if(this._clipMediaElement)if(this._requestSetTime)this._requestSetTime=!1;else{var t=this._clipMediaElement.currentTime,n=this._clipMediaElement.buffered;if(t<1&&0<n.length){var i=n.start(0);if(i<1&&t<i||s.default.safari)return this._requestSetTime=!0,void(this._clipMediaElement.currentTime=s.default.safari?i+.1:i)}}}},{key:"_onvCanPlay",value:function(e){this._clipMediaElement&&(this._receivedCanPlay=!0,this._clipMediaElement.removeEventListener("canplay",this.e.onvCanPlay))}},{key:"_onvStalled",value:function(e){this._checkAndResumeStuckPlayback(!0)}},{key:"_onvProgress",value:function(e){this._checkAndResumeStuckPlayback()}},{key:"_checkAndResumeStuckPlayback",value:function(e){var t=this._clipMediaElement;if(!t)return!1;if(e||!this._receivedCanPlay||t.readyState<2){var n=t.buffered;if(0<n.length&&t.currentTime<n.start(0)){var i=s.default.safari?n.start(0)+.1:n.start(0);this._requestSetTime=!0,this._clipMediaElement.currentTime=i,this._clipMediaElement.removeEventListener("progress",this.e.onvProgress)}}else this._clipMediaElement.removeEventListener("progress",this.e.onvProgress)}},{key:"duration",get:function(){return this._clipMediaElement?this._clipMediaElement.duration:0}},{key:"volume",get:function(){return this._clipMediaElement?this._clipMediaElement.volume:1},set:function(e){this._clipMediaElement&&(this._clipMediaElement.volume=e)}},{key:"muted",get:function(){return!!this._clipMediaElement&&this._clipMediaElement.muted},set:function(e){this._clipMediaElement&&(this._clipMediaElement.muted=e)}},{key:"currentTime",get:function(){return this._clipMediaElement?this._clipMediaElement.currentTime:0},set:function(e){this._clipMediaElement?this._internalSeek(e):this._pendingSeekTime=e}},{key:"paused",get:function(){return!this._clipMediaElement||this._clipMediaElement.paused}}])&&l(t.prototype,n),e}();n.default=c},{"../core/mse-controller.js":11,"../core/mse-events.js":12,"../remux/mp4-remuxer.js":41,"../utils/browser.js":42,"../utils/utils.js":48}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={enableWorker:!(n.createDefaultConfig=function(){return Object.assign({},i)}),enableStashBuffer:!(n.defaultConfig=void 0),stashInitialSize:void 0,isLive:!1,clipCacheEnabled:!1,clipCacheDuration:30,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};n.defaultConfig=i},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("../io/io-controller.js"))&&i.__esModule?i:{default:i},a=e("../config.js");function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n;return t=e,n=[{key:"supportMSEH264Playback",value:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"supportNetworkStreamIO",value:function(){var e=new r.default({},(0,a.createDefaultConfig)()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t}},{key:"getNetworkLoaderTypeName",value:function(){var e=new r.default({},(0,a.createDefaultConfig)()),t=e.loaderType;return e.destroy(),t}},{key:"supportNativeMediaPlayback",value:function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var n=e.videoElement.canPlayType(t);return"probably"===n||"maybe"==n}},{key:"getFeatureList",value:function(){var t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t}}],null&&o(t.prototype,null),n&&o(t,n),e}();n.default=s},{"../config.js":7,"../io/io-controller.js":26}],9:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}var t,n;return t=e,(n=[{key:"isComplete",value:function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t}},{key:"isSeekable",value:function(){return!0===this.hasKeyframesIndex}},{key:"getNearestKeyframe",value:function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,n=this._search(t.times,e);return{index:n,milliseconds:t.times[n],fileposition:t.filepositions[n]}}},{key:"_search",value:function(e,t){var n=0,i=e.length-1,r=0,a=0,o=i;for(t<e[0]&&(n=0,a=o+1);a<=o;){if((r=a+Math.floor((o-a)/2))===i||t>=e[r]&&t<e[r+1]){n=r;break}e[r]<t?a=r+1:o=r-1}return n}}])&&i(t.prototype,n),e}();n.default=r},{}],10:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaSegmentInfoList=n.IDRSampleList=n.MediaSegmentInfo=n.SampleInfo=void 0,n.SampleInfo=function e(t,n,i,r,o){a(this,e),this.dts=t,this.pts=n,this.duration=i,this.originalDts=r,this.isSyncPoint=o,this.fileposition=null};var o=function(){function e(){a(this,e),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return r(e,[{key:"appendSyncPoint",value:function(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}]),e}();n.MediaSegmentInfo=o;var s=function(){function e(){a(this,e),this._list=[]}return r(e,[{key:"clear",value:function(){this._list=[]}},{key:"appendArray",value:function(e){var t=this._list;0!==e.length&&(0<t.length&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}},{key:"getLastSyncPointBeforeDts",value:function(e){if(0==this._list.length)return null;var t=this._list,n=0,i=t.length-1,r=0,a=0,o=i;for(e<t[0].dts&&(n=0,a=o+1);a<=o;){if((r=a+Math.floor((o-a)/2))===i||e>=t[r].dts&&e<t[r+1].dts){n=r;break}t[r].dts<e?a=r+1:o=r-1}return this._list[n]}}]),e}();n.IDRSampleList=s;var u=function(){function e(t){a(this,e),this._type=t,this._list=[],this._lastAppendLocation=-1}return r(e,[{key:"isEmpty",value:function(){return 0===this._list.length}},{key:"clear",value:function(){this._list=[],this._lastAppendLocation=-1}},{key:"_searchNearestSegmentBefore",value:function(e){var t=this._list;if(0===t.length)return-2;var n=t.length-1,i=0,r=0,a=n,o=0;if(e<t[0].originalBeginDts)return-1;for(;r<=a;){if((i=r+Math.floor((a-r)/2))===n||e>t[i].lastSample.originalDts&&e<t[i+1].originalBeginDts){o=i;break}t[i].originalBeginDts<e?r=i+1:a=i-1}return o}},{key:"_searchNearestSegmentAfter",value:function(e){return this._searchNearestSegmentBefore(e)+1}},{key:"append",value:function(e){var t=this._list,n=e,i=this._lastAppendLocation,r=0;-1!==i&&i<t.length&&n.originalBeginDts>=t[i].lastSample.originalDts&&(i===t.length-1||i<t.length-1&&n.originalBeginDts<t[i+1].originalBeginDts)?r=i+1:0<t.length&&(r=this._searchNearestSegmentBefore(n.originalBeginDts)+1),this._lastAppendLocation=r,this._list.splice(r,0,n)}},{key:"getLastSegmentBefore",value:function(e){var t=this._searchNearestSegmentBefore(e);return 0<=t?this._list[t]:null}},{key:"getLastSampleBefore",value:function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}},{key:"getLastSyncPointBefore",value:function(e){for(var t=this._searchNearestSegmentBefore(e),n=this._list[t].syncPoints;0===n.length&&0<t;)t--,n=this._list[t].syncPoints;return 0<n.length?n[n.length-1]:null}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}}]),e}();n.MediaSegmentInfoList=u},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(e("events")),r=l(e("../utils/logger.js")),a=l(e("../utils/browser.js")),o=l(e("./mse-events.js")),s=e("./media-segment-info.js"),u=e("../utils/exception.js");function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="MSEController",this._config=t,this._emitter=new i.default,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new s.IDRSampleList}var t,n;return t=e,(n=[{key:"destroy",value:function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){if(this._mediaSource)throw new u.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL}},{key:"detachMediaElement",value:function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var n=this._pendingSegments[t];n.splice(0,n.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var i=this._sourceBuffers[t];if(i){if("closed"!==e.readyState){try{e.removeSourceBuffer(i)}catch(e){r.default.e(this.TAG,e.message)}i.removeEventListener("error",this.e.onSourceBufferError),i.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){r.default.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}},{key:"appendInitSegment",value:function(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var n=e,i="".concat(n.container);n.codec&&0<n.codec.length&&(i+=";codecs=".concat(n.codec));var s=!1;if(r.default.v(this.TAG,"Received Initialization Segment, mimeType: "+i),this._lastInitSegments[n.type]=n,i!==this._mimeTypes[n.type]){if(this._mimeTypes[n.type])r.default.v(this.TAG,"Notice: ".concat(n.type," mimeType changed, origin: ").concat(this._mimeTypes[n.type],", target: ").concat(i));else{s=!0;try{var u=this._sourceBuffers[n.type]=this._mediaSource.addSourceBuffer(i);u.addEventListener("error",this.e.onSourceBufferError),u.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return r.default.e(this.TAG,e.message),void this._emitter.emit(o.default.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[n.type]=i}t||this._pendingSegments[n.type].push(n),s||this._sourceBuffers[n.type]&&!this._sourceBuffers[n.type].updating&&this._doAppendSegments(),a.default.safari&&"audio/mpeg"===n.container&&0<n.mediaDuration&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=n.mediaDuration/1e3,this._updateMediaSourceDuration())}},{key:"appendMediaSegment",value:function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var n=this._sourceBuffers[t.type];!n||n.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}},{key:"seek",value:function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var n=this._sourceBuffers[t];if("open"===this._mediaSource.readyState)try{n.abort()}catch(e){r.default.e(this.TAG,e.message)}this._idrList.clear();var i=this._pendingSegments[t];if(i.splice(0,i.length),"closed"!==this._mediaSource.readyState){for(var o=0;o<n.buffered.length;o++){var s=n.buffered.start(o),u=n.buffered.end(o);this._pendingRemoveRanges[t].push({start:s,end:u})}if(n.updating||this._doRemoveRanges(),a.default.safari){var l=this._lastInitSegments[t];l&&(this._pendingSegments[t].push(l),n.updating||this._doAppendSegments())}}}}},{key:"endOfStream",value:function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}},{key:"getNearestKeyframe",value:function(e){return this._idrList.getLastSyncPointBeforeDts(e)}},{key:"_needCleanupSourceBuffer",value:function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var n=this._sourceBuffers[t];if(n){var i=n.buffered;if(1<=i.length&&e-i.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}},{key:"_doCleanupSourceBuffer",value:function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var n=this._sourceBuffers[t];if(n){for(var i=n.buffered,r=!1,a=0;a<i.length;a++){var o=i.start(a),s=i.end(a);if(o<=e&&e<s+3){if(e-o>=this._config.autoCleanupMaxBackwardDuration){r=!0;var u=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:o,end:u})}}else s<e&&(r=!0,this._pendingRemoveRanges[t].push({start:o,end:s}))}r&&!n.updating&&this._doRemoveRanges()}}}},{key:"_updateMediaSourceDuration",value:function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,n=this._pendingMediaDuration;0<n&&(isNaN(t)||t<n)&&(r.default.v(this.TAG,"Update MediaSource duration from ".concat(t," to ").concat(n)),this._mediaSource.duration=n),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}}},{key:"_doRemoveRanges",value:function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],n=this._pendingRemoveRanges[e];n.length&&!t.updating;){var i=n.shift();t.remove(i.start,i.end)}}},{key:"_doAppendSegments",value:function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&0<e[t].length){var n=e[t].shift();if(n.timestampOffset){var i=this._sourceBuffers[t].timestampOffset,a=n.timestampOffset/1e3;.1<Math.abs(i-a)&&(r.default.v(this.TAG,"Update MPEG audio timestampOffset from ".concat(i," to ").concat(a)),this._sourceBuffers[t].timestampOffset=a),delete n.timestampOffset}if(!n.data||0===n.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(n.data),this._isBufferFull=!1,"video"===t&&n.hasOwnProperty("info")&&this._idrList.appendArray(n.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(n),22===e.code?(this._isBufferFull||this._emitter.emit(o.default.BUFFER_FULL),this._isBufferFull=!0):(r.default.e(this.TAG,e.message),this._emitter.emit(o.default.ERROR,{code:e.code,msg:e.message}))}}}},{key:"_onSourceOpen",value:function(){if(r.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),0<this._pendingSourceBufferInit.length)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(o.default.SOURCE_OPEN)}},{key:"_onSourceEnded",value:function(){r.default.v(this.TAG,"MediaSource onSourceEnded")}},{key:"_onSourceClose",value:function(){r.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}},{key:"_hasPendingSegments",value:function(){var e=this._pendingSegments;return 0<e.video.length||0<e.audio.length}},{key:"_hasPendingRemoveRanges",value:function(){var e=this._pendingRemoveRanges;return 0<e.video.length||0<e.audio.length}},{key:"_onSourceBufferUpdateEnd",value:function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(o.default.UPDATE_END)}},{key:"_onSourceBufferError",value:function(e){r.default.e(this.TAG,"SourceBuffer Error: ".concat(e))}}])&&c(t.prototype,n),e}();n.default=d},{"../utils/browser.js":42,"../utils/exception.js":43,"../utils/logger.js":44,"./media-segment-info.js":10,"./mse-events.js":12,events:1}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"}},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=d(e("events")),r=d(e("../utils/logger.js")),a=d(e("../utils/logging-control.js")),o=d(e("./transmuxing-controller.js")),s=d(e("./transmuxing-events.js")),u=d(e("./transmuxing-worker.js")),l=d(e("./media-info.js")),c=e("../player/player-events.js");function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function t(n,l,d){var h=this;if(function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.TAG="Transmuxer",this._emitter=new i.default,this._mediaElement=d,l.enableWorker&&"undefined"!=typeof Worker)try{var f=e("webworkify");this._worker=f(u.default),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[n,l]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},a.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:a.default.getConfig()})}catch(d){r.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new o.default(n,l,this._mediaElement)}else this._controller=new o.default(n,l,this._mediaElement);if(this._controller){var _=this._controller;_.on(s.default.IO_ERROR,this._onIOError.bind(this)),_.on(s.default.DEMUX_ERROR,this._onDemuxError.bind(this)),_.on(s.default.INIT_SEGMENT,this._onInitSegment.bind(this)),_.on(s.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),_.on(s.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),_.on(s.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),_.on(s.default.MEDIA_INFO,this._onMediaInfo.bind(this)),_.on(s.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),_.on(s.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),_.on(s.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),_.on(s.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this)),_.on(c.OTHER_EVENTS_POLYMER,function(e){return h._emitter.emit(c.OTHER_EVENTS_POLYMER,e)}),_.on(s.default.GET_SEI_DATA,this._onParseMask.bind(this))}}var n,d;return n=t,(d=[{key:"destroy",value:function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),a.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}},{key:"getClipCacheData",value:function(){var e={};return this._controller&&(e=this._controller.getClipCacheData()),e}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"hasWorker",value:function(){return null!=this._worker}},{key:"open",value:function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}},{key:"close",value:function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}},{key:"seek",value:function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)}},{key:"pause",value:function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}},{key:"resume",value:function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}},{key:"_onInitSegment",value:function(e,t){var n=this;Promise.resolve().then(function(){n._emitter.emit(s.default.INIT_SEGMENT,e,t)})}},{key:"_onMediaSegment",value:function(e,t){var n=this;Promise.resolve().then(function(){n._emitter.emit(s.default.MEDIA_SEGMENT,e,t)})}},{key:"_onLoadingComplete",value:function(e,t,n){var i=this;Promise.resolve().then(function(){i._emitter.emit(s.default.LOADING_COMPLETE,e,t,n)})}},{key:"_onRecoveredEarlyEof",value:function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(s.default.RECOVERED_EARLY_EOF)})}},{key:"_onMediaInfo",value:function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(s.default.MEDIA_INFO,e)})}},{key:"_onMetaDataArrived",value:function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(s.default.METADATA_ARRIVED,e)})}},{key:"_onScriptDataArrived",value:function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(s.default.SCRIPTDATA_ARRIVED,e)})}},{key:"_onStatisticsInfo",value:function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(s.default.STATISTICS_INFO,e)})}},{key:"_onIOError",value:function(e,t){var n=this;Promise.resolve().then(function(){n._emitter.emit(s.default.IO_ERROR,e,t)})}},{key:"_onDemuxError",value:function(e,t){var n=this;Promise.resolve().then(function(){n._emitter.emit(s.default.DEMUX_ERROR,e,t)})}},{key:"_onRecommendSeekpoint",value:function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(s.default.RECOMMEND_SEEKPOINT,e)})}},{key:"_onLoggingConfigChanged",value:function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})}},{key:"_onParseMask",value:function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(s.default.GET_SEI_DATA,e)})}},{key:"_onWorkerMessage",value:function(e){var t=e.data,n=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case c.OTHER_EVENTS_POLYMER:this._emitter.emit(c.OTHER_EVENTS_POLYMER,n);break;case s.default.INIT_SEGMENT:case s.default.MEDIA_SEGMENT:this._emitter.emit(t.msg,n.type,n.data);break;case s.default.LOADING_COMPLETE:this._emitter.emit(t.msg,n.from,n.to,n.requestUrl);break;case s.default.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case s.default.MEDIA_INFO:Object.setPrototypeOf(n,l.default.prototype),this._emitter.emit(t.msg,n);break;case s.default.METADATA_ARRIVED:case s.default.SCRIPTDATA_ARRIVED:case s.default.STATISTICS_INFO:this._emitter.emit(t.msg,n);break;case s.default.IO_ERROR:case s.default.DEMUX_ERROR:this._emitter.emit(t.msg,n.type,n.info);break;case s.default.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,n);break;case"logcat_callback":r.default.emitter.emit("log",n.type,n.logcat)}}}])&&h(n.prototype,d),t}();n.default=f},{"../player/player-events.js":38,"../utils/logger.js":44,"../utils/logging-control.js":45,"./media-info.js":9,"./transmuxing-controller.js":14,"./transmuxing-events.js":15,"./transmuxing-worker.js":16,events:1,webworkify:5}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=f(e("events")),r=f(e("../utils/logger.js")),a=f(e("../utils/browser.js")),o=f(e("./media-info.js")),s=f(e("../demux/flv-demuxer.js")),u=f(e("../remux/mp4-remuxer.js")),l=f(e("../demux/demux-errors.js")),c=f(e("../io/io-controller.js")),d=f(e("./transmuxing-events.js")),h=(e("../io/loader.js"),e("../player/player-events.js"));function f(e){return e&&e.__esModule?e:{default:e}}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.TAG="TransmuxingController",this._emitter=new i.default,this._mediaElement=r,this._config=n,t.segments||(t.segments=[{duration:t.duration,filesize:t.filesize,url:t.url}]),"boolean"!=typeof t.cors&&(t.cors=!0),"boolean"!=typeof t.withCredentials&&(t.withCredentials=!1),this._mediaDataSource=t;var a=this._currentSegmentIndex=0;this._mediaDataSource.segments.forEach(function(e){e.timestampBase=a,a+=e.duration,e.cors=t.cors,e.withCredentials=t.withCredentials,n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy)}),isNaN(a)||this._mediaDataSource.duration===a||(this._mediaDataSource.duration=a),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}var t,n;return t=e,(n=[{key:"destroy",value:function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}},{key:"getClipCacheData",value:function(){var e={};return this._demuxer&&(e=this._demuxer.getClipCacheData()),e}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"start",value:function(){this._loadSegment(0),this._enableStatisticsReporter()}},{key:"_loadSegment",value:function(e,t){var n=this;this._currentSegmentIndex=e;var i=this._mediaDataSource.segments[e],r=this._ioctl=new c.default(i,this._config,e,this._mediaElement);r.onError=this._onIOException.bind(this),r.onSeeked=this._onIOSeeked.bind(this),r.onComplete=this._onIOComplete.bind(this),r.onRedirect=this._onIORedirect.bind(this),r.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),r.on(h.OTHER_EVENTS_POLYMER,function(e){return n._emitter.emit(h.OTHER_EVENTS_POLYMER,e)}),t?this._demuxer.bindDataSource(this._ioctl):r.onDataArrival=this._onInitChunkArrival.bind(this),r.open(t)}},{key:"stop",value:function(){this._internalAbort(),this._disableStatisticsReporter()}},{key:"_internalAbort",value:function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}},{key:"pause",value:function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}},{key:"resume",value:function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}},{key:"seek",value:function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var n=this._mediaInfo.segments[t];if(null==n)this._pendingSeekTime=e;else{var i=n.getNearestKeyframe(e);this._remuxer.seek(i.milliseconds),this._ioctl.seek(i.fileposition),this._pendingResolveSeekPoint=i.milliseconds}}else{var r=this._mediaInfo.segments[t];if(null==r)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{var a=r.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,a.fileposition),this._pendingResolveSeekPoint=a.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}}},{key:"_searchSegmentIndexContains",value:function(e){for(var t=this._mediaDataSource.segments,n=t.length-1,i=0;i<t.length;i++)if(e<t[i].timestampBase){n=i-1;break}return n}},{key:"_onInitChunkArrival",value:function(e,t){var n=this,i=null,a=0;if(0<t)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,a=this._demuxer.parseChunks(e,t);else if((i=s.default.probe(e)).match){this._demuxer=new s.default(i,this._config),this._remuxer||(this._remuxer=new u.default(this._config));var o=this._mediaDataSource;null==o.duration||isNaN(o.duration)||(this._demuxer.overridedDuration=o.duration),"boolean"==typeof o.hasAudio&&(this._demuxer.overridedHasAudio=o.hasAudio),"boolean"==typeof o.hasVideo&&(this._demuxer.overridedHasVideo=o.hasVideo),this._demuxer.timestampBase=o.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onFlvFrameDecoded=this._onFlvFrameDecoded.bind(this),this._demuxer.onCtsWarning=this._onCtsWarning.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._demuxer.onParseMask=this._onParseMask.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),a=this._demuxer.parseChunks(e,t)}else i=null,r.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){n._internalAbort()}),this._emitter.emit(d.default.DEMUX_ERROR,l.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),a=0;return a}},{key:"_onFlvFrameDecoded",value:function(e,t){this._emitter.emit(h.OTHER_EVENTS_POLYMER,{eventName:e,eventParams:[t]})}},{key:"_onCtsWarning",value:function(e,t){this._emitter.emit(h.OTHER_EVENTS_POLYMER,{eventName:e,eventParams:[t]})}},{key:"_onMediaInfo",value:function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,o.default.prototype));var n=Object.assign({},e);Object.setPrototypeOf(n,o.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=n,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)})}},{key:"_onMetaDataArrived",value:function(e){this._emitter.emit(d.default.METADATA_ARRIVED,e)}},{key:"_onScriptDataArrived",value:function(e){this._emitter.emit(d.default.SCRIPTDATA_ARRIVED,e)}},{key:"_onIOSeeked",value:function(){this._remuxer.insertDiscontinuity()}},{key:"_onParseMask",value:function(e){this._emitter.emit(d.default.GET_SEI_DATA,e)}},{key:"_onIOComplete",value:function(e,t,n,i){var r=e+1;r<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(r)):(this._remuxer.flushStashedSamples(),this._emitter.emit(d.default.LOADING_COMPLETE,t,n,i),this._disableStatisticsReporter())}},{key:"_onIORedirect",value:function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e}},{key:"_onIORecoveredEarlyEof",value:function(){this._emitter.emit(d.default.RECOVERED_EARLY_EOF)}},{key:"_onIOException",value:function(e,t){r.default.e(this.TAG,"IOException: type = ".concat(e,", code = ").concat(t.code,", msg = ").concat(t.msg)),this._emitter.emit(d.default.IO_ERROR,e,t),this._disableStatisticsReporter()}},{key:"_onDemuxException",value:function(e,t){r.default.e(this.TAG,"DemuxException: type = ".concat(e,", info = ").concat(t)),this._emitter.emit(d.default.DEMUX_ERROR,e,t)}},{key:"_onRemuxerInitSegmentArrival",value:function(e,t){this._emitter.emit(d.default.INIT_SEGMENT,e,t)}},{key:"_onRemuxerMediaSegmentArrival",value:function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(d.default.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var n=t.info.syncPoints,i=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,a.default.safari&&0<n.length&&n[0].originalDts===i&&(i=n[0].pts),this._emitter.emit(d.default.RECOMMEND_SEEKPOINT,i)}}},{key:"_enableStatisticsReporter",value:function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}},{key:"_disableStatisticsReporter",value:function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"_reportSegmentMediaInfo",value:function(e){var t=this._mediaInfo.segments[e],n=Object.assign({},t);n.duration=this._mediaInfo.duration,n.segmentCount=this._mediaInfo.segmentCount,delete n.segments,delete n.keyframesIndex,this._emitter.emit(d.default.MEDIA_INFO,n)}},{key:"_reportStatisticsInfo",value:function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,e.totalBytes=this._ioctl.totalBytes,this._emitter.emit(d.default.STATISTICS_INFO,e)}}])&&_(t.prototype,n),e}();n.default=m},{"../demux/demux-errors.js":18,"../demux/flv-demuxer.js":20,"../io/io-controller.js":26,"../io/loader.js":27,"../player/player-events.js":38,"../remux/mp4-remuxer.js":41,"../utils/browser.js":42,"../utils/logger.js":44,"./media-info.js":9,"./transmuxing-events.js":15,events:1}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint",GET_SEI_DATA:"get_sei_data"}},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,u(e("../utils/logger.js"));var i=u(e("../utils/logging-control.js")),r=u(e("../utils/polyfill.js")),a=u(e("./transmuxing-controller.js")),o=u(e("./transmuxing-events.js")),s=e("../player/player-events.js");function u(e){return e&&e.__esModule?e:{default:e}}n.default=function(e){var t=null,n=function(t,n){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:n}})}.bind(this);r.default.install(),e.addEventListener("message",function(r){switch(r.data.cmd){case"init":(t=new a.default(r.data.param[0],r.data.param[1])).on(o.default.IO_ERROR,function(t,n){e.postMessage({msg:o.default.IO_ERROR,data:{type:t,info:n}})}.bind(this)),t.on(o.default.DEMUX_ERROR,function(t,n){e.postMessage({msg:o.default.DEMUX_ERROR,data:{type:t,info:n}})}.bind(this)),t.on(o.default.INIT_SEGMENT,function(t,n){var i={msg:o.default.INIT_SEGMENT,data:{type:t,data:n}};e.postMessage(i,[n.data])}.bind(this)),t.on(o.default.MEDIA_SEGMENT,function(t,n){var i={msg:o.default.MEDIA_SEGMENT,data:{type:t,data:n}};e.postMessage(i,[n.data])}.bind(this)),t.on(o.default.LOADING_COMPLETE,function(t,n,i){var r={msg:o.default.LOADING_COMPLETE,data:{requestUrl:i,from:t,to:n}};e.postMessage(r)}.bind(this)),t.on(o.default.RECOVERED_EARLY_EOF,function(){var t={msg:o.default.RECOVERED_EARLY_EOF};e.postMessage(t)}.bind(this)),t.on(o.default.MEDIA_INFO,function(t){var n={msg:o.default.MEDIA_INFO,data:t};e.postMessage(n)}.bind(this)),t.on(o.default.METADATA_ARRIVED,function(t){var n={msg:o.default.METADATA_ARRIVED,data:t};e.postMessage(n)}.bind(this)),t.on(o.default.SCRIPTDATA_ARRIVED,function(t){var n={msg:o.default.SCRIPTDATA_ARRIVED,data:t};e.postMessage(n)}.bind(this)),t.on(o.default.STATISTICS_INFO,function(t){var n={msg:o.default.STATISTICS_INFO,data:t};e.postMessage(n)}.bind(this)),t.on(o.default.RECOMMEND_SEEKPOINT,function(t){e.postMessage({msg:o.default.RECOMMEND_SEEKPOINT,data:t})}.bind(this)),t.on(s.OTHER_EVENTS_POLYMER,function(t){e.postMessage({msg:s.OTHER_EVENTS_POLYMER,data:t})}.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(r.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var u=r.data.param;i.default.applyConfig(u),!0===u.enableCallback?i.default.addLogListener(n):i.default.removeLogListener(n)}})}},{"../player/player-events.js":38,"../utils/logger.js":44,"../utils/logging-control.js":45,"../utils/polyfill.js":46,"./transmuxing-controller.js":14,"./transmuxing-events.js":15}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("../utils/logger.js")),r=o(e("../utils/utf8-conv.js")),a=e("../utils/exception.js");function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u,l=(u=new ArrayBuffer(2),new DataView(u).setInt16(0,256,!0),256===new Int16Array(u)[0]),c=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n;return t=e,n=[{key:"parseScriptData",value:function(t,n,r){var a={};try{var o=e.parseValue(t,n,r),s=e.parseValue(t,n+o.size,r-o.size);a[o.data]=s.data}catch(t){i.default.e("AMF",t.toString())}return a}},{key:"parseObject",value:function(t,n,i){if(i<3)throw new a.IllegalStateException("Data not enough when parse ScriptDataObject");var r=e.parseString(t,n,i),o=e.parseValue(t,n+r.size,i-r.size),s=o.objectEnd;return{data:{name:r.data,value:o.data},size:r.size+o.size,objectEnd:s}}},{key:"parseVariable",value:function(t,n,i){return e.parseObject(t,n,i)}},{key:"parseString",value:function(e,t,n){if(n<2)throw new a.IllegalStateException("Data not enough when parse String");var i=new DataView(e,t,n).getUint16(0,!l);return{data:0<i?(0,r.default)(new Uint8Array(e,t+2,i)):"",size:2+i}}},{key:"parseLongString",value:function(e,t,n){if(n<4)throw new a.IllegalStateException("Data not enough when parse LongString");var i=new DataView(e,t,n).getUint32(0,!l);return{data:0<i?(0,r.default)(new Uint8Array(e,t+4,i)):"",size:4+i}}},{key:"parseDate",value:function(e,t,n){if(n<10)throw new a.IllegalStateException("Data size invalid when parse Date");var i=new DataView(e,t,n),r=i.getFloat64(0,!l),o=i.getInt16(8,!l);return{data:new Date(r+=60*o*1e3),size:10}}},{key:"parseValue",value:function(t,n,r){if(r<1)throw new a.IllegalStateException("Data not enough when parse Value");var o,s=new DataView(t,n,r),u=1,c=s.getUint8(0),d=!1;try{switch(c){case 0:o=s.getFloat64(1,!l),u+=8;break;case 1:o=!!s.getUint8(1),u+=1;break;case 2:var h=e.parseString(t,n+1,r-1);o=h.data,u+=h.size;break;case 3:o={};var f=0;for(9==(16777215&s.getUint32(r-4,!l))&&(f=3);u<r-4;){var _=e.parseObject(t,n+u,r-u-f);if(_.objectEnd)break;o[_.data.name]=_.data.value,u+=_.size}u<=r-3&&9==(16777215&s.getUint32(u-1,!l))&&(u+=3);break;case 8:o={},u+=4;var m=0;for(9==(16777215&s.getUint32(r-4,!l))&&(m=3);u<r-8;){var p=e.parseVariable(t,n+u,r-u-m);if(p.objectEnd)break;o[p.data.name]=p.data.value,u+=p.size}u<=r-3&&9==(16777215&s.getUint32(u-1,!l))&&(u+=3);break;case 9:u=1,d=!(o=void 0);break;case 10:o=[];var v=s.getUint32(1,!l);u+=4;for(var g=0;g<v;g++){var y=e.parseValue(t,n+u,r-u);o.push(y.data),u+=y.size}break;case 11:var b=e.parseDate(t,n+1,r-1);o=b.data,u+=b.size;break;case 12:var E=e.parseString(t,n+1,r-1);o=E.data,u+=E.size;break;default:u=r,i.default.w("AMF","Unsupported AMF value type "+c)}}catch(t){i.default.e("AMF",t.toString())}return{data:o,size:u,objectEnd:d}}}],null&&s(t.prototype,null),n&&s(t,n),e}();n.default=c},{"../utils/exception.js":43,"../utils/logger.js":44,"../utils/utf8-conv.js":47}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../utils/exception.js");function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="ExpGolomb",this._buffer=t,this._buffer_index=0,this._total_bytes=t.byteLength,this._total_bits=8*t.byteLength,this._current_word=0,this._current_word_bits_left=0}var t,n;return t=e,(n=[{key:"destroy",value:function(){this._buffer=null}},{key:"_fillCurrentWord",value:function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new i.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),n=new Uint8Array(4);n.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(n.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}},{key:"readBits",value:function(e){if(32<e)throw new i.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var n=this._current_word_bits_left?this._current_word:0;n>>>=32-this._current_word_bits_left;var r=e-this._current_word_bits_left;this._fillCurrentWord();var a=Math.min(r,this._current_word_bits_left),o=this._current_word>>>32-a;return this._current_word<<=a,this._current_word_bits_left-=a,n<<a|o}},{key:"readBool",value:function(){return 1===this.readBits(1)}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"_skipLeadingZero",value:function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}},{key:"readUEG",value:function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1}},{key:"readSEG",value:function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}}])&&r(t.prototype,n),e}();n.default=a},{"../utils/exception.js":43}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=h(e("../utils/logger.js")),r=h(e("./amf-parser.js")),a=h(e("./sps-parser.js")),o=h(e("./demux-errors.js")),s=h(e("../core/media-info.js")),u=e("../utils/exception.js"),l=h(e("../player/player-events.js")),c=h(e("../utils/utils.js")),d=h(e("../utils/browser.js"));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(t,n){var i;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.TAG="FLVDemuxer",this._config=n,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._onFlvFrameDecoded=null,this._onCtsWarning=null,this._onParseMask=null,this._dataOffset=t.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=t.hasAudioTrack,this._hasVideo=t.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._ctsWarning=!1,this._mediaInfo=new s.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._clipCacheTrack={keyframeTimeList:[],videoTrack:[],audioTrack:[],videoLengthList:[],audioLengthList:[]},this._hasClipKeyFrame=!1,this._littleEndian=(i=new ArrayBuffer(2),new DataView(i).setInt16(0,256,!0),256===new Int16Array(i)[0])}var t,n,h;return t=e,h=[{key:"probe",value:function(e){var t=new Uint8Array(e),n={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return n;var i,r=(4&t[4])>>>2!=0,a=0!=(1&t[4]),o=(i=t)[5]<<24|i[6]<<16|i[7]<<8|i[8];return o<9?n:{match:!0,consumed:o,dataOffset:o,hasAudioTrack:r,hasVideoTrack:a}}}],(n=[{key:"destroy",value:function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._clipCacheTrack=null,this._hasClipKeyFrame=!1,this._onError=null,this._onMediaInfo=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._onFlvFrameDecoded=null,this._onCtsWarning=null,this._onParseMask=null,this._ctsWarning=!1}},{key:"getClipCacheData",value:function(){var e={};return e.audioMetadata=c.default.cloneDeep(this._audioMetadata,!0),e.videoMetadata=c.default.cloneDeep(this._videoMetadata,!0),e.clipCacheTrack=c.default.cloneDeep(this._clipCacheTrack,!0),e}},{key:"bindDataSource",value:function(e){return e.onDataArrival=this.parseChunks.bind(this),this}},{key:"resetMediaInfo",value:function(){this._mediaInfo=new s.default}},{key:"_isInitialMetadataDispatched",value:function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}},{key:"parseChunks",value:function(t,n){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new u.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var r=0,a=this._littleEndian;if(0===n){if(!(13<t.byteLength))return 0;r=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,n+r!==this._dataOffset&&i.default.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(t,r).getUint32(0,!a)&&i.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),r+=4);r<t.byteLength;){this._dispatch=!0;var o=new DataView(t,r);if(r+11+4>t.byteLength)break;var s=o.getUint8(0),l=16777215&o.getUint32(0,!a);if(r+11+l+4>t.byteLength)break;if(8===s||9===s||18===s){var c=o.getUint8(4),d=o.getUint8(5),h=o.getUint8(6)|d<<8|c<<16|o.getUint8(7)<<24;0!=(16777215&o.getUint32(7,!a))&&i.default.w(this.TAG,"Meet tag which has StreamID != 0!");var f=r+11;switch(s){case 8:this._parseAudioData(t,f,l,h);break;case 9:this._parseVideoData(t,f,l,h,n+r);break;case 18:this._parseScriptData(t,f,l)}var _=o.getUint32(11+l,!a);_!==11+l&&i.default.w(this.TAG,"Invalid PrevTagSize ".concat(_)),r+=11+l+4}else i.default.w(this.TAG,"Unsupported tag type ".concat(s,", skipped")),r+=11+l+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),r}},{key:"_parseScriptData",value:function(e,t,n){var a=r.default.parseScriptData(e,t,n);if(a.hasOwnProperty("onMetaData")){if(null==a.onMetaData||"object"!==f(a.onMetaData))return void i.default.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&i.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=a;var o=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},o)),"boolean"==typeof o.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=o.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof o.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=o.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof o.audiodatarate&&(this._mediaInfo.audioDataRate=o.audiodatarate),"number"==typeof o.videodatarate&&(this._mediaInfo.videoDataRate=o.videodatarate),"number"==typeof o.width&&(this._mediaInfo.width=o.width),"number"==typeof o.height&&(this._mediaInfo.height=o.height),"number"==typeof o.duration){if(!this._durationOverrided){var s=Math.floor(o.duration*this._timescale);this._duration=s,this._mediaInfo.duration=s}}else this._mediaInfo.duration=0;if("number"==typeof o.framerate){var u=Math.floor(1e3*o.framerate);if(0<u){var l=u/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=l,this._referenceFrameRate.fps_num=u,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=l}}if("object"===f(o.keyframes)){this._mediaInfo.hasKeyframesIndex=!0;var c=o.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(c),o.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=o,i.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}0<Object.keys(a).length&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},a))}},{key:"_parseKeyframesIndex",value:function(e){for(var t=[],n=[],i=1;i<e.times.length;i++){var r=this._timestampBase+Math.floor(1e3*e.times[i]);t.push(r),n.push(e.filepositions[i])}return{times:t,filepositions:n}}},{key:"_parseAudioData",value:function(e,t,n,r){if(n<=1)i.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var a=new DataView(e,t,n).getUint8(0),s=a>>>4;if(2===s||10===s){var u=0,c=(12&a)>>>2;if(0<=c&&c<=4){u=this._flvSoundRateTable[c];var d=1&a,h=this._audioMetadata,f=this._audioTrack;if(h||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(h=this._audioMetadata={}).type="audio",h.id=f.id,h.timescale=this._timescale,h.duration=this._duration,h.audioSampleRate=u,h.channelCount=0===d?1:2),10===s){var _=this._parseAACAudioData(e,t+1,n-1);if(null==_)return;if(0===_.packetType){h.config&&i.default.w(this.TAG,"Found another AudioSpecificConfig!");var m=_.data;h.audioSampleRate=m.samplingRate,h.channelCount=m.channelCount,h.codec=m.codec,h.originalCodec=m.originalCodec,h.config=m.config,h.refSampleDuration=1024/h.audioSampleRate*h.timescale,i.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",h);var p=this._mediaInfo;p.audioCodec=h.originalCodec,p.audioSampleRate=h.audioSampleRate,p.audioChannelCount=h.channelCount,p.hasVideo?null!=p.videoCodec&&(p.mimeType='video/x-flv; codecs="'+p.videoCodec+","+p.audioCodec+'"'):p.mimeType='video/x-flv; codecs="'+p.audioCodec+'"',p.isComplete()&&this._onMediaInfo(p)}else if(1===_.packetType){var v=this._timestampBase+r,g={unit:_.data,length:_.data.byteLength,dts:v,pts:v};if(f.samples.push(g),f.length+=_.data.length,this._config.clipCacheEnabled&&this._hasClipKeyFrame){var y=this._clipCacheTrack.audioTrack.length;y&&(this._clipCacheTrack.audioTrack[y-1].push(g),this._clipCacheTrack.audioLengthList[y-1]+=_.data.length)}}else i.default.e(this.TAG,"Flv: Unsupported AAC data type ".concat(_.packetType))}else if(2===s){if(!h.codec){var b=this._parseMP3AudioData(e,t+1,n-1,!0);if(null==b)return;h.audioSampleRate=b.samplingRate,h.channelCount=b.channelCount,h.codec=b.codec,h.originalCodec=b.originalCodec,h.refSampleDuration=1152/h.audioSampleRate*h.timescale,i.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",h);var E=this._mediaInfo;E.audioCodec=h.codec,E.audioSampleRate=h.audioSampleRate,E.audioChannelCount=h.channelCount,E.audioDataRate=b.bitRate,E.hasVideo?null!=E.videoCodec&&(E.mimeType='video/x-flv; codecs="'+E.videoCodec+","+E.audioCodec+'"'):E.mimeType='video/x-flv; codecs="'+E.audioCodec+'"',E.isComplete()&&this._onMediaInfo(E)}var k=this._parseMP3AudioData(e,t+1,n-1,!1);if(null==k)return;var S=this._timestampBase+r,w={unit:k,length:k.byteLength,dts:S,pts:S};if(f.samples.push(w),f.length+=k.length,this._config.clipCacheEnabled&&this._hasClipKeyFrame){var L=this._clipCacheTrack.audioTrack.length;L&&(this._clipCacheTrack.audioTrack[L-1].push(w),this._clipCacheTrack.audioLengthList[L-1]+=k.length)}}this._onFlvFrameDecoded&&this._onFlvFrameDecoded(l.default.AUDIO_FRAME_DECODED,Date.now())}else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+c)}else this._onError(o.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+s)}}},{key:"_parseAACAudioData",value:function(e,t,n){if(!(n<=1)){var r={},a=new Uint8Array(e,t,n);return r.packetType=a[0],0===a[0]?r.data=this._parseAACAudioSpecificConfig(e,t+1,n-1):r.data=a.subarray(1),r}i.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")}},{key:"_parseAACAudioSpecificConfig",value:function(e,t,n){var i,r,a=new Uint8Array(e,t,n),s=null,u=0,l=null;if(u=i=a[0]>>>3,(r=(7&a[0])<<1|a[1]>>>7)<0||r>=this._mpegSamplingRates.length)this._onError(o.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var c=this._mpegSamplingRates[r],d=(120&a[1])>>>3;if(!(d<0||8<=d)){5===u&&(l=(7&a[1])<<1|a[2]>>>7,a[2]);var h=self.navigator.userAgent.toLowerCase();return-1!==h.indexOf("firefox")?l=6<=r?(u=5,s=new Array(4),r-3):(u=2,s=new Array(2),r):-1!==h.indexOf("android")?(u=2,s=new Array(2),l=r):(u=5,l=r,s=new Array(4),6<=r?l=r-3:1===d&&(u=2,s=new Array(2),l=r)),s[0]=u<<3,s[0]|=(15&r)>>>1,s[1]=(15&r)<<7,s[1]|=(15&d)<<3,5===u&&(s[1]|=(15&l)>>>1,s[2]=(1&l)<<7,s[2]|=8,s[3]=0),{config:s,samplingRate:c,channelCount:d,codec:"mp4a.40."+u,originalCodec:"mp4a.40."+i}}this._onError(o.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}}},{key:"_parseMP3AudioData",value:function(e,t,n,r){if(!(n<4)){this._littleEndian;var a=new Uint8Array(e,t,n),o=null;if(r){if(255!==a[0])return;var s=a[1]>>>3&3,u=(6&a[1])>>1,l=(240&a[2])>>>4,c=(12&a[2])>>>2,d=3!=(a[3]>>>6&3)?2:1,h=0,f=0;switch(s){case 0:h=this._mpegAudioV25SampleRateTable[c];break;case 2:h=this._mpegAudioV20SampleRateTable[c];break;case 3:h=this._mpegAudioV10SampleRateTable[c]}switch(u){case 1:l<this._mpegAudioL3BitRateTable.length&&(f=this._mpegAudioL3BitRateTable[l]);break;case 2:l<this._mpegAudioL2BitRateTable.length&&(f=this._mpegAudioL2BitRateTable[l]);break;case 3:l<this._mpegAudioL1BitRateTable.length&&(f=this._mpegAudioL1BitRateTable[l])}o={bitRate:f,samplingRate:h,channelCount:d,codec:"mp3",originalCodec:"mp3"}}else o=a;return o}i.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")}},{key:"_parseVideoData",value:function(e,t,n,r,a){if(n<=1)i.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var s=new Uint8Array(e,t,n)[0],u=(240&s)>>>4,c=15&s;7===c?(this._parseAVCVideoPacket(e,t+1,n-1,r,a,u),this._onFlvFrameDecoded&&this._onFlvFrameDecoded(l.default.VIDEO_FRAME_DECODED,Date.now())):this._onError(o.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(c))}}},{key:"_parseAVCVideoPacket",value:function(e,t,n,r,a,s){if(n<4)i.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var u=this._littleEndian,c=new DataView(e,t,n),d=c.getUint8(0),h=(16777215&c.getUint32(0,!u))<<8>>8;if(!1===this._ctsWarning&&(500<h||h<0)&&this._onCtsWarning){this._ctsWarning=!0;var f={cts:h,dts:this.timestampBase+r};this._onCtsWarning(l.default.CTS_WARNING,f)}if(0===d)this._parseAVCDecoderConfigurationRecord(e,t+4,n-4);else if(1===d)this._parseAVCVideoData(e,t+4,n-4,r,a,s,h);else if(2!==d)return void this._onError(o.default.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(d))}}},{key:"_parseAVCDecoderConfigurationRecord",value:function(e,t,n){if(n<7)i.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var r=this._videoMetadata,s=this._videoTrack,u=this._littleEndian,l=new DataView(e,t,n);r?void 0!==r.avcc&&i.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=s.id,r.timescale=this._timescale,r.duration=this._duration);var c=l.getUint8(0),d=l.getUint8(1);if(l.getUint8(2),l.getUint8(3),1===c&&0!==d){this._naluLengthSize=1+(3&l.getUint8(4));var h=31&l.getUint8(5);if(0!==h){1<h&&i.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ".concat(h));for(var f=6,_=0;_<h;_++){var m=l.getUint16(f,!u);if(f+=2,0!==m){var p=new Uint8Array(e,t+f,m);f+=m;var v=a.default.parseSPS(p);if(0===_){r.codecWidth=v.codec_size.width,r.codecHeight=v.codec_size.height,r.presentWidth=v.present_size.width,r.presentHeight=v.present_size.height,r.profile=v.profile_string,r.level=v.level_string,r.bitDepth=v.bit_depth,r.chromaFormat=v.chroma_format,r.sarRatio=v.sar_ratio,r.frameRate=v.frame_rate,!1!==v.frame_rate.fixed&&0!==v.frame_rate.fps_num&&0!==v.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var g=r.frameRate.fps_den,y=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(g/y);for(var b=p.subarray(1,4),E="avc1.",k=0;k<3;k++){var S=b[k].toString(16);S.length<2&&(S="0"+S),E+=S}r.codec=E;var w=this._mediaInfo;w.width=r.codecWidth,w.height=r.codecHeight,w.fps=r.frameRate.fps,w.profile=r.profile,w.level=r.level,w.refFrames=v.ref_frames,w.chromaFormat=v.chroma_format_string,w.sarNum=r.sarRatio.width,w.sarDen=r.sarRatio.height,w.videoCodec=E,w.hasAudio?null!=w.audioCodec&&(w.mimeType='video/x-flv; codecs="'+w.videoCodec+","+w.audioCodec+'"'):w.mimeType='video/x-flv; codecs="'+w.videoCodec+'"',w.isComplete()&&this._onMediaInfo(w)}}}var L=l.getUint8(f);if(0!==L){1<L&&i.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ".concat(L)),f++;for(var R=0;R<L;R++){var T=l.getUint16(f,!u);f+=2,0!==T&&(f+=T)}r.avcc=new Uint8Array(n),r.avcc.set(new Uint8Array(e,t,n),0),i.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r)}else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}}},{key:"_parseAVCVideoData",value:function(e,t,n,r,a,o,s){for(var u=this._littleEndian,l=new DataView(e,t,n),h=[],f=0,_=0,m=this._naluLengthSize,p=this._timestampBase+r,v=1===o;_<n;){if(n<=_+4){i.default.w(this.TAG,"Malformed Nalu near timestamp ".concat(p,", offset = ").concat(_,", dataSize = ").concat(n));break}var g=l.getUint32(_,!u);if(m<4&&(g>>>=8*(4-m)),n-m<g)return void i.default.w(this.TAG,"Malformed Nalus near timestamp ".concat(p,", NaluSize > DataSize!"));var y=31&l.getUint8(_+m);5===y&&(v=!0),6===y&&this._onParseMask({arrayBuffer:e,dataOffset:t+_,dataSize:m+g,pts:p+s,dts:p,fps:this._mediaInfo.fps,lengthSize:m,type:"MASK_DATA"});var b=new Uint8Array(e,t+_,m+g);if(d.default.safari&&m<4){var E=new Uint8Array(4-m);b=c.default.concatUint8Array(E,b)}var k={type:y,data:b};h.push(k),f+=b.byteLength,_+=m+g}if(h.length){var S=this._videoTrack,w={units:h,length:f,isKeyframe:v,dts:p,cts:s,pts:p+s};if(v&&(w.fileposition=a,this._config.clipCacheEnabled)){this._clipCacheTrack.audioTrack.push([]),this._clipCacheTrack.videoTrack.push([]),this._clipCacheTrack.audioLengthList.push(0),this._clipCacheTrack.videoLengthList.push(0);var L=this._clipCacheTrack.keyframeTimeList;L.push(r),L[L.length-1]-L[0]>1e3*this._config.clipCacheDuration&&(this._clipCacheTrack.audioTrack.shift(),this._clipCacheTrack.videoTrack.shift(),this._clipCacheTrack.audioLengthList.shift(),this._clipCacheTrack.videoLengthList.shift(),L.shift()),this._hasClipKeyFrame=!0}if(S.samples.push(w),S.length+=f,this._config.clipCacheEnabled&&this._hasClipKeyFrame){var R=this._clipCacheTrack.videoTrack.length;R&&(this._clipCacheTrack.videoTrack[R-1].push(c.default.cloneDeep(w,!0)),this._clipCacheTrack.videoLengthList[R-1]+=f)}}}},{key:"onTrackMetadata",get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e}},{key:"onMediaInfo",get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e}},{key:"onMetaDataArrived",get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e}},{key:"onScriptDataArrived",get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onDataAvailable",get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e}},{key:"onFlvFrameDecoded",get:function(){return this._onFlvFrameDecoded},set:function(e){this._onFlvFrameDecoded=e}},{key:"onCtsWarning",get:function(){return this._onCtsWarning},set:function(e){this._onCtsWarning=e}},{key:"timestampBase",get:function(){return this._timestampBase},set:function(e){this._timestampBase=e}},{key:"overridedDuration",get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}},{key:"overridedHasAudio",set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}},{key:"overridedHasVideo",set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}},{key:"onParseMask",get:function(){return this._onParseMask},set:function(e){this._onParseMask=e}}])&&_(t.prototype,n),h&&_(t,h),e}();n.default=m},{"../core/media-info.js":9,"../player/player-events.js":38,"../utils/browser.js":42,"../utils/exception.js":43,"../utils/logger.js":44,"../utils/utils.js":48,"./amf-parser.js":17,"./demux-errors.js":18,"./sps-parser.js":21}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("./exp-golomb.js"))&&i.__esModule?i:{default:i};function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n;return t=e,n=[{key:"_ebsp2rbsp",value:function(e){for(var t=e,n=t.byteLength,i=new Uint8Array(n),r=0,a=0;a<n;a++)2<=a&&3===t[a]&&0===t[a-1]&&0===t[a-2]||(i[r]=t[a],r++);return new Uint8Array(i.buffer,0,r)}},{key:"parseSPS",value:function(t){var n=e._ebsp2rbsp(t),i=new r.default(n);i.readByte();var a=i.readByte();i.readByte();var o=i.readByte();i.readUEG();var s=e.getProfileString(a),u=e.getLevelString(o),l=1,c=420,d=8;if((100===a||110===a||122===a||244===a||44===a||83===a||86===a||118===a||128===a||138===a||144===a)&&(3===(l=i.readUEG())&&i.readBits(1),l<=3&&(c=[0,420,422,444][l]),d=i.readUEG()+8,i.readUEG(),i.readBits(1),i.readBool()))for(var h=3!==l?8:12,f=0;f<h;f++)i.readBool()&&e._skipScalingList(i,f<6?16:64);i.readUEG();var _=i.readUEG();if(0===_)i.readUEG();else if(1===_){i.readBits(1),i.readSEG(),i.readSEG();for(var m=i.readUEG(),p=0;p<m;p++)i.readSEG()}var v=i.readUEG();i.readBits(1);var g=i.readUEG(),y=i.readUEG(),b=i.readBits(1);0===b&&i.readBits(1),i.readBits(1);var E=0,k=0,S=0,w=0;i.readBool()&&(E=i.readUEG(),k=i.readUEG(),S=i.readUEG(),w=i.readUEG());var L=1,R=1,T=0,A=!0,C=0,O=0;if(i.readBool()){if(i.readBool()){var x=i.readByte();0<x&&x<16?(L=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][x-1],R=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][x-1]):255===x&&(L=i.readByte()<<8|i.readByte(),R=i.readByte()<<8|i.readByte())}if(i.readBool()&&i.readBool(),i.readBool()&&(i.readBits(4),i.readBool()&&i.readBits(24)),i.readBool()&&(i.readUEG(),i.readUEG()),i.readBool()){var D=i.readBits(32),I=i.readBits(32);A=i.readBool(),T=(C=I)/(O=2*D)}}var M=1;1===L&&1===R||(M=L/R);var P=0,B=0;0===l?(P=1,B=2-b):(P=3===l?1:2,B=(1===l?2:1)*(2-b));var j=16*(g+1),N=16*(y+1)*(2-b);j-=(E+k)*P,N-=(S+w)*B;var U=Math.ceil(j*M);return i.destroy(),i=null,{profile_string:s,level_string:u,bit_depth:d,ref_frames:v,chroma_format:c,chroma_format_string:e.getChromaFormatString(c),frame_rate:{fixed:A,fps:T,fps_den:O,fps_num:C},sar_ratio:{width:L,height:R},codec_size:{width:j,height:N},present_size:{width:U,height:N}}}},{key:"_skipScalingList",value:function(e,t){for(var n=8,i=8,r=0;r<t;r++)0!==i&&(i=(n+e.readSEG()+256)%256),n=0===i?n:i}},{key:"getProfileString",value:function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}},{key:"getLevelString",value:function(e){return(e/10).toFixed(1)}},{key:"getChromaFormatString",value:function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}],null&&a(t.prototype,null),n&&a(t,n),e}();n.default=o},{"./exp-golomb.js":19}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=f(e("./utils/polyfill.js")),r=f(e("./core/features.js")),a=e("./io/loader.js"),o=f(e("./player/flv-player.js")),s=f(e("./player/native-player.js")),u=f(e("./player/player-events.js")),l=e("./player/player-errors.js"),c=f(e("./utils/logging-control.js")),d=e("./utils/exception.js"),h=f(e("./clip/clip.js"));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.default.install();var m={createPlayer:function(e,t){var n=e;if(null==n||"object"!==_(n))throw new d.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!n.hasOwnProperty("type"))throw new d.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(n.type){case"flv":return new o.default(n,t);default:return new s.default(n,t)}},createClip:function(){return new h.default},isSupported:function(){return r.default.supportMSEH264Playback()},getFeatureList:function(){return r.default.getFeatureList()}};m.BaseLoader=a.BaseLoader,m.LoaderStatus=a.LoaderStatus,m.LoaderErrors=a.LoaderErrors,m.Events=u.default,m.ErrorTypes=l.ErrorTypes,m.ErrorDetails=l.ErrorDetails,m.FlvPlayer=o.default,m.NativePlayer=s.default,m.LoggingControl=c.default,Object.defineProperty(m,"version",{enumerable:!0,get:function(){return"2.12.0"}});var p=m;n.default=p},{"./clip/clip.js":6,"./core/features.js":8,"./io/loader.js":27,"./player/flv-player.js":35,"./player/native-player.js":36,"./player/player-errors.js":37,"./player/player-events.js":38,"./utils/exception.js":43,"./utils/logging-control.js":45,"./utils/polyfill.js":46}],23:[function(e,t,n){"use strict";t.exports=e("./flv.js").default},{"./flv.js":22}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=e("./loader.js"),a=e("../utils/exception.js"),o=(i=e("../utils/logger.js"))&&i.__esModule?i:{default:i};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e,n,i){var r;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(r=u(this,c(t).call(this,"t-loader"))).TAG="TLoader",r._seekHandler=e,r._config=n,r._needStash=!1,r._requestAbort=!1,r._contentLength=null,r._receivedLength=0,r._range=null,r._backupLoader=null,r._dataSource=null,r._mediaElement=i,r._isBackup=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.BaseLoader),h(t,null,[{key:"isSupported",value:function(){var e=window.qvbp2p;return e?e.supportLoader:!!window.QVBP2P&&window.QVBP2P.isSupported()}}]),h(t,[{key:"destroy",value:function(){l(c(t.prototype),"destroy",this).call(this),this._destroyQVBP2P(),this._backupLoader.destroy(),this._backupLoader=null,this._range=null,this._dataSource=null,this._mediaElement=null,this._isBackup=!1}},{key:"abort",value:function(){this._requestAbort=!0,this._status=r.LoaderStatus.kComplete}},{key:"setBackupLoader",value:function(e){this._backupLoader=e,this._backupLoader.onComplete=this._onBackupLoaderComplete.bind(this),this._backupLoader.onDataArrival=this._onBackupLoaderLoad.bind(this)}},{key:"_initQVBP2P",value:function(){if(!window.qvbp2p){var e=new window.QVBP2P({debug:!0});e.setMediaElement(this._mediaElement),window.qvbp2p=e}}},{key:"_destroyQVBP2P",value:function(){window.qvbp2p&&(window.qvbp2p.destroy(),window.qvbp2p=null)}},{key:"open",value:function(e,t){this._range=t,this._dataSource=e,window.qvbp2p&&this._destroyQVBP2P(),window.qvbp2p||this._initQVBP2P(),this._bindListener();var n=e.url;window.qvbp2p.loadSource({videoId:this._config.videoId,src:n})}},{key:"_bindListener",value:function(){this._status=r.LoaderStatus.kBuffering;var e=window.qvbp2p,t=window.QVBP2P;e.listen(t.ComEvents.STATE_CHANGE,this.onStateChange.bind(this))}},{key:"onStateChange",value:function(e,t){var n=window.QVBP2P.ComCodes;switch(t.code){case n.RECEIVE_BUFFER:this._receiveBuffer(t);break;case n.ROLLBACK:this._rollback()}}},{key:"_receiveBuffer",value:function(e){if(!this._requestAbort)if(e.payload instanceof ArrayBuffer)null===this._contentLength&&null!==e.payload&&0!==e.payload&&(this._contentLength=e.payload.byteLength,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)),this._dispatchArrayBuffer(e.payload);else{this._status=r.LoaderStatus.kBuffering;var t={code:-1,msg:"".concat(this.TAG," receive buffer is not instanceof ArrayBuffer")};if(!this._onError)throw new a.RuntimeException(t.msg);this._onError(r.LoaderErrors.EXCEPTION,t)}}},{key:"_bufferEof",value:function(){this._status=r.LoaderStatus.kComplete}},{key:"_httpStatusCodeInvalid",value:function(e){if(this._status=r.LoaderStatus.kError,!this._onError)throw new a.RuntimeException("TLoader: Http code invalid, "+e.statusCode+" "+e.statusText);this._onError(r.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:e.statusCode,msg:e.statusText})}},{key:"_rollback",value:function(){window.qvbp2p&&this._destroyQVBP2P(),this._backupLoader&&!this._isBackup&&(o.default.v(this.TAG,"p2p sdk out, back to fetch loader"),this._isBackup=!0,this._backupLoader.open(this._dataSource,this._range))}},{key:"_dispatchArrayBuffer",value:function(e){var t=e,n=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}},{key:"_onBackupLoaderLoad",value:function(e,t,n){this._receivedLength+=e.byteLength,this._onDataArrival&&this._onDataArrival(e,t,this._receivedLength)}},{key:"_onBackupLoaderComplete",value:function(e,t){this._status!==r.LoaderStatus.kError&&this._range&&this._status!=r.LoaderStatus.kComplete&&(this.status=r.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}}]),t}();n.default=_},{"../utils/exception.js":43,"../utils/logger.js":44,"./loader.js":27}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,o(e("../utils/logger.js"));var i=o(e("../utils/browser.js")),r=e("./loader.js"),a=e("../utils/exception.js");function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e,n){var i;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(i=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,l(t).call(this,"fetch-stream-loader"))).TAG="FetchStreamLoader",i._seekHandler=e,i._config=n,i._needStash=!0,i._requestAbort=!1,i._contentLength=null,i._receivedLength=0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r.BaseLoader),d(t,null,[{key:"isSupported",value:function(){try{var e=i.default.msedge&&15048<=i.default.version.minor,t=!i.default.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}}}]),d(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),u(l(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){var n=this;this._dataSource=e,this._range=t;var i=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(i=e.redirectedURL);var o=this._seekHandler.getConfig(i,t),u=new self.Headers;if("object"===s(o.headers)){var l=o.headers;for(var c in l)l.hasOwnProperty(c)&&u.append(c,l[c])}var d={method:"GET",headers:u,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"===s(this._config.headers))for(var h in this._config.headers)u.append(h,this._config.headers[h]);!1===e.cors&&(d.mode="same-origin"),e.withCredentials&&(d.credentials="include"),e.referrerPolicy&&(d.referrerPolicy=e.referrerPolicy),this.status=r.LoaderStatus.kConnecting,self.fetch(o.url,d).then(function(e){if(n._requestAbort)return n._requestAbort=!1,void e.body.getReader().cancel();if(n.onHeaderReceived&&n.onHeaderReceived(),e.ok&&200<=e.status&&e.status<=299){if(e.url!==o.url&&n._onURLRedirect){var t=n._seekHandler.removeURLParameters(e.url);n._onURLRedirect(t)}var i=e.headers.get("Content-Length");return null!=i&&(n._contentLength=parseInt(i),0!==n._contentLength&&n._onContentLengthKnown&&n._onContentLengthKnown(n._contentLength)),n._pump.call(n,e.body.getReader())}if(n.status=r.LoaderStatus.kError,!n._onError)throw new a.RuntimeException("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);n._onError(r.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(function(e){if(n.status=r.LoaderStatus.kError,!n._onError)throw e;n._onError(r.LoaderErrors.EXCEPTION,{code:-1,msg:e.message})}),this.onStarted&&this.onStarted(Date.now())}},{key:"abort",value:function(){this._requestAbort=!0,this.status=r.LoaderStatus.kComplete}},{key:"_pump",value:function(e){var t=this;return e.read().then(function(n){if(n.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t.status=r.LoaderStatus.kError;var i=r.LoaderErrors.EARLY_EOF,o={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new a.RuntimeException(o.msg);t._onError(i,o)}else t.status=r.LoaderStatus.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(!0===t._requestAbort)return t._requestAbort=!1,e.cancel();t.status=r.LoaderStatus.kBuffering;var s=n.value.buffer,u=t._range.from+t._receivedLength;t._receivedLength+=s.byteLength,t._onDataArrival&&t._onDataArrival(s,u,t._receivedLength),t._pump(e)}}).catch(function(e){if(11!==e.code||!i.default.msedge){t.status=r.LoaderStatus.kError;var n,o=0;if(n=19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(o=r.LoaderErrors.EXCEPTION,{code:e.code,msg:e.message}):(o=r.LoaderErrors.EARLY_EOF,{code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new a.RuntimeException(n.msg);t._onError(o,n)}})}}]),t}();n.default=f},{"../utils/browser.js":42,"../utils/exception.js":43,"../utils/logger.js":44,"./loader.js":27}],26:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=v(e("events")),a=v(e("../utils/logger.js")),o=v(e("./speed-sampler.js")),s=e("./loader.js"),u=v(e("./fetch-stream-loader.js")),l=v(e("./xhr-moz-chunked-loader.js")),c=(v(e("./xhr-msstream-loader.js")),v(e("./xhr-range-loader.js"))),d=v(e("./websocket-loader.js")),h=v(e("./range-seek-handler.js")),f=v(e("./param-seek-handler.js")),_=e("../utils/exception.js"),m=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return function(){return e},e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}(e("../player/player-events.js")),p=v(e("./QVBP2PLoader"));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y=function(){function e(t,n,i,a){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.TAG="IOController",this._mediaElement=a,this._config=n,this._extraData=i,this._emitter=new r.default,this._stashInitialSize=393216,null!=n.stashInitialSize&&0<n.stashInitialSize&&(this._stashInitialSize=n.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,!(this._enableStash=!0)===n.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=t,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(t.url),this._refTotalLength=t.filesize?t.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new o.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._requestStartTime=null,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._backupLoaderClass=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader(),this._onPerRequestReceivedBytesEvent()}var t,n;return t=e,(n=[{key:"destroy",value:function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._backupLoaderClass=null,this._requestStartTime=null,this._emitter.removeAllListeners(),this._emitter=null,this._extraData=null,this._speedSampler.destroy(),this._speedSampler=null}},{key:"isWorking",value:function(){return this._loader&&this._loader.isWorking()&&!this._paused}},{key:"isPaused",value:function(){return this._paused}},{key:"_selectSeekHandler",value:function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new h.default(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",n=e.seekParamEnd||"bend";this._seekHandler=new f.default(t,n)}else{if("custom"!==e.seekType)throw new _.InvalidArgumentException("Invalid seekType in config: ".concat(e.seekType));if("function"!=typeof e.customSeekHandler)throw new _.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}}},{key:"_selectLoader",value:function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=d.default;else if(this._config.useP2P&&p.default.isSupported())this._loaderClass=p.default,u.default.isSupported()&&(this._backupLoaderClass=u.default);else if(u.default.isSupported())this._loaderClass=u.default;else if(l.default.isSupported())this._loaderClass=l.default;else{if(!c.default.isSupported())throw new _.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=c.default}}},{key:"_createLoader",value:function(){if(this._loader=new this._loaderClass(this._seekHandler,this._config,this._mediaElement),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._config.useP2P&&this._backupLoaderClass){var e=new this._backupLoaderClass(this._seekHandler,this._config,this._mediaElement);e.onHeaderReceived=this._onHeaderReceived.bind(this),e.onContentLengthKnown=this._onContentLengthKnown.bind(this),e.onURLRedirect=this._onURLRedirect.bind(this),e.onError=this._onLoaderError.bind(this),this._loader.setBackupLoader(e)}this._loader.onHeaderReceived=this._onHeaderReceived.bind(this),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onStarted=this._onLoaderStarted.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this),this._loader.on(s.LoaderEvents.STATUS_CHANGE,this._onLoaderStatusChange.bind(this))}},{key:"_onPerRequestReceivedBytesEvent",value:function(){var e=this;this._speedSampler.on(m.default.HTTP_REQUEST_ENDED,function(t){e._emitter.emit(m.OTHER_EVENTS_POLYMER,{eventName:m.default.HTTP_REQUEST_ENDED,eventParams:[t,e._dataSource.url]})})}},{key:"open",value:function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}},{key:"abort",value:function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}},{key:"pause",value:function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}},{key:"resume",value:function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}}},{key:"seek",value:function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)}},{key:"_internalSeek",value:function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var n={from:e,to:-1};this._currentRange={from:n.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,n),this._onSeeked&&this._onSeeked()}},{key:"updateUrl",value:function(e){if(!e||"string"!=typeof e||0===e.length)throw new _.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=e}},{key:"_expandBuffer",value:function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var n=new ArrayBuffer(t);if(0<this._stashUsed){var i=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(n,0,t).set(i,0)}this._stashBuffer=n,this._bufferSize=t}}},{key:"_normalizeSpeed",value:function(e){var t=this._speedNormalizeList,n=t.length-1,i=0,r=0,a=n;if(e<t[0])return t[0];for(;r<=a;){if((i=r+Math.floor((a-r)/2))===n||e>=t[i]&&e<t[i+1])return t[i];t[i]<e?r=i+1:a=i-1}}},{key:"_adjustStashSize",value:function(e){var t=0;8192<(t=this._config.isLive?e:e<512?e:512<=e&&e<=1024?Math.floor(1.5*e):2*e)&&(t=8192);var n=1024*t+1048576;this._bufferSize<n&&this._expandBuffer(n),this._stashSize=1024*t}},{key:"_dispatchChunks",value:function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)}},{key:"_onURLRedirect",value:function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)}},{key:"_onHeaderReceived",value:function(){this._emitter.emit(m.OTHER_EVENTS_POLYMER,{eventName:m.default.HTTP_HEADER_RECEIVED,eventParams:[Date.now()-this._requestStartTime,this._dataSource.url]})}},{key:"_onContentLengthKnown",value:function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)}},{key:"_onLoaderChunkArrival",value:function(e,t,n){if(!this._onDataArrival)throw new _.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var i=this._speedSampler.lastSecondKBps;if(0!==i){var r=this._normalizeSpeed(i);this._speedNormalized!==r&&(this._speedNormalized=r,this._adjustStashSize(r))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else{var a=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(0<this._stashUsed){var o=this._stashBuffer.slice(0,this._stashUsed),s=this._dispatchChunks(o,this._stashByteStart);if(s<o.byteLength){if(0<s){var u=new Uint8Array(o,s);a.set(u,0),this._stashUsed=u.byteLength,this._stashByteStart+=s}}else this._stashUsed=0,this._stashByteStart+=s;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),a=new Uint8Array(this._stashBuffer,0,this._bufferSize)),a.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{var l=this._dispatchChunks(e,t);if(l<e.byteLength){var c=e.byteLength-l;c>this._bufferSize&&(this._expandBuffer(c),a=new Uint8Array(this._stashBuffer,0,this._bufferSize)),a.set(new Uint8Array(e,l),0),this._stashUsed+=c,this._stashByteStart=t+l}}}else if(0===this._stashUsed){var d=this._dispatchChunks(e,t);if(d<e.byteLength){var h=e.byteLength-d;h>this._bufferSize&&this._expandBuffer(h),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(e,d),0),this._stashUsed+=h,this._stashByteStart=t+d}}else{this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength);var f=new Uint8Array(this._stashBuffer,0,this._bufferSize);f.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;var m=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(m<this._stashUsed&&0<m){var p=new Uint8Array(this._stashBuffer,m);f.set(p,0)}this._stashUsed-=m,this._stashByteStart+=m}}}},{key:"_flushStashBuffer",value:function(e){if(0<this._stashUsed){var t=this._stashBuffer.slice(0,this._stashUsed),n=this._dispatchChunks(t,this._stashByteStart),i=t.byteLength-n;if(n<t.byteLength){if(!e){if(0<n){var r=new Uint8Array(this._stashBuffer,0,this._bufferSize),o=new Uint8Array(t,n);r.set(o,0),this._stashUsed=o.byteLength,this._stashByteStart+=n}return 0}a.default.w(this.TAG,"".concat(i," bytes unconsumed data remain when flush buffer, dropped"))}return this._stashUsed=0,this._stashByteStart=0,i}return 0}},{key:"_onLoaderStarted",value:function(e){this._emitter.emit(m.OTHER_EVENTS_POLYMER,{eventName:m.default.LOADING_STARTED,eventParams:[e]})}},{key:"_onLoaderComplete",value:function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData,e,t,this._dataSource&&this._dataSource.url)}},{key:"_onLoaderError",value:function(e,t){switch(a.default.e(this.TAG,"Loader error, code = ".concat(t.code,", msg = ").concat(t.msg)),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=s.LoaderErrors.UNRECOVERABLE_EARLY_EOF),e){case s.LoaderErrors.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var n=this._currentRange.to+1;return void(n<this._totalLength&&(a.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(n,!1)))}e=s.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break;case s.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case s.LoaderErrors.CONNECTING_TIMEOUT:case s.LoaderErrors.HTTP_STATUS_CODE_INVALID:case s.LoaderErrors.EXCEPTION:}if(!this._onError)throw new _.RuntimeException("IOException: "+t.msg);this._onError(e,t)}},{key:"_onLoaderStatusChange",value:function(e,t){t!==s.LoaderStatus.kError&&t!==s.LoaderStatus.kComplete||this._speedSampler.reset(),t===s.LoaderStatus.kConnecting&&(this._requestStartTime=Date.now())}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"status",get:function(){return this._loader.status}},{key:"totalBytes",get:function(){return this._speedSampler.totalBytes}},{key:"extraData",get:function(){return this._extraData},set:function(e){this._extraData=e}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:"onSeeked",get:function(){return this._onSeeked},set:function(e){this._onSeeked=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onComplete",get:function(){return this._onComplete},set:function(e){this._onComplete=e}},{key:"onRedirect",get:function(){return this._onRedirect},set:function(e){this._onRedirect=e}},{key:"onRecoveredEarlyEof",get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e}},{key:"currentURL",get:function(){return this._dataSource.url}},{key:"hasRedirect",get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL}},{key:"currentRedirectedURL",get:function(){return this._redirectedURL||this._dataSource.redirectedURL}},{key:"currentSpeed",get:function(){return this._loaderClass===c.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}},{key:"loaderType",get:function(){return this._loader.type}}])&&g(t.prototype,n),e}();n.default=y},{"../player/player-events.js":38,"../utils/exception.js":43,"../utils/logger.js":44,"./QVBP2PLoader":24,"./fetch-stream-loader.js":25,"./loader.js":27,"./param-seek-handler.js":28,"./range-seek-handler.js":29,"./speed-sampler.js":30,"./websocket-loader.js":31,"./xhr-moz-chunked-loader.js":32,"./xhr-msstream-loader.js":33,"./xhr-range-loader.js":34,events:1}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BaseLoader=n.LoaderEvents=n.LoaderErrors=n.LoaderStatus=void 0;var i=o(e("events")),r=o(e("../utils/logger.js")),a=e("../utils/exception.js");function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4};n.LoaderStatus=u,n.LoaderErrors={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"};var l={STATUS_CHANGE:"StatusChange"};n.LoaderEvents=l;var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._type=t||"undefined",this._status=u.kIdle,this._needStash=!1,this._onHeaderReceived=null,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onStarted=null,this._onComplete=null,this._emitter=new i.default}var t,n;return t=e,(n=[{key:"destroy",value:function(){this.status=u.kIdle,this._onHeaderReceived=null,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onStarted=null,this._onComplete=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"isWorking",value:function(){return this.status===u.kConnecting||this.status===u.kBuffering}},{key:"open",value:function(e,t){throw new a.NotImplementedException("Unimplemented abstract function!")}},{key:"abort",value:function(){throw new a.NotImplementedException("Unimplemented abstract function!")}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"type",get:function(){return this._type}},{key:"status",get:function(){return this._status},set:function(e){this._status!==e&&(this._emitter?this._emitter.emit(l.STATUS_CHANGE,this._status,this._status=e):(this._status=e,r.default.w("StatusChange","Status has been set, but instance had been destroyed")))}},{key:"needStashBuffer",get:function(){return this._needStash}},{key:"onHeaderReceived",get:function(){return this._onHeaderReceived},set:function(e){this._onHeaderReceived=e}},{key:"onContentLengthKnown",get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e}},{key:"onURLRedirect",get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onStarted",get:function(){return this._onStarted},set:function(e){this._onStarted=e}},{key:"onComplete",get:function(){return this._onComplete},set:function(e){this._onComplete=e}}])&&s(t.prototype,n),e}();n.BaseLoader=c},{"../utils/exception.js":43,"../utils/logger.js":44,events:1}],28:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._startName=t,this._endName=n}var t,n;return t=e,(n=[{key:"getConfig",value:function(e,t){var n=e;if(0!==t.from||-1!==t.to){var i=!0;-1===n.indexOf("?")&&(n+="?",i=!1),i&&(n+="&"),n+="".concat(this._startName,"=").concat(t.from.toString()),-1!==t.to&&(n+="&".concat(this._endName,"=").concat(t.to.toString()))}return{url:n,headers:{}}}},{key:"removeURLParameters",value:function(e){var t=e.split("?")[0],n=void 0,i=e.indexOf("?");-1!==i&&(n=e.substring(i+1));var r="";if(null!=n&&0<n.length)for(var a=n.split("&"),o=0;o<a.length;o++){var s=a[o].split("="),u=0<o;s[0]!==this._startName&&s[0]!==this._endName&&(u&&(r+="&"),r+=a[o])}return 0===r.length?t:t+"?"+r}}])&&i(t.prototype,n),e}();n.default=r},{}],29:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._zeroStart=t||!1}var t,n;return t=e,(n=[{key:"getConfig",value:function(e,t){var n,i={};return 0!==t.from||-1!==t.to?(n=-1!==t.to?"bytes=".concat(t.from.toString(),"-").concat(t.to.toString()):"bytes=".concat(t.from.toString(),"-"),i.Range=n):this._zeroStart&&(i.Range="bytes=0-"),{url:e,headers:i}}},{key:"removeURLParameters",value:function(e){return e}}])&&i(t.prototype,n),e}();n.default=r},{}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("events")),r=a(e("../player/player-events.js"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,this._emitter=new i.default,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}var t,n;return t=e,(n=[{key:"destroy",value:function(){this._emitter.removeAllListeners(),this._emitter=null}},{key:"reset",value:function(){this._emitter.emit(r.default.HTTP_REQUEST_ENDED,this._totalBytes),this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}},{key:"addBytes",value:function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"currentKBps",get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}},{key:"lastSecondKBps",get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:500<=this._now()-this._lastCheckpoint?this.currentKBps:0}},{key:"averageKBps",get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024}},{key:"totalBytes",get:function(){return this._totalBytes}}])&&o(t.prototype,n),e}();n.default=s},{"../player/player-events.js":38,events:1}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(i=e("../utils/logger.js"))&&i.__esModule;var i,r=e("./loader.js"),a=e("../utils/exception.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,u(t).call(this,"websocket-loader"))).TAG="WebSocketLoader",e._needStash=!0,e._ws=null,e._requestAbort=!1,e._receivedLength=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.BaseLoader),c(t,null,[{key:"isSupported",value:function(){try{return void 0!==self.WebSocket}catch(e){return!1}}}]),c(t,[{key:"destroy",value:function(){this._ws&&this.abort(),s(u(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this.status=r.LoaderStatus.kConnecting}catch(e){this.status=r.LoaderStatus.kError;var n={code:e.code,msg:e.message};if(!this._onError)throw new a.RuntimeException(n.msg);this._onError(r.LoaderErrors.EXCEPTION,n)}this.onStarted&&this.onStarted(Date.now())}},{key:"abort",value:function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this.status=r.LoaderStatus.kComplete}},{key:"_onWebSocketOpen",value:function(e){this.status=r.LoaderStatus.kBuffering}},{key:"_onWebSocketClose",value:function(e){!0!==this._requestAbort?(this.status=r.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}},{key:"_onWebSocketMessage",value:function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var n=new FileReader;n.onload=function(){t._dispatchArrayBuffer(n.result)},n.readAsArrayBuffer(e.data)}else{this.status=r.LoaderStatus.kError;var i={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new a.RuntimeException(i.msg);this._onError(r.LoaderErrors.EXCEPTION,i)}}},{key:"_dispatchArrayBuffer",value:function(e){var t=e,n=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}},{key:"_onWebSocketError",value:function(e){this.status=r.LoaderStatus.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new a.RuntimeException(t.msg);this._onError(r.LoaderErrors.EXCEPTION,t)}}]),t}();n.default=h},{"../utils/exception.js":43,"../utils/logger.js":44,"./loader.js":27}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("../utils/logger.js"))&&i.__esModule?i:{default:i},a=e("./loader.js"),o=e("../utils/exception.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e,n){var i;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(i=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,l(t).call(this,"xhr-moz-chunked-loader"))).TAG="MozChunkedLoader",i._seekHandler=e,i._config=n,i._needStash=!0,i._xhr=null,i._requestAbort=!1,i._contentLength=null,i._receivedLength=0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a.BaseLoader),d(t,null,[{key:"isSupported",value:function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),(e.responseType="moz-chunked-arraybuffer")===e.responseType}catch(e){return r.default.w("MozChunkedLoader",e.message),!1}}}]),d(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),u(l(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);var i=this._seekHandler.getConfig(n,t);this._requestURL=i.url;var r=this._xhr=new XMLHttpRequest;if(r.open("GET",i.url,!0),r.responseType="moz-chunked-arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onloadend=this._onLoadEnd.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&r.withCredentials&&(r.withCredentials=!0),"object"===s(i.headers)){var o=i.headers;for(var u in o)o.hasOwnProperty(u)&&r.setRequestHeader(u,o[u])}if("object"===s(this._config.headers)){var l=this._config.headers;for(var c in l)l.hasOwnProperty(c)&&r.setRequestHeader(c,l[c])}this.status=a.LoaderStatus.kConnecting,r.send(),this.onStarted&&this.onStarted(Date.now())}},{key:"abort",value:function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this.status=a.LoaderStatus.kComplete}},{key:"_onReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState){if(this.onHeaderReceived&&this.onHeaderReceived(),null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var n=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(n)}if(0!==t.status&&(t.status<200||299<t.status)){if(this.status=a.LoaderStatus.kError,!this._onError)throw new o.RuntimeException("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(a.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this.status=a.LoaderStatus.kBuffering}}},{key:"_onProgress",value:function(e){if(this.status!==a.LoaderStatus.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}}},{key:"_onLoadEnd",value:function(e){!0!==this._requestAbort?this.status!==a.LoaderStatus.kError&&(this.status=a.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}},{key:"_onXhrError",value:function(e){this.status=a.LoaderStatus.kError;var t,n=0;if(t=this._contentLength&&e.loaded<this._contentLength?(n=a.LoaderErrors.EARLY_EOF,{code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(n=a.LoaderErrors.EXCEPTION,{code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new o.RuntimeException(t.msg);this._onError(n,t)}}]),t}();n.default=f},{"../utils/exception.js":43,"../utils/logger.js":44,"./loader.js":27}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("../utils/logger.js"))&&i.__esModule?i:{default:i},a=e("./loader.js"),o=e("../utils/exception.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e,n){var i;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(i=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,l(t).call(this,"xhr-msstream-loader"))).TAG="MSStreamLoader",i._seekHandler=e,i._config=n,i._needStash=!0,i._xhr=null,i._reader=null,i._totalRange=null,i._currentRange=null,i._currentRequestURL=null,i._currentRedirectedURL=null,i._contentLength=null,i._receivedLength=0,i._bufferLimit=16777216,i._lastTimeBufferSize=0,i._isReconnecting=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a.BaseLoader),d(t,null,[{key:"isSupported",value:function(){try{if(void 0===self.MSStream||void 0===self.MSStreamReader)return!1;var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),(e.responseType="ms-stream")===e.responseType}catch(e){return r.default.w("MSStreamLoader",e.message),!1}}}]),d(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),u(l(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){this._internalOpen(e,t,!1),this.onStarted&&this.onStarted(Date.now())}},{key:"_internalOpen",value:function(e,t,n){this._dataSource=e,n?this._currentRange=t:this._totalRange=t;var i=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?i=this._currentRedirectedURL:null!=e.redirectedURL&&(i=e.redirectedURL));var r=this._seekHandler.getConfig(i,t);this._currentRequestURL=r.url;var o=this._reader=new self.MSStreamReader;o.onprogress=this._msrOnProgress.bind(this),o.onload=this._msrOnLoad.bind(this),o.onerror=this._msrOnError.bind(this);var u=this._xhr=new XMLHttpRequest;if(u.open("GET",r.url,!0),u.responseType="ms-stream",u.onreadystatechange=this._xhrOnReadyStateChange.bind(this),u.onerror=this._xhrOnError.bind(this),e.withCredentials&&(u.withCredentials=!0),"object"===s(r.headers)){var l=r.headers;for(var c in l)l.hasOwnProperty(c)&&u.setRequestHeader(c,l[c])}if("object"===s(this._config.headers)){var d=this._config.headers;for(var h in d)d.hasOwnProperty(h)&&u.setRequestHeader(h,d[h])}this._isReconnecting?this._isReconnecting=!1:this.status=a.LoaderStatus.kConnecting,u.send()}},{key:"abort",value:function(){this._internalAbort(),this.status=a.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._reader&&(1===this._reader.readyState&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)}},{key:"_xhrOnReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState)if(this.onHeaderReceived&&this.onHeaderReceived(),200<=t.status&&t.status<=299){if(this.status=a.LoaderStatus.kBuffering,null!=t.responseURL){var n=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&n!==this._currentRedirectedURL&&(this._currentRedirectedURL=n,this._onURLRedirect&&this._onURLRedirect(n))}var i=t.getResponseHeader("Content-Length");if(null!=i&&null==this._contentLength){var r=parseInt(i);0<r&&(this._contentLength=r,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this.status=a.LoaderStatus.kError,!this._onError)throw new o.RuntimeException("MSStreamLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(a.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else if(3===t.readyState&&200<=t.status&&t.status<=299){this.status=a.LoaderStatus.kBuffering;var s=t.response;this._reader.readAsArrayBuffer(s)}}},{key:"_xhrOnError",value:function(e){this.status=a.LoaderStatus.kError;var t=a.LoaderErrors.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type};if(!this._onError)throw new o.RuntimeException(n.msg);this._onError(t,n)}},{key:"_msrOnProgress",value:function(e){var t=e.target.result;if(null!=t){var n=t.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=t.byteLength;var i=this._totalRange.from+this._receivedLength;this._receivedLength+=n.byteLength,this._onDataArrival&&this._onDataArrival(n,i,this._receivedLength),t.byteLength>=this._bufferLimit&&(r.default.v(this.TAG,"MSStream buffer exceeded max size near ".concat(i+n.byteLength,", reconnecting...")),this._doReconnectIfNeeded())}else this._doReconnectIfNeeded()}},{key:"_doReconnectIfNeeded",value:function(){if(null==this._contentLength||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var e={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,e,!0)}}},{key:"_msrOnLoad",value:function(e){this.status=a.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)}},{key:"_msrOnError",value:function(e){this.status=a.LoaderStatus.kError;var t,n=0;if(t=this._contentLength&&this._receivedLength<this._contentLength?(n=a.LoaderErrors.EARLY_EOF,{code:-1,msg:"MSStream meet Early-Eof"}):(n=a.LoaderErrors.EARLY_EOF,{code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new o.RuntimeException(t.msg);this._onError(n,t)}}]),t}();n.default=f},{"../utils/exception.js":43,"../utils/logger.js":44,"./loader.js":27}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("../utils/logger.js")),r=s(e("./speed-sampler.js")),a=e("./loader.js"),o=e("../utils/exception.js");function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e,n){var i;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(i=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,c(t).call(this,"xhr-range-loader"))).TAG="RangeLoader",i._seekHandler=e,i._config=n,i._needStash=!1,i._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],i._currentChunkSizeKB=384,i._currentSpeedNormalized=0,i._zeroSpeedChunkCount=0,i._xhr=null,i._speedSampler=new r.default,i._requestAbort=!1,i._waitForTotalLength=!1,i._totalLengthReceived=!1,i._currentRequestURL=null,i._currentRedirectedURL=null,i._currentRequestRange=null,i._totalLength=null,i._contentLength=null,i._receivedLength=0,i._lastTimeLoaded=0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a.BaseLoader),h(t,null,[{key:"isSupported",value:function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),(e.responseType="arraybuffer")===e.responseType}catch(e){return i.default.w("RangeLoader",e.message),!1}}}]),h(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),l(c(t.prototype),"destroy",this).call(this),this._speedSampler.destroy()}},{key:"open",value:function(e,t){this._dataSource=e,this._range=t,this.status=a.LoaderStatus.kConnecting;var n=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(n=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||n?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})),this.onStarted&&this.onStarted(Date.now())}},{key:"_openSubRange",value:function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,n=t+e;null!=this._contentLength&&n-this._range.from>=this._contentLength&&(n=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:n},this._internalOpen(this._dataSource,this._currentRequestRange)}},{key:"_internalOpen",value:function(e,t){this._lastTimeLoaded=0;var n=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?n=this._currentRedirectedURL:null!=e.redirectedURL&&(n=e.redirectedURL));var i=this._seekHandler.getConfig(n,t);this._currentRequestURL=i.url;var r=this._xhr=new XMLHttpRequest;if(r.open("GET",i.url,!0),r.responseType="arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onload=this._onLoad.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&r.withCredentials&&(r.withCredentials=!0),"object"===u(i.headers)){var a=i.headers;for(var o in a)a.hasOwnProperty(o)&&r.setRequestHeader(o,a[o])}if("object"===u(this._config.headers)){var s=this._config.headers;for(var l in s)s.hasOwnProperty(l)&&r.setRequestHeader(l,s[l])}r.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._internalAbort(),this.status=a.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}},{key:"_onReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState){if(this.onHeaderReceived&&this.onHeaderReceived(),null!=t.responseURL){var n=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&n!==this._currentRedirectedURL&&(this._currentRedirectedURL=n,this._onURLRedirect&&this._onURLRedirect(n))}if(200<=t.status&&t.status<=299){if(this._waitForTotalLength)return;this.status=a.LoaderStatus.kBuffering}else{if(this.status=a.LoaderStatus.kError,!this._onError)throw new o.RuntimeException("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(a.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}}},{key:"_onProgress",value:function(e){if(this.status!==a.LoaderStatus.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,t=this._totalLengthReceived=!0;var n=e.total;this._internalAbort(),null!=n&0!==n&&(this._totalLength=n)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var i=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(i)}}},{key:"_normalizeSpeed",value:function(e){var t=this._chunkSizeKBList,n=t.length-1,i=0,r=0,a=n;if(e<t[0])return t[0];for(;r<=a;){if((i=r+Math.floor((a-r)/2))===n||e>=t[i]&&e<t[i+1])return t[i];t[i]<e?r=i+1:a=i-1}}},{key:"_onLoad",value:function(e){if(this.status!==a.LoaderStatus.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,3<=this._zeroSpeedChunkCount&&(t=this._speedSampler.currentKBps)),0!==t){var n=this._normalizeSpeed(t);this._currentSpeedNormalized!==n&&(this._currentSpeedNormalized=n,this._currentChunkSizeKB=n)}var i=e.target.response,r=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength;var o=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():o=!0,this._onDataArrival&&this._onDataArrival(i,r,this._receivedLength),o&&(this.status=a.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}}},{key:"_onXhrError",value:function(e){this.status=a.LoaderStatus.kError;var t,n=0;if(t=this._contentLength&&0<this._receivedLength&&this._receivedLength<this._contentLength?(n=a.LoaderErrors.EARLY_EOF,{code:-1,msg:"RangeLoader meet Early-Eof"}):(n=a.LoaderErrors.EXCEPTION,{code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new o.RuntimeException(t.msg);this._onError(n,t)}},{key:"currentSpeed",get:function(){return this._speedSampler.lastSecondKBps}}]),t}();n.default=_},{"../utils/exception.js":43,"../utils/logger.js":44,"./loader.js":27,"./speed-sampler.js":30}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=m(e("events")),r=m(e("../utils/logger.js")),a=m(e("../utils/browser.js")),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return function(){return e},e}();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=i?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(e("./player-events.js")),s=m(e("../core/transmuxer.js")),u=m(e("../core/transmuxing-events.js")),l=m(e("../core/mse-controller.js")),c=m(e("../core/mse-events.js")),d=e("./player-errors.js"),h=e("../config.js"),f=e("../utils/exception.js"),_=m(e("../utils/utils.js"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g=function(){function e(t,n){if(function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new i.default,this._createdTime=Date.now(),this._config=(0,h.createDefaultConfig)(),"object"===p(n)&&Object.assign(this._config,n),"flv"!==t.type.toLowerCase())throw new f.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");!0===t.isLive&&(this._config.isLive=!0),!0===t.clipCacheEnabled&&(this._config.clipCacheEnabled=!0),this._config.clipCacheDuration=parseFloat(this._config.clipCacheDuration),isNaN(this._config.clipCacheDuration)?this._config.clipCacheDuration=30:this._config.clipCacheDuration<5?this._config.clipCacheDuration=5:180<this._config.clipCacheDuration&&(this._config.clipCacheDuration=180),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=t,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var r=a.default.chrome&&(a.default.version.major<50||50===a.default.version.major&&a.default.version.build<2661);this._alwaysSeekKeyframe=!!(r||a.default.msedge||a.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}var t,n;return t=e,(n=[{key:"destroy",value:function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"getConfig",value:function(){return _.default.cloneDeep(this._config,!0)}},{key:"getClipCacheData",value:function(){var e=null;if(this._transmuxer){var t=this._transmuxer.getClipCacheData();t&&t.audioMetadata&&t.videoMetadata&&t.clipCacheTrack&&t.clipCacheTrack.videoTrack&&t.clipCacheTrack.videoTrack.length&&t.clipCacheTrack.audioTrack&&t.clipCacheTrack.audioTrack.length&&(e=t)}return e}},{key:"on",value:function(e,t){var n=this;e===o.default.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(function(){n._emitter.emit(o.default.MEDIA_INFO,n.mediaInfo)}):e===o.default.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(function(){n._emitter.emit(o.default.STATISTICS_INFO,n.statisticsInfo)}),this._emitter.addListener(e,t)}},{key:"one",value:function(e,t){this._emitter.once(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){var t=this;if((this._mediaElement=e).addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new l.default(this._config),this._msectl.on(c.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(c.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(c.default.SOURCE_OPEN,function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())}),this._msectl.on(c.default.ERROR,function(e){t._emitter.emit(o.default.ERROR,d.ErrorTypes.MEDIA_ERROR,d.ErrorDetails.MEDIA_MSE_ERROR,e)}),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}},{key:"load",value:function(){var e=this;if(!this._mediaElement)throw new f.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new f.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(0<this._mediaElement.readyState&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new s.default(this._mediaDataSource,this._config,this._mediaElement),this._transmuxer.on(u.default.INIT_SEGMENT,function(t,n){e._msectl.appendInitSegment(n)}),this._transmuxer.on(u.default.MEDIA_SEGMENT,function(t,n){if(e._msectl.appendMediaSegment(n),e._config.lazyLoad&&!e._config.isLive){var i=e._mediaElement.currentTime;n.info.endDts>=1e3*(i+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(r.default.v(e.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),e._suspendTransmuxer())}}),this._transmuxer.on(u.default.GET_SEI_DATA,function(t){e._emitter.emit(o.default.SEI_DATA,t)}),this._transmuxer.on(u.default.LOADING_COMPLETE,function(t,n,i){e._msectl.endOfStream(),e._emitter.emit(o.default.LOADING_COMPLETE,{requestUrl:i,metadata:e._mediaInfo?e._mediaInfo.metadata:null,from:t,to:n});try{var r=e._mediaInfo.metadata.filesize;r&&n&&r!==n+1&&e._emitter.emit(o.default.ERROR,d.ErrorTypes.OTHER_ERROR,d.ErrorDetails.ABNORMAL_SEGMENT_BYTELENGTH,{code:-1,msg:"Abnormal segment bytelength"})}catch(t){}}),this._transmuxer.on(u.default.RECOVERED_EARLY_EOF,function(){e._emitter.emit(o.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(u.default.IO_ERROR,function(t,n){e._emitter.emit(o.default.ERROR,d.ErrorTypes.NETWORK_ERROR,t,n)}),this._transmuxer.on(u.default.DEMUX_ERROR,function(t,n){e._emitter.emit(o.default.ERROR,d.ErrorTypes.MEDIA_ERROR,t,{code:-1,msg:n})}),this._transmuxer.on(u.default.MEDIA_INFO,function(t){e._mediaInfo=t,e._emitter.emit(o.default.MEDIA_INFO,Object.assign({},t))}),this._transmuxer.on(u.default.METADATA_ARRIVED,function(t){e._emitter.emit(o.default.METADATA_ARRIVED,t)}),this._transmuxer.on(u.default.SCRIPTDATA_ARRIVED,function(t){e._emitter.emit(o.default.SCRIPTDATA_ARRIVED,t)}),this._transmuxer.on(u.default.STATISTICS_INFO,function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(o.default.STATISTICS_INFO,Object.assign({},e._statisticsInfo))}),this._transmuxer.on(u.default.RECOMMEND_SEEKPOINT,function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)}),this._transmuxer.on(o.OTHER_EVENTS_POLYMER,function(t){var n;(n=e._emitter).emit.apply(n,[t.eventName].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(t.eventParams)))}),this._transmuxer.open()))}},{key:"unload",value:function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_fillStatisticsInfo",value:function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,n=0,i=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();n=r.totalVideoFrames,i=r.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,i=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=i),e}},{key:"_onmseUpdateEnd",value:function(){if(this._config.lazyLoad&&!this._config.isLive){for(var e=this._mediaElement.buffered,t=this._mediaElement.currentTime,n=0,i=0;i<e.length;i++){var a=e.start(i),o=e.end(i);if(a<=t&&t<o){n=o;break}}n>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(r.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}},{key:"_onmseBufferFull",value:function(){r.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()}},{key:"_suspendTransmuxer",value:function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}},{key:"_checkProgressAndResume",value:function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,n=!1,i=0;i<t.length;i++){var a=t.start(i),o=t.end(i);if(a<=e&&e<o){e>=o-this._config.lazyLoadRecoverDuration&&(n=!0);break}}n&&(window.clearInterval(this._progressChecker),this._progressChecker=null,n&&(r.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}},{key:"_isTimepointBuffered",value:function(e){for(var t=this._mediaElement.buffered,n=0;n<t.length;n++){var i=t.start(n),r=t.end(n);if(i<=e&&e<r)return!0}return!1}},{key:"_internalSeek",value:function(e){var t=this._isTimepointBuffered(e),n=!1,i=0;if(e<1&&0<this._mediaElement.buffered.length){var r=this._mediaElement.buffered.start(0);(r<1&&e<r||a.default.safari)&&(n=!0,i=a.default.safari?.1:r)}if(n)this._requestSetTime=!0,this._mediaElement.currentTime=i;else if(t){if(this._alwaysSeekKeyframe){var o=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=o?o.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)}},{key:"_checkAndApplyUnbufferedSeekpoint",value:function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},{key:"_checkAndResumeStuckPlayback",value:function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var n=t.buffered;0<n.length&&t.currentTime<n.start(0)&&(r.default.w(this.TAG,"Playback seems stuck at ".concat(t.currentTime,", seek to ").concat(n.start(0))),this._requestSetTime=!0,this._mediaElement.currentTime=n.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}},{key:"_onvLoadedMetadata",value:function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}},{key:"_onvSeeking",value:function(e){var t=this._mediaElement.currentTime,n=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&0<n.length){var i=n.start(0);if(i<1&&t<i||a.default.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=a.default.safari?.1:i)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var r=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=r&&(this._requestSetTime=!0,this._mediaElement.currentTime=r.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}},{key:"_onvCanPlay",value:function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}},{key:"_onvStalled",value:function(e){this._checkAndResumeStuckPlayback(!0)}},{key:"_onvProgress",value:function(e){this._checkAndResumeStuckPlayback()}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e}},{key:"mediaInfo",get:function(){return Object.assign({},this._mediaInfo)}},{key:"statisticsInfo",get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}},{key:"createdTime",get:function(){return this._createdTime}},{key:"canClip",get:function(){return!!this.getClipCacheData()}},{key:"clipCacheEnabled",get:function(){return this._config.clipCacheEnabled}},{key:"getFirstIdr",get:function(){return this._msectl&&this._msectl._idrList&&0!==this._msectl._idrList._list.length?this._msectl._idrList._list[0]:null}}])&&v(t.prototype,n),e}();n.default=g},{"../config.js":7,"../core/mse-controller.js":11,"../core/mse-events.js":12,"../core/transmuxer.js":13,"../core/transmuxing-events.js":15,"../utils/browser.js":42,"../utils/exception.js":43,"../utils/logger.js":44,"../utils/utils.js":48,"./player-errors.js":37,"./player-events.js":38,events:1}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=u(e("events")),r=u(e("./player-events.js")),a=e("../config.js"),o=e("../utils/exception.js"),s=u(e("../utils/utils.js"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(t,n){if(function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new i.default,this._createdTime=Date.now(),this._config=(0,a.createDefaultConfig)(),"object"===l(n)&&Object.assign(this._config,n),!0===t.clipCacheEnabled&&(this._config.clipCacheEnabled=!0),"flv"===t.type.toLowerCase())throw new o.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(t.hasOwnProperty("segments"))throw new o.InvalidArgumentException("NativePlayer(".concat(t.type,") doesn't support multipart playback!"));this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=t,this._mediaElement=null}var t,n;return t=e,(n=[{key:"destroy",value:function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"getConfig",value:function(){return s.default.cloneDeep(this._config,!0)}},{key:"getClipCacheData",value:function(){return null}},{key:"on",value:function(e,t){var n=this;e===r.default.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){n._emitter.emit(r.default.MEDIA_INFO,n.mediaInfo)}):e===r.default.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){n._emitter.emit(r.default.STATISTICS_INFO,n.statisticsInfo)}),this._emitter.addListener(e,t)}},{key:"one",value:function(e,t){this._emitter.once(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){if((this._mediaElement=e).addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"load",value:function(){if(!this._mediaElement)throw new o.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,0<this._mediaElement.readyState&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}},{key:"unload",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_onvLoadedMetadata",value:function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(r.default.MEDIA_INFO,this.mediaInfo)}},{key:"_reportStatisticsInfo",value:function(){this._emitter.emit(r.default.STATISTICS_INFO,this.statisticsInfo)}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e}},{key:"mediaInfo",get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e}},{key:"statisticsInfo",get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,n=0,i=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();n=r.totalVideoFrames,i=r.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,i=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=i),e}},{key:"createdTime",get:function(){return this._createdTime}},{key:"canClip",get:function(){return!1}},{key:"clipCacheEnabled",get:function(){return this._config.clipCacheEnabled}}])&&c(t.prototype,n),e}();n.default=d},{"../config.js":7,"../utils/exception.js":43,"../utils/utils.js":48,"./player-events.js":38,events:1}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorDetails=n.ErrorTypes=void 0;var i,r=e("../io/loader.js"),a=(i=e("../demux/demux-errors.js"))&&i.__esModule?i:{default:i};n.ErrorTypes={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"};var o={NETWORK_EXCEPTION:r.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:r.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:r.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:r.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:a.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:a.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:a.default.CODEC_UNSUPPORTED,ABNORMAL_SEGMENT_BYTELENGTH:"AbnormalSegmentBytelength"};n.ErrorDetails=o},{"../demux/demux-errors.js":18,"../io/loader.js":27}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.OTHER_EVENTS_POLYMER=void 0,n.OTHER_EVENTS_POLYMER="other_events_polymer";n.default={ERROR:"error",LOADING_STARTED:"loading_started",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",HTTP_REQUEST_ENDED:"http_request_ended",HTTP_HEADER_RECEIVED:"http_header_received",AUDIO_FRAME_DECODED:"audio_frame_decoded",VIDEO_FRAME_DECODED:"video_frame_decoded",CTS_WARNING:"cts_warning"}},{}],39:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}],null&&i(t.prototype,null),n&&i(t,n),e}();n.default=r},{}],40:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n;return t=e,n=[{key:"init",value:function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]})e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=e.constants={};n.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),n.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),n.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),n.STSC=n.STCO=n.STTS,n.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),n.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),n.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),n.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}},{key:"box",value:function(e){for(var t=8,n=null,i=Array.prototype.slice.call(arguments,1),r=i.length,a=0;a<r;a++)t+=i[a].byteLength;(n=new Uint8Array(t))[0]=t>>>24&255,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n.set(e,4);for(var o=8,s=0;s<r;s++)n.set(i[s],o),o+=i[s].byteLength;return n}},{key:"generateInitSegment",value:function(t,n){var i,r=e.box(e.types.ftyp,e.constants.FTYP);i=n?e.moov(t,n):e.moov(t);var a=new Uint8Array(r.byteLength+i.byteLength);return a.set(r,0),a.set(i,r.byteLength),a}},{key:"moov",value:function(t,n){var i,r,a=e.mvhd(t.timescale,t.duration),o=e.trak(t);return n?(i=e.trak(n),r=e.mvex(t,n),e.box(e.types.moov,a,o,i,r)):(r=e.mvex(t),e.box(e.types.moov,a,o,r))}},{key:"mvhd",value:function(t,n){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"tkhd",value:function(t){var n=t.id,i=t.duration,r=t.presentWidth,a=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,a>>>8&255,255&a,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))}},{key:"mdhd",value:function(t){var n=t.timescale,i=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))}},{key:"hdlr",value:function(t){var n;return n="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,n)}},{key:"minf",value:function(t){var n;return n="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,n,e.dinf(),e.stbl(t))}},{key:"dinf",value:function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))}},{key:"stsd",value:function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))}},{key:"mp3",value:function(t){var n=t.channelCount,i=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return e.box(e.types[".mp3"],r)}},{key:"mp4a",value:function(t){var n=t.channelCount,i=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return e.box(e.types.mp4a,r,e.esds(t))}},{key:"esds",value:function(t){var n=t.config||[],i=n.length,r=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(n).concat([6,1,2]));return e.box(e.types.esds,r)}},{key:"avc1",value:function(t){var n=t.avcc,i=t.codecWidth,r=t.codecHeight,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,a,e.box(e.types.avcC,n))}},{key:"mvex",value:function(t,n){return n?e.box(e.types.mvex,e.trex(t),e.trex(n)):e.box(e.types.mvex,e.trex(t))}},{key:"trex",value:function(t){var n=t.id,i=new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,i)}},{key:"moof",value:function(t,n){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,n))}},{key:"mfhd",value:function(t){var n=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,n)}},{key:"traf",value:function(t,n){var i=t.id,r=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),a=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),o=e.sdtp(t),s=e.trun(t,o.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,r,a,s,o)}},{key:"sdtp",value:function(t){for(var n=t.samples||[],i=n.length,r=new Uint8Array(4+i),a=0;a<i;a++){var o=n[a].flags;r[a+4]=o.isLeading<<6|o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy}return e.box(e.types.sdtp,r)}},{key:"trun",value:function(t,n){var i=t.samples||[],r=i.length,a=12+16*r,o=new Uint8Array(a);n+=8+a,o.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0);for(var s=0;s<r;s++){var u=i[s].duration,l=i[s].size,c=i[s].flags,d=i[s].cts;o.set([u>>>24&255,u>>>16&255,u>>>8&255,255&u,l>>>24&255,l>>>16&255,l>>>8&255,255&l,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.isNonSync,0,0,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*s)}return e.box(e.types.trun,o)}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}}],null&&i(t.prototype,null),n&&i(t,n),e}();r.init();var a=r;n.default=a},{}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(e("../utils/logger.js")),r=l(e("./mp4-generator.js")),a=l(e("./aac-silent.js")),o=l(e("../utils/browser.js")),s=e("../core/media-segment-info.js"),u=e("../utils/exception.js");function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="MP4Remuxer",this._isClipRemux=!1,this._config=t,this._isLive=!0===t.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new s.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new s.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!o.default.chrome||!(o.default.version.major<50||50===o.default.version.major&&o.default.version.build<2661)),this._fillSilentAfterSeek=o.default.msedge||o.default.msie,this._mp3UseMpegAudio=!o.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}var t,n;return t=e,(n=[{key:"destroy",value:function(){this._isClipRemux=!1,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}},{key:"bindDataSource",value:function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),e.onTrackMetadata2=this._onTrackMetadataReceived2.bind(this),this}},{key:"insertDiscontinuity",value:function(){this._audioNextDts=this._videoNextDts=void 0}},{key:"seek",value:function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}},{key:"remux",value:function(e,t){if(!this._onMediaSegment)throw new u.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}},{key:"_onTrackMetadataReceived",value:function(e,t){var n=null,i="mp4",a=t.codec;if("audio"===e)n="mp3"===(this._audioMeta=t).codec&&this._mp3UseMpegAudio?(i="mpeg",a="",new Uint8Array):r.default.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,n=r.default.generateInitSegment(t)}if(!this._onInitSegment)throw new u.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:n.buffer,codec:a,container:"".concat(e,"/").concat(i),mediaDuration:t.duration})}},{key:"_onTrackMetadataReceived2",value:function(e,t){var n=null,i="mp4",a="";if(e&&t){if(this._audioMeta=e,a=(this._videoMeta=t).codec+","+e.codec,n="mp3"===e.codec&&this._mp3UseMpegAudio?(i="mpeg",a="",r.default.generateInitSegment(t)):r.default.generateInitSegment(e,t),!this._onInitSegment)throw new u.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment("video",{type:"video",data:n.buffer,codec:a,container:"video".concat("/",i),mediaDuration:t.duration})}}},{key:"_calculateDtsBase",value:function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}},{key:"flushStashedSamples",value:function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,n={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(n.samples.push(e),n.length=e.length);var i={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(i.samples.push(t),i.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(n,!0),this._remuxAudio(i,!0)}},{key:"_remuxAudio",value:function(e,t){if(null!=this._audioMeta){var n,u=e,l=u.samples,c=void 0,d=-1,h=this._audioMeta.refSampleDuration,f="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,_=this._dtsBaseInited&&void 0===this._audioNextDts,m=!1;if(l&&0!==l.length&&(1!==l.length||t)){var p=0,v=null,g=0;g=f?(p=0,u.length):(p=8)+u.length;var y=null;if(1<l.length&&(g-=(y=l.pop()).length),null!=this._audioStashedLastSample){var b=this._audioStashedLastSample;this._audioStashedLastSample=null,l.unshift(b),g+=b.length}null!=y&&(this._audioStashedLastSample=y);var E=l[0].dts-this._dtsBase;if(this._audioNextDts)c=E-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())c=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(m=!0);else{var k=this._audioSegmentInfoList.getLastSampleBefore(E);if(null!=k){var S=E-(k.originalDts+k.duration);S<=3&&(S=0),c=E-(k.dts+k.duration+S)}else c=0}if(m){var w=E-c,L=this._videoSegmentInfoList.getLastSegmentBefore(E);if(null!=L&&L.beginDts<w){var R=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(R){var T=L.beginDts;this.isClipRemux&&(T+=this._dtsBase);var A=w-L.beginDts;i.default.v(this.TAG,"InsertPrefixSilentAudio: dts: ".concat(T,", duration: ").concat(A)),l.unshift({unit:R,dts:T,pts:T}),g+=R.byteLength}}else m=!1}for(var C=[],O=0;O<l.length;O++){var x=l[O],D=x.unit,I=x.dts-this._dtsBase,M=I,P=!1,B=null,j=0;if(!(I<-.001)){if("mp3"!==this._audioMeta.codec){var N=I;if(this._audioNextDts&&(N=this._audioNextDts),(c=I-N)<=-3*h){i.default.w(this.TAG,"Dropping 1 audio frame (originalDts: ".concat(I," ms ,curRefDts: ").concat(N," ms)  due to dtsCorrection: ").concat(c," ms overlap."));continue}if(3*h<=c&&this._fillAudioTimestampGap&&!o.default.safari){P=!0;var U=Math.floor(c/h);i.default.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\n"+"originalDts: ".concat(I," ms, curRefDts: ").concat(N," ms, ")+"dtsCorrection: ".concat(Math.round(c)," ms, generate: ").concat(U," frames")),M=Math.floor(N),j=Math.floor(N+h)-M;var F=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==F&&(i.default.w(this.TAG,"Unable to generate silent frame for "+"".concat(this._audioMeta.originalCodec," with ").concat(this._audioMeta.channelCount," channels, repeat last frame")),F=D),B=[];for(var G=0;G<U;G++){N+=h;var H=Math.floor(N),V=Math.floor(N+h)-H,z={dts:H,pts:H,cts:0,unit:F,size:F.byteLength,duration:V,originalDts:I,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};B.push(z),g+=D.byteLength}this._audioNextDts=N+h}else M=Math.floor(N),j=Math.floor(N+h)-M,this._audioNextDts=N+h}else M=I-c,j=O!==l.length-1?l[O+1].dts-this._dtsBase-c-M:null!=y?y.dts-this._dtsBase-c-M:1<=C.length?C[C.length-1].duration:Math.floor(h),this._audioNextDts=M+j;-1===d&&(d=M),C.push({dts:M,pts:M,cts:0,unit:x.unit,size:x.unit.byteLength,duration:j,originalDts:I,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),P&&C.push.apply(C,B)}}if(0===C.length)return u.samples=[],void(u.length=0);f?v=new Uint8Array(g):((v=new Uint8Array(g))[0]=g>>>24&255,v[1]=g>>>16&255,v[2]=g>>>8&255,v[3]=255&g,v.set(r.default.types.mdat,4));for(var W=0;W<C.length;W++){var q=C[W].unit;v.set(q,p),p+=q.byteLength}var K=C[C.length-1];n=K.dts+K.duration;var Y=new s.MediaSegmentInfo;Y.beginDts=d,Y.endDts=n,Y.beginPts=d,Y.endPts=n,Y.originalBeginDts=C[0].originalDts,Y.originalEndDts=K.originalDts+K.duration,Y.firstSample=new s.SampleInfo(C[0].dts,C[0].pts,C[0].duration,C[0].originalDts,!1),Y.lastSample=new s.SampleInfo(K.dts,K.pts,K.duration,K.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(Y),u.samples=C,u.sequenceNumber++;var Q;Q=f?new Uint8Array:r.default.moof(u,d),u.samples=[],u.length=0;var Z={type:"audio",data:this._mergeBoxes(Q,v).buffer,sampleCount:C.length,info:Y};f&&_&&(Z.timestampOffset=d),this._onMediaSegment("audio",Z)}}}},{key:"_remuxVideo",value:function(e,t){if(null!=this._videoMeta){var n,i,a=e,o=a.samples,u=void 0,l=-1,c=-1;if(o&&0!==o.length&&(1!==o.length||t)){var d=8,h=null,f=8+e.length,_=null;if(1<o.length&&(f-=(_=o.pop()).length),null!=this._videoStashedLastSample){var m=this._videoStashedLastSample;this._videoStashedLastSample=null,o.unshift(m),f+=m.length}null!=_&&(this._videoStashedLastSample=_);var p=o[0].dts-this._dtsBase;if(this._videoNextDts)u=p-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())u=0;else{var v=this._videoSegmentInfoList.getLastSampleBefore(p);if(null!=v){var g=p-(v.originalDts+v.duration);g<=3&&(g=0),u=p-(v.dts+v.duration+g)}else u=0}for(var y=new s.MediaSegmentInfo,b=[],E=0;E<o.length;E++){var k=o[E],S=k.dts-this._dtsBase,w=k.isKeyframe,L=S-u,R=k.cts,T=L+R;-1===l&&(l=L,c=T);var A=0;if(A=E!==o.length-1?o[E+1].dts-this._dtsBase-u-L:null!=_?_.dts-this._dtsBase-u-L:1<=b.length?b[b.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),w){var C=new s.SampleInfo(L,T,A,k.dts,!0);C.fileposition=k.fileposition,y.appendSyncPoint(C)}b.push({dts:L,pts:T,cts:R,units:k.units,size:k.length,isKeyframe:w,duration:A,originalDts:S,flags:{isLeading:0,dependsOn:w?2:1,isDependedOn:w?1:0,hasRedundancy:0,isNonSync:w?0:1}})}(h=new Uint8Array(f))[0]=f>>>24&255,h[1]=f>>>16&255,h[2]=f>>>8&255,h[3]=255&f,h.set(r.default.types.mdat,4);for(var O=0;O<b.length;O++)for(var x=b[O].units;x.length;){var D=x.shift().data;h.set(D,d),d+=D.byteLength}var I=b[b.length-1];if(n=I.dts+I.duration,i=I.pts+I.duration,this._videoNextDts=n,y.beginDts=l,y.endDts=n,y.beginPts=c,y.endPts=i,y.originalBeginDts=b[0].originalDts,y.originalEndDts=I.originalDts+I.duration,y.firstSample=new s.SampleInfo(b[0].dts,b[0].pts,b[0].duration,b[0].originalDts,b[0].isKeyframe),y.lastSample=new s.SampleInfo(I.dts,I.pts,I.duration,I.originalDts,I.isKeyframe),this._isLive||this._videoSegmentInfoList.append(y),a.samples=b,a.sequenceNumber++,this._forceFirstIDR){var M=b[0].flags;M.dependsOn=2,M.isNonSync=0}var P=r.default.moof(a,l);a.samples=[],a.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(P,h).buffer,sampleCount:b.length,info:y})}}}},{key:"_mergeBoxes",value:function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n}},{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e}},{key:"isClipRemux",get:function(){return this._isClipRemux},set:function(e){this._isClipRemux=e}}])&&c(t.prototype,n),e}();n.default=d},{"../core/media-segment-info.js":10,"../utils/browser.js":42,"../utils/exception.js":43,"../utils/logger.js":44,"./aac-silent.js":39,"./mp4-generator.js":40}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0<=e.indexOf("trident")&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],n=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],r={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:n[0]||""},a={};if(r.browser){a[r.browser]=!0;var o=r.majorVersion.split(".");a.version={major:parseInt(r.majorVersion,10),string:r.version},1<o.length&&(a.version.minor=parseInt(o[1],10)),2<o.length&&(a.version.build=parseInt(o[2],10))}if(r.platform&&(a[r.platform]=!0),(a.chrome||a.opr||a.safari)&&(a.webkit=!0),(a.rv||a.iemobile)&&(a.rv&&delete a.rv,r.browser="msie",a.msie=!0),a.edge&&(delete a.edge,r.browser="msedge",a.msedge=!0),a.opr&&(r.browser="opera",a.opera=!0),a.safari&&a.android){a[r.browser="android"]=!0}for(var s in a.name=r.browser,a.platform=r.platform,i)i.hasOwnProperty(s)&&delete i[s];Object.assign(i,a)}();var r=i;n.default=r},{}],43:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}Object.defineProperty(n,"__esModule",{value:!0}),n.NotImplementedException=n.InvalidArgumentException=n.IllegalStateException=n.RuntimeException=void 0;var c=function(){function e(t){s(this,e),this._message=t}return l(e,[{key:"toString",value:function(){return this.name+": "+this.message}},{key:"name",get:function(){return"RuntimeException"}},{key:"message",get:function(){return this._message}}]),e}();n.RuntimeException=c;var d=function(e){function t(e){return s(this,t),r(this,a(t).call(this,e))}return o(t,c),l(t,[{key:"name",get:function(){return"IllegalStateException"}}]),t}();n.IllegalStateException=d;var h=function(e){function t(e){return s(this,t),r(this,a(t).call(this,e))}return o(t,c),l(t,[{key:"name",get:function(){return"InvalidArgumentException"}}]),t}();n.InvalidArgumentException=h;var f=function(e){function t(e){return s(this,t),r(this,a(t).call(this,e))}return o(t,c),l(t,[{key:"name",get:function(){return"NotImplementedException"}}]),t}();n.NotImplementedException=f},{}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("events"))&&i.__esModule?i:{default:i};function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n;return t=e,n=[{key:"e",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","error",i),e.ENABLE_ERROR&&(console.error?console.error(i):console.warn?console.warn(i):console.log(i))}},{key:"i",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","info",i),e.ENABLE_INFO&&(console.info?console.info(i):console.log(i))}},{key:"w",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",i),e.ENABLE_WARN&&(console.warn?console.warn(i):console.log(i))}},{key:"d",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",i),e.ENABLE_DEBUG&&(console.debug?console.debug(i):console.log(i))}},{key:"v",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",i),e.ENABLE_VERBOSE&&console.log(i)}}],null&&a(t.prototype,null),n&&a(t,n),e}();o.GLOBAL_TAG="flv.js",o.FORCE_GLOBAL_TAG=!1,o.ENABLE_ERROR=!0,o.ENABLE_INFO=!0,o.ENABLE_WARN=!0,o.ENABLE_DEBUG=!0,o.ENABLE_VERBOSE=!0,o.ENABLE_CALLBACK=!1,o.emitter=new r.default;var s=o;n.default=s},{events:1}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("events")),r=a(e("./logger.js"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n;return t=e,n=[{key:"getConfig",value:function(){return{globalTag:r.default.GLOBAL_TAG,forceGlobalTag:r.default.FORCE_GLOBAL_TAG,enableVerbose:r.default.ENABLE_VERBOSE,enableDebug:r.default.ENABLE_DEBUG,enableInfo:r.default.ENABLE_INFO,enableWarn:r.default.ENABLE_WARN,enableError:r.default.ENABLE_ERROR,enableCallback:r.default.ENABLE_CALLBACK}}},{key:"applyConfig",value:function(e){r.default.GLOBAL_TAG=e.globalTag,r.default.FORCE_GLOBAL_TAG=e.forceGlobalTag,r.default.ENABLE_VERBOSE=e.enableVerbose,r.default.ENABLE_DEBUG=e.enableDebug,r.default.ENABLE_INFO=e.enableInfo,r.default.ENABLE_WARN=e.enableWarn,r.default.ENABLE_ERROR=e.enableError,r.default.ENABLE_CALLBACK=e.enableCallback}},{key:"_notifyChange",value:function(){var t=e.emitter;if(0<t.listenerCount("change")){var n=e.getConfig();t.emit("change",n)}}},{key:"registerListener",value:function(t){e.emitter.addListener("change",t)}},{key:"removeListener",value:function(t){e.emitter.removeListener("change",t)}},{key:"addLogListener",value:function(t){r.default.emitter.addListener("log",t),0<r.default.emitter.listenerCount("log")&&(r.default.ENABLE_CALLBACK=!0,e._notifyChange())}},{key:"removeLogListener",value:function(t){r.default.emitter.removeListener("log",t),0===r.default.emitter.listenerCount("log")&&(r.default.ENABLE_CALLBACK=!1,e._notifyChange())}},{key:"forceGlobalTag",get:function(){return r.default.FORCE_GLOBAL_TAG},set:function(t){r.default.FORCE_GLOBAL_TAG=t,e._notifyChange()}},{key:"globalTag",get:function(){return r.default.GLOBAL_TAG},set:function(t){r.default.GLOBAL_TAG=t,e._notifyChange()}},{key:"enableAll",get:function(){return r.default.ENABLE_VERBOSE&&r.default.ENABLE_DEBUG&&r.default.ENABLE_INFO&&r.default.ENABLE_WARN&&r.default.ENABLE_ERROR},set:function(t){r.default.ENABLE_VERBOSE=t,r.default.ENABLE_DEBUG=t,r.default.ENABLE_INFO=t,r.default.ENABLE_WARN=t,r.default.ENABLE_ERROR=t,e._notifyChange()}},{key:"enableDebug",get:function(){return r.default.ENABLE_DEBUG},set:function(t){r.default.ENABLE_DEBUG=t,e._notifyChange()}},{key:"enableVerbose",get:function(){return r.default.ENABLE_VERBOSE},set:function(t){r.default.ENABLE_VERBOSE=t,e._notifyChange()}},{key:"enableInfo",get:function(){return r.default.ENABLE_INFO},set:function(t){r.default.ENABLE_INFO=t,e._notifyChange()}},{key:"enableWarn",get:function(){return r.default.ENABLE_WARN},set:function(t){r.default.ENABLE_WARN=t,e._notifyChange()}},{key:"enableError",get:function(){return r.default.ENABLE_ERROR},set:function(t){r.default.ENABLE_ERROR=t,e._notifyChange()}}],null&&o(t.prototype,null),n&&o(t,n),e}();s.emitter=new i.default;var u=s;n.default=u},{"./logger.js":44,events:1}],46:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r;return n=t,r=[{key:"install",value:function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},"function"!=typeof self.Promise&&e("promise-polyfill/dist/polyfill")}}],null&&i(n.prototype,null),r&&i(n,r),t}();r.install();var a=r;n.default=a},{"promise-polyfill/dist/polyfill":4}],47:[function(e,t,n){"use strict";function i(e,t,n){var i=e;if(t+n<i.length){for(;n--;)if(128!=(192&i[++t]))return!1;return!0}return!1}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e){for(var t=[],n=e,r=0,a=e.length;r<a;)if(n[r]<128)t.push(String.fromCharCode(n[r])),++r;else{if(n[r]<192);else if(n[r]<224){if(i(n,r,1)){var o=(31&n[r])<<6|63&n[r+1];if(128<=o){t.push(String.fromCharCode(65535&o)),r+=2;continue}}}else if(n[r]<240){if(i(n,r,2)){var s=(15&n[r])<<12|(63&n[r+1])<<6|63&n[r+2];if(2048<=s&&55296!=(63488&s)){t.push(String.fromCharCode(65535&s)),r+=3;continue}}}else if(n[r]<248&&i(n,r,3)){var u=(7&n[r])<<18|(63&n[r+1])<<12|(63&n[r+2])<<6|63&n[r+3];if(65536<u&&u<1114112){u-=65536,t.push(String.fromCharCode(u>>>10|55296)),t.push(String.fromCharCode(1023&u|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join("")}},{}],48:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n;return t=e,n=[{key:"cloneDeep",value:function(t,n){if(null===t||"object"!==i(t))return t;var r;if(e.isTypedArray(t)&&"function"==typeof t.slice)return t.slice();for(var a in r=Array.isArray(t)?[]:{},t)if(Object.prototype.hasOwnProperty.call(t,a)){var o=t[a];n&&"object"===i(o)?r[a]=this.cloneDeep(o,n):r[a]=o}return r}},{key:"isTypedArray",value:function(e){return!!(e&&e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT)}},{key:"downloadFile",value:function(e,t){var n=document.createElement("a"),i=t.slice&&"data:"===t.slice(0,5),r=t.lastIndexOf&&-1<t.lastIndexOf(".");n.download=e,n.style.display="none",n.href=r||i?t:URL.createObjectURL(new Blob([t])),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"concatArrayBuffer",value:function(e,t){if(!e)return t;if(!t)return e;var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer}},{key:"concatUint8Array",value:function(e,t){if(!e)return t;if(!t)return e;var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n}}],null&&r(t.prototype,null),n&&r(t,n),e}();n.default=a},{}]},{},[23])(23)})},25:function(e,t){
/*!
 * clipboard.js v1.5.12
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT © Zeno Rocha
 */
!function(n){if("object"==typeof t&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=n()}}(function(){return function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return r(n||e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){var i=e("matches-selector");t.exports=function(e,t,n){for(var r=n?e:e.parentNode;r&&r!==document;){if(i(r,t))return r;r=r.parentNode}}},{"matches-selector":5}],2:[function(e,t,n){function i(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t,!0),n.delegateTarget&&i.call(e,n)}}var r=e("closest");t.exports=function(e,t,n,r,a){var o=i.apply(this,arguments);return e.addEventListener(n,o,a),{destroy:function(){e.removeEventListener(n,o,a)}}}},{closest:1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){var i=e("./is"),r=e("delegate");t.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(i.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(i.string(e))return function(e,t,n){return r(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,n){var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;t.exports=function(e,t){if(r)return r.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;++i)if(n[i]==e)return!0;return!1}},{}],6:[function(e,t,n){t.exports=function(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}},{}],7:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){r.off(e,i),t.apply(n,arguments)}var r=this;return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;r>i;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var a=0,o=i.length;o>a;a++)i[a].fn!==t&&i[a].fn._!==t&&r.push(i[a]);return r.length?n[e]=r:delete n[e],this}},t.exports=i},{}],8:[function(e,t,n){!function(i,r){if(void 0!==n)r(t,e("select"));else{var a={exports:{}};r(a,i.select),i.clipboardAction=a.exports}}(this,function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},e.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},e.prototype.selectFake=function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=(0,n.default)(this.target),this.copyText()},e.prototype.copyText=function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},r(e,[{key:"action",set:function(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=a})},{select:6}],9:[function(e,t,n){!function(i,r){if(void 0!==n)r(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=a.exports}}(this,function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var o=r(t),s=r(n),u=r(i),l=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return r.resolveOptions(i),r.listenClick(n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},t.prototype.listenClick=function(e){var t=this;this.listener=(0,u.default)(e,"click",function(e){return t.onClick(e)})},t.prototype.onClick=function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(e){return a("action",e)},t.prototype.defaultTarget=function(e){var t=a("target",e);return t?document.querySelector(t):void 0},t.prototype.defaultText=function(e){return a("text",e)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(s.default);e.exports=l})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)})},26:function(e,t){var n,i;n="undefined"!=typeof self?self:this,i=function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";t.a={WS_OP_HEARTBEAT:2,WS_OP_HEARTBEAT_REPLY:3,WS_OP_MESSAGE:5,WS_OP_USER_AUTHENTICATION:7,WS_OP_CONNECT_SUCCESS:8,WS_PACKAGE_HEADER_TOTAL_LENGTH:16,WS_PACKAGE_OFFSET:0,WS_HEADER_OFFSET:4,WS_VERSION_OFFSET:6,WS_OPERATION_OFFSET:8,WS_SEQUENCE_OFFSET:12,WS_BODY_PROTOCOL_VERSION_NORMAL:0,WS_BODY_PROTOCOL_VERSION_DEFLATE:2,WS_HEADER_DEFAULT_VERSION:1,WS_HEADER_DEFAULT_OPERATION:1,WS_HEADER_DEFAULT_SEQUENCE:1,WS_AUTH_OK:0,WS_AUTH_TOKEN_ERROR:-101}},function(e,t,n){var i=n(2).default;e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"development"===e.CONFIG.bundleType&&(console.clear(),console.dir(e.CONFIG)),this.initialize(t)}return e.prototype.initialize=function(t){return"development"===e.CONFIG.bundleType&&console.log("App Initialized."),this.ws=new i.a(t),this.getReturn()},e.prototype.getReturn=function(){return"development"===e.CONFIG.bundleType?this:{destroy:this.destroy.bind(this),send:this.send.bind(this),getAuthInfo:this.getAuthInfo.bind(this),getRetryCount:this.getRetryCount.bind(this)}},e.prototype.destroy=function(){this.ws&&this.ws.destroy()},e.prototype.send=function(e){this.ws&&this.ws.send(e)},e.prototype.getAuthInfo=function(){return this.ws&&this.ws.getAuthInfo()},e.prototype.getRetryCount=function(){return this.ws&&this.ws.getRetryCount()},r(e,null,[{key:"CONFIG",get:function(){return{version:"1.3.4",gitHash:"151ab1a1",build:"27",bundleType:"release"}}}]),e}();t.default=a},function(e,t,n){"use strict";var i=n(0),r=n(4),a=n(5),o=n(6).inflate,s=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.checkOptions(t)){var n={url:"",urlList:[],rid:0,aid:0,uid:0,from:-1,retry:!0,retryMaxCount:0,retryInterval:5,retryThreadCount:10,retryRoundInterval:Math.floor(2*Math.random())+3,customAuthParam:[],fallback:function(){},heartBeatInterval:30,onReceivedMessage:function(){},onReceiveAuthRes:function(){},onHeartBeatReply:function(){},onInitialized:function(){},onOpen:function(){},onClose:function(){},onError:function(){},onListConnectError:function(){}};this.options=a.a.extend({},n,t),this.wsBinaryHeaderList=a.a.extend([],r.a),this.authInfo={origin:"",encode:""},0!==this.options.urlList.length&&0!==this.options.retryMaxCount&&this.options.retryMaxCount<this.options.urlList.length&&(this.options.retryMaxCount=this.options.urlList.length-1),this.state={retryCount:0,listConnectFinishedCount:0,index:0},this.callbackQueueList={onInitializedQueue:[],onOpenQueue:[],onCloseQueue:[],onErrorQueue:[],onReceivedMessageQueue:[],onHeartBeatReplyQueue:[],onRetryFallbackQueue:[],onListConnectErrorQueue:[],onReceiveAuthResQueue:[]},this.HEART_BEAT_INTERVAL=0,this.mixinCallback().initialize(this.options.urlList.length>0?this.options.urlList[0]:this.options.url)}}return e.prototype.initialize=function(e){var t="MozWebSocket"in window?window.MozWebSocket:window.WebSocket,n=this.options;try{this.ws=new t(e),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onclose=this.onClose.bind(this),this.ws.onerror=this.onError.bind(this),a.a.callFunction(this.callbackQueueList.onInitializedQueue),this.callbackQueueList.onInitializedQueue=[]}catch(e){"function"==typeof n.fallback&&n.fallback()}return this},e.prototype.onOpen=function(){return a.a.callFunction(this.callbackQueueList.onOpenQueue),this.userAuthentication(),this},e.prototype.userAuthentication=function(){var e,t=this,n=this.options,r={uid:parseInt(n.uid,10),roomid:parseInt(n.rid,10),protover:parseInt(n.protover,10)||i.a.WS_BODY_PROTOCOL_VERSION_NORMAL};n.aid&&(r.aid=parseInt(n.aid,10)),n.from>0&&(r.from=parseInt(n.from,10)||7);for(var a=0;a<n.customAuthParam.length;a++){var o=n.customAuthParam[a],s=o.type||"string";switch(void 0!==r[o.key]&&console.error("Token has the same key already! 【"+o.key+"】"),o.key.toString()&&o.value.toString()||console.error("Invalid customAuthParam, missing key or value! 【"+o.key+"】-【"+o.value+"】"),s){case"string":r[o.key]=o.value;break;case"number":r[o.key]=parseInt(o.value,10);break;case"boolean":r[o.key]=!!r[o.value];break;default:return void console.error("Unsupported customAuthParam type!【"+s+"】")}}e=this.convertToArrayBuffer(JSON.stringify(r),i.a.WS_OP_USER_AUTHENTICATION),this.authInfo.origin=r,this.authInfo.encode=e,setTimeout(function(){t.ws.send(e)},0)},e.prototype.getAuthInfo=function(){return this.authInfo},e.prototype.heartBeat=function(){var e=this;clearTimeout(this.HEART_BEAT_INTERVAL);var t=this.convertToArrayBuffer({},i.a.WS_OP_HEARTBEAT);this.ws.send(t),this.HEART_BEAT_INTERVAL=setTimeout(function(){e.heartBeat()},1e3*this.options.heartBeatInterval)},e.prototype.onMessage=function(e){var t=this;try{var n=this.convertToObject(e.data);if(n instanceof Array)n.forEach(function(e){t.onMessage(e)});else if(n instanceof Object)switch(n.op){case i.a.WS_OP_HEARTBEAT_REPLY:this.onHeartBeatReply(n.body);break;case i.a.WS_OP_MESSAGE:this.onMessageReply(n.body);break;case i.a.WS_OP_CONNECT_SUCCESS:if(0!==n.body.length&&n.body[0])switch(n.body[0].code){case i.a.WS_AUTH_OK:this.heartBeat();break;case i.a.WS_AUTH_TOKEN_ERROR:this.options.retry=!1,"function"==typeof this.options.onReceiveAuthRes&&this.options.onReceiveAuthRes(n.body);break;default:this.onClose()}else this.heartBeat()}}catch(e){console.error("WebSocket Error: ",e)}return this},e.prototype.onMessageReply=function(e){var t=this;try{e instanceof Array?e.forEach(function(e){t.onMessageReply(e)}):e instanceof Object&&"function"==typeof this.options.onReceivedMessage&&this.options.onReceivedMessage(e)}catch(e){console.error("On Message Resolve Error: ",e)}},e.prototype.onHeartBeatReply=function(e){a.a.callFunction(this.callbackQueueList.onHeartBeatReplyQueue,e)},e.prototype.onClose=function(){var e=this,t=this.options.urlList.length;return a.a.callFunction(this.callbackQueueList.onCloseQueue),clearTimeout(this.HEART_BEAT_INTERVAL),this.options.retry?(this.checkRetryState()?setTimeout(function(){console.error("Danmaku Websocket Retry .",e.state.retryCount),e.state.index+=1,0===t||e.state.retryCount>e.options.retryThreadCount?setTimeout(function(){e.initialize(e.options.url)},1e3*e.options.retryRoundInterval):0!==t&&e.state.index>t-1?(e.state.index=0,e.state.listConnectFinishedCount+=1,1===e.state.listConnectFinishedCount&&a.a.callFunction(e.callbackQueueList.onListConnectErrorQueue),setTimeout(function(){e.initialize(e.options.urlList[e.state.index])},1e3*e.options.retryRoundInterval)):e.initialize(e.options.urlList[e.state.index])},1e3*this.options.retryInterval):(console.error("Danmaku Websocket Retry Failed."),a.a.callFunction(this.callbackQueueList.onRetryFallbackQueue)),this):this},e.prototype.onError=function(e){return console.error("Danmaku Websocket On Error.",e),a.a.callFunction(this.callbackQueueList.onErrorQueue,e),this},e.prototype.destroy=function(){clearTimeout(this.HEART_BEAT_INTERVAL),this.options.retry=!1,this.ws&&this.ws.close(),this.ws=null},e.prototype.convertToArrayBuffer=function(e,t){this.encoder||(this.encoder=a.a.getEncoder());var n=new ArrayBuffer(i.a.WS_PACKAGE_HEADER_TOTAL_LENGTH),r=new DataView(n,i.a.WS_PACKAGE_OFFSET),o=this.encoder.encode(e);return r.setInt32(i.a.WS_PACKAGE_OFFSET,i.a.WS_PACKAGE_HEADER_TOTAL_LENGTH+o.byteLength),this.wsBinaryHeaderList[2].value=t,this.wsBinaryHeaderList.forEach(function(e){4===e.bytes?r.setInt32(e.offset,e.value):2===e.bytes&&r.setInt16(e.offset,e.value)}),a.a.mergeArrayBuffer(n,o)},e.prototype.convertToObject=function(e){var t=new DataView(e),n={body:[]};if(n.packetLen=t.getInt32(i.a.WS_PACKAGE_OFFSET),this.wsBinaryHeaderList.forEach(function(e){4===e.bytes?n[e.key]=t.getInt32(e.offset):2===e.bytes&&(n[e.key]=t.getInt16(e.offset))}),n.packetLen<e.byteLength&&this.convertToObject(e.slice(0,n.packetLen)),this.decoder||(this.decoder=a.a.getDecoder()),!n.op||i.a.WS_OP_MESSAGE!==n.op&&n.op!==i.a.WS_OP_CONNECT_SUCCESS)n.op&&i.a.WS_OP_HEARTBEAT_REPLY===n.op&&(n.body={count:t.getInt32(i.a.WS_PACKAGE_HEADER_TOTAL_LENGTH)});else for(var r=i.a.WS_PACKAGE_OFFSET,s=n.packetLen,u="",l="";r<e.byteLength;r+=s){s=t.getInt32(r),u=t.getInt16(r+i.a.WS_HEADER_OFFSET);try{if(n.ver===i.a.WS_BODY_PROTOCOL_VERSION_DEFLATE){var c=e.slice(r+u,r+s),d=o(new Uint8Array(c));l=this.convertToObject(d.buffer).body}else{var h=this.decoder.decode(e.slice(r+u,r+s));l=0!==h.length?JSON.parse(h):null}l&&n.body.push(l)}catch(t){console.error("decode body error:",new Uint8Array(e),n,t)}}return n},e.prototype.send=function(e){this.ws&&this.ws.send(e)},e.prototype.addCallback=function(e,t){return"function"==typeof e&&t instanceof Array&&t.push(e),this},e.prototype.mixinCallback=function(){var e=this.options,t=this.callbackQueueList;return this.addCallback(e.onReceivedMessage,t.onReceivedMessageQueue).addCallback(e.onHeartBeatReply,t.onHeartBeatReplyQueue).addCallback(e.onInitialized,t.onInitializedQueue).addCallback(e.onOpen,t.onOpenQueue).addCallback(e.onClose,t.onCloseQueue).addCallback(e.onError,t.onErrorQueue).addCallback(e.onRetryFallback,t.onRetryFallbackQueue).addCallback(e.onListConnectError,t.onListConnectErrorQueue).addCallback(e.onReceiveAuthRes,t.onReceiveAuthResQueue),this},e.prototype.getRetryCount=function(){return this.state.retryCount},e.prototype.checkRetryState=function(){var e=this.options,t=!1;return(0===e.retryMaxCount||this.state.retryCount<e.retryMaxCount)&&(this.state.retryCount+=1,t=!0),t},e.checkOptions=function(e){return e||e instanceof Object?e.url?!!e.rid||(console.error("WebSocket Initialize options rid(cid) missing."),!1):(console.error("WebSocket Initialize options url missing."),!1):(console.error("WebSocket Initialize options missing or error.",e),!1)},e}();t.a=s},function(e,t,n){"use strict";var i=n(0),r=[{name:"Header Length",key:"headerLen",bytes:2,offset:i.a.WS_HEADER_OFFSET,value:i.a.WS_PACKAGE_HEADER_TOTAL_LENGTH},{name:"Protocol Version",key:"ver",bytes:2,offset:i.a.WS_VERSION_OFFSET,value:i.a.WS_HEADER_DEFAULT_VERSION},{name:"Operation",key:"op",bytes:4,offset:i.a.WS_OPERATION_OFFSET,value:i.a.WS_HEADER_DEFAULT_OPERATION},{name:"Sequence Id",key:"seq",bytes:4,offset:i.a.WS_SEQUENCE_OFFSET,value:i.a.WS_HEADER_DEFAULT_SEQUENCE}];t.a=r},function(e,t,n){"use strict";var i={getDecoder:function(){return window.TextDecoder?new window.TextDecoder:{decode:function(e){return decodeURIComponent(window.escape(String.fromCharCode.apply(String,new Uint8Array(e))))}}},getEncoder:function(){return window.TextEncoder?new window.TextEncoder:{encode:function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0,r=e.length;i<r;i++)n[i]=e.charCodeAt(i);return t}}},mergeArrayBuffer:function(e,t){var n=new Uint8Array(e),i=new Uint8Array(t),r=new Uint8Array(n.byteLength+i.byteLength);return r.set(n,0),r.set(i,n.byteLength),r.buffer},callFunction:function(e,t){return e instanceof Array&&e.length?(e.forEach(function(e){return"function"==typeof e&&e(t)}),null):"function"==typeof e&&e(t)},extend:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=e||{};return r instanceof Object&&n.forEach(function(e){e instanceof Object&&Object.keys(e).forEach(function(t){r[t]=e[t]})}),r}};t.a=i},function(e,t,n){var i;e.exports=function e(t,n,r){function a(s,u){if(!n[s]){if(!t[s]){var l="function"==typeof i&&i;if(!u&&l)return i(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){return a(t[s][1][e]||e)},d,d.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof i&&i,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t,n,i=Array.prototype.slice.call(arguments,1);i.length;){var r=i.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var a in r)t=r,n=a,Object.prototype.hasOwnProperty.call(t,n)&&(e[a]=r[a])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){var t,n,i,r,a,o;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(o=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)a=e[t],o.set(a,r),r+=a.length;return o}},a={arraySet:function(e,t,n,i,r){for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],2:[function(e,t,n){"use strict";function i(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var r=e("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new r.Buf8(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;s[254]=s[254]=1,n.string2buf=function(e){var t,n,i,a,o,s=e.length,u=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),a=o=0;o<u;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),t[o++]=n<128?n:(t[o++]=n<2048?192|n>>>6:(t[o++]=n<65536?224|n>>>12:(t[o++]=240|n>>>18,128|n>>>12&63),128|n>>>6&63),128|63&n);return t},n.buf2binstring=function(e){return i(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,a,o,u=t||e.length,l=new Array(2*u);for(n=r=0;n<u;)if((a=e[n++])<128)l[r++]=a;else if(4<(o=s[a]))l[r++]=65533,n+=o-1;else{for(a&=2===o?31:3===o?15:7;1<o&&n<u;)a=a<<6|63&e[n++],o--;l[r++]=1<o?65533:a<65536?a:(a-=65536,l[r++]=55296|a>>10&1023,56320|1023&a)}return i(l,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(r=r+t[i++]|0)|0,--o;);r%=65521,a%=65521}return r|a<<16|0}},{}],4:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],6:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],7:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,a,o,s,u,l,c,d,h,f,_,m,p,v,g,y,b,E,k,S,w,L,R;n=e.state,i=e.next_in,L=e.input,r=i+(e.avail_in-5),a=e.next_out,R=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,d=n.wnext,h=n.window,f=n.hold,_=n.bits,m=n.lencode,p=n.distcode,v=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;e:do{_<15&&(f+=L[i++]<<_,_+=8,f+=L[i++]<<_,_+=8),y=m[f&v];t:for(;;){if(f>>>=b=y>>>24,_-=b,0==(b=y>>>16&255))R[a++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=m[(65535&y)+(f&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}E=65535&y,(b&=15)&&(_<b&&(f+=L[i++]<<_,_+=8),E+=f&(1<<b)-1,f>>>=b,_-=b),_<15&&(f+=L[i++]<<_,_+=8,f+=L[i++]<<_,_+=8),y=p[f&g];n:for(;;){if(f>>>=b=y>>>24,_-=b,!(16&(b=y>>>16&255))){if(0==(64&b)){y=p[(65535&y)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&y,_<(b&=15)&&(f+=L[i++]<<_,(_+=8)<b&&(f+=L[i++]<<_,_+=8)),u<(k+=f&(1<<b)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=b,_-=b,(b=a-o)<k){if(c<(b=k-b)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(w=h,(S=0)===d){if(S+=l-b,b<E){for(E-=b;R[a++]=h[S++],--b;);S=a-k,w=R}}else if(d<b){if(S+=l+d-b,(b-=d)<E){for(E-=b;R[a++]=h[S++],--b;);if(S=0,d<E){for(E-=b=d;R[a++]=h[S++],--b;);S=a-k,w=R}}}else if(S+=d-b,b<E){for(E-=b;R[a++]=h[S++],--b;);S=a-k,w=R}for(;2<E;)R[a++]=w[S++],R[a++]=w[S++],R[a++]=w[S++],E-=3;E&&(R[a++]=w[S++],1<E&&(R[a++]=w[S++]))}else{for(S=a-k;R[a++]=R[S++],R[a++]=R[S++],R[a++]=R[S++],2<(E-=3););E&&(R[a++]=R[S++],1<E&&(R[a++]=R[S++]))}break}}break}}while(i<r&&a<s);i-=E=_>>3,f&=(1<<(_-=E<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=f,n.bits=_}},{}],8:[function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=k,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new f.Buf32(S),t.distcode=t.distdyn=new f.Buf32(w),t.sane=1,t.back=-1,b):E}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):E}function s(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?E:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,o(e))):E}function u(e,t){var n,i;return e?(i=new r,(e.state=i).window=null,(n=s(e,t))!==b&&(e.state=null),n):E}function l(e){if(L){var t;for(d=new f.Buf32(512),h=new f.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(v(g,e.lens,0,288,d,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;v(y,e.lens,0,32,h,0,e.work,{bits:5}),L=!1}e.lencode=d,e.lenbits=9,e.distcode=h,e.distbits=5}function c(e,t,n,i){var r,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new f.Buf8(a.wsize)),i>=a.wsize?(f.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(r=a.wsize-a.wnext)&&(r=i),f.arraySet(a.window,t,n-i,r,a.wnext),(i-=r)?(f.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}var d,h,f=e("../utils/common"),_=e("./adler32"),m=e("./crc32"),p=e("./inffast"),v=e("./inftrees"),g=1,y=2,b=0,E=-2,k=1,S=852,w=592,L=!0;n.inflateReset=o,n.inflateReset2=s,n.inflateResetKeep=a,n.inflateInit=function(e){return u(e,15)},n.inflateInit2=u,n.inflate=function(e,t){var n,r,a,o,s,u,d,h,S,w,L,R,T,A,C,O,x,D,I,M,P,B,j,N,U=0,F=new f.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return E;12===(n=e.state).mode&&(n.mode=13),s=e.next_out,a=e.output,d=e.avail_out,o=e.next_in,r=e.input,u=e.avail_in,h=n.hold,S=n.bits,w=u,L=d,B=b;e:for(;;)switch(n.mode){case k:if(0===n.wrap){n.mode=13;break}for(;S<16;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}if(2&n.wrap&&35615===h){F[n.check=0]=255&h,F[1]=h>>>8&255,n.check=m(n.check,F,2,0),S=h=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&h)){e.msg="unknown compression method",n.mode=30;break}if(S-=4,P=8+(15&(h>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&h?10:12,S=h=0;break;case 2:for(;S<16;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}if(n.flags=h,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(F[0]=255&h,F[1]=h>>>8&255,n.check=m(n.check,F,2,0)),S=h=0,n.mode=3;case 3:for(;S<32;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}n.head&&(n.head.time=h),512&n.flags&&(F[0]=255&h,F[1]=h>>>8&255,F[2]=h>>>16&255,F[3]=h>>>24&255,n.check=m(n.check,F,4,0)),S=h=0,n.mode=4;case 4:for(;S<16;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(F[0]=255&h,F[1]=h>>>8&255,n.check=m(n.check,F,2,0)),S=h=0,n.mode=5;case 5:if(1024&n.flags){for(;S<16;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(F[0]=255&h,F[1]=h>>>8&255,n.check=m(n.check,F,2,0)),S=h=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(u<(R=n.length)&&(R=u),R&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),f.arraySet(n.head.extra,r,o,R,P)),512&n.flags&&(n.check=m(n.check,r,R,o)),u-=R,o+=R,n.length-=R),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===u)break e;for(R=0;P=r[o+R++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P)),P&&R<u;);if(512&n.flags&&(n.check=m(n.check,r,R,o)),u-=R,o+=R,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===u)break e;for(R=0;P=r[o+R++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P)),P&&R<u;);if(512&n.flags&&(n.check=m(n.check,r,R,o)),u-=R,o+=R,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;S<16;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}S=h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;S<32;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}e.adler=n.check=i(h),S=h=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=s,e.avail_out=d,e.next_in=o,e.avail_in=u,n.hold=h,n.bits=S,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){h>>>=7&S,S-=7&S,n.mode=27;break}for(;S<3;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}switch(n.last=1&h,S-=1,3&(h>>>=1)){case 0:n.mode=14;break;case 1:if(l(n),n.mode=20,6!==t)break;h>>>=2,S-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}h>>>=2,S-=2;break;case 14:for(h>>>=7&S,S-=7&S;S<32;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}if((65535&h)!=(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&h,S=h=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(R=n.length){if(u<R&&(R=u),d<R&&(R=d),0===R)break e;f.arraySet(a,r,o,R,s),u-=R,o+=R,d-=R,s+=R,n.length-=R;break}n.mode=12;break;case 17:for(;S<14;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}if(n.nlen=257+(31&h),h>>>=5,S-=5,n.ndist=1+(31&h),h>>>=5,S-=5,n.ncode=4+(15&h),h>>>=4,S-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;S<3;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}n.lens[G[n.have++]]=7&h,h>>>=3,S-=3}for(;n.have<19;)n.lens[G[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},B=v(0,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,B){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;O=(U=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,x=65535&U,!((C=U>>>24)<=S);){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}if(x<16)h>>>=C,S-=C,n.lens[n.have++]=x;else{if(16===x){for(N=C+2;S<N;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}if(h>>>=C,S-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],R=3+(3&h),h>>>=2,S-=2}else if(17===x){for(N=C+3;S<N;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}S-=C,P=0,R=3+(7&(h>>>=C)),h>>>=3,S-=3}else{for(N=C+7;S<N;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}S-=C,P=0,R=11+(127&(h>>>=C)),h>>>=7,S-=7}if(n.have+R>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;R--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,j={bits:n.lenbits},B=v(g,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,B){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},B=v(y,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,B){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=u&&258<=d){e.next_out=s,e.avail_out=d,e.next_in=o,e.avail_in=u,n.hold=h,n.bits=S,p(e,L),s=e.next_out,a=e.output,d=e.avail_out,o=e.next_in,r=e.input,u=e.avail_in,h=n.hold,S=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;O=(U=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,x=65535&U,!((C=U>>>24)<=S);){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}if(O&&0==(240&O)){for(D=C,I=O,M=x;O=(U=n.lencode[M+((h&(1<<D+I)-1)>>D)])>>>16&255,x=65535&U,!(D+(C=U>>>24)<=S);){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}h>>>=D,S-=D,n.back+=D}if(h>>>=C,S-=C,n.back+=C,n.length=x,0===O){n.mode=26;break}if(32&O){n.back=-1,n.mode=12;break}if(64&O){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&O,n.mode=22;case 22:if(n.extra){for(N=n.extra;S<N;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,S-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;O=(U=n.distcode[h&(1<<n.distbits)-1])>>>16&255,x=65535&U,!((C=U>>>24)<=S);){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}if(0==(240&O)){for(D=C,I=O,M=x;O=(U=n.distcode[M+((h&(1<<D+I)-1)>>D)])>>>16&255,x=65535&U,!(D+(C=U>>>24)<=S);){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}h>>>=D,S-=D,n.back+=D}if(h>>>=C,S-=C,n.back+=C,64&O){e.msg="invalid distance code",n.mode=30;break}n.offset=x,n.extra=15&O,n.mode=24;case 24:if(n.extra){for(N=n.extra;S<N;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,S-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===d)break e;if(R=L-d,n.offset>R){if((R=n.offset-R)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}T=R>n.wnext?(R-=n.wnext,n.wsize-R):n.wnext-R,R>n.length&&(R=n.length),A=n.window}else A=a,T=s-n.offset,R=n.length;for(d<R&&(R=d),d-=R,n.length-=R;a[s++]=A[T++],--R;);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;a[s++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;S<32;){if(0===u)break e;u--,h|=r[o++]<<S,S+=8}if(L-=d,e.total_out+=L,n.total+=L,L&&(e.adler=n.check=n.flags?m(n.check,a,L,s-L):_(n.check,a,L,s-L)),L=d,(n.flags?h:i(h))!==n.check){e.msg="incorrect data check",n.mode=30;break}S=h=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;S<32;){if(0===u)break e;u--,h+=r[o++]<<S,S+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}S=h=0}n.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;case 32:default:return E}return e.next_out=s,e.avail_out=d,e.next_in=o,e.avail_in=u,n.hold=h,n.bits=S,(n.wsize||L!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&c(e,e.output,e.next_out,L-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,L-=e.avail_out,e.total_in+=w,e.total_out+=L,n.total+=L,n.wrap&&L&&(e.adler=n.check=n.flags?m(n.check,a,L,e.next_out-L):_(n.check,a,L,e.next_out-L)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===w&&0===L||4===t)&&B===b&&(B=-5),B)},n.inflateEnd=function(e){if(!e||!e.state)return E;var t=e.state;return t.window&&(t.window=null),e.state=null,b},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?E:((n.head=t).done=!1,b):E},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?E:11===n.mode&&_(1,t,i,0)!==n.check?-3:c(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,b):E},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,u,l,c,d,h){var f,_,m,p,v,g,y,b,E,k=h.bits,S=0,w=0,L=0,R=0,T=0,A=0,C=0,O=0,x=0,D=0,I=null,M=0,P=new i.Buf16(16),B=new i.Buf16(16),j=null,N=0;for(S=0;S<=15;S++)P[S]=0;for(w=0;w<u;w++)P[t[n+w]]++;for(T=k,R=15;1<=R&&0===P[R];R--);if(R<T&&(T=R),0===R)return l[c++]=20971520,l[c++]=20971520,h.bits=1,0;for(L=1;L<R&&0===P[L];L++);for(T<L&&(T=L),S=O=1;S<=15;S++)if(O<<=1,(O-=P[S])<0)return-1;if(0<O&&(0===e||1!==R))return-1;for(B[1]=0,S=1;S<15;S++)B[S+1]=B[S]+P[S];for(w=0;w<u;w++)0!==t[n+w]&&(d[B[t[n+w]]++]=w);if(g=0===e?(I=j=d,19):1===e?(I=r,M-=257,j=a,N-=257,256):(I=o,j=s,-1),S=L,v=c,C=w=D=0,m=-1,p=(x=1<<(A=T))-1,1===e&&852<x||2===e&&592<x)return 1;for(;;){for(y=S-C,E=d[w]<g?(b=0,d[w]):d[w]>g?(b=j[N+d[w]],I[M+d[w]]):(b=96,0),f=1<<S-C,L=_=1<<A;l[v+(D>>C)+(_-=f)]=y<<24|b<<16|E|0,0!==_;);for(f=1<<S-1;D&f;)f>>=1;if(0!==f?(D&=f-1,D+=f):D=0,w++,0==--P[S]){if(S===R)break;S=t[n+d[w]]}if(T<S&&(D&p)!==m){for(0===C&&(C=T),v+=L,O=1<<(A=S-C);A+C<R&&!((O-=P[A+C])<=0);)A++,O<<=1;if(x+=1<<A,1===e&&852<x||2===e&&592<x)return 1;l[m=D&p]=T<<24|A<<16|v-c|0}}return 0!==D&&(l[v+D]=S-C<<24|64<<16|0),h.bits=T,0}},{"../utils/common":1}],10:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/inflate.js":[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,t.windowBits);if(n!==u.Z_OK)throw new Error(l[n]);if(this.header=new d,a.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=a.inflateSetDictionary(this.strm,t.dictionary))!==u.Z_OK))throw new Error(l[n])}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||l[n.err];return n.result}var a=e("./zlib/inflate"),o=e("./utils/common"),s=e("./utils/strings"),u=e("./zlib/constants"),l=e("./zlib/messages"),c=e("./zlib/zstream"),d=e("./zlib/gzheader"),h=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,r,l,c,d=this.strm,f=this.options.chunkSize,_=this.options.dictionary,m=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof e?d.input=s.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new o.Buf8(f),d.next_out=0,d.avail_out=f),(n=a.inflate(d,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&_&&(n=a.inflateSetDictionary(this.strm,_)),n===u.Z_BUF_ERROR&&!0===m&&(n=u.Z_OK,m=!1),n!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&n!==u.Z_STREAM_END&&(0!==d.avail_in||i!==u.Z_FINISH&&i!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(r=s.utf8border(d.output,d.next_out),l=d.next_out-r,c=s.buf2string(d.output,r),d.next_out=l,d.avail_out=f-l,l&&o.arraySet(d.output,d.output,r,l,0),this.onData(c)):this.onData(o.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((0<d.avail_in||0===d.avail_out)&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(i=u.Z_FINISH),i===u.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):i!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(d.avail_out=0))},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=i,n.inflate=r,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},n.ungzip=r},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")}])},"object"==typeof t&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof t?t.DanmakuWebSocket=i():n.DanmakuWebSocket=i()},27:function(e,t){!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof t?e.exports=n:n(jQuery)}(function(e){function t(t){var o=t||window.event,s=u.call(arguments,1),l=0,d=0,h=0,f=0,_=0,m=0;if((t=e.event.fix(o)).type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(d=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(d=-1*h,h=0),l=0===h?d:h,"deltaY"in o&&(l=h=-1*o.deltaY),"deltaX"in o&&(d=o.deltaX,0===h&&(l=-1*d)),0!==h||0!==d){if(1===o.deltaMode){var p=e.data(this,"mousewheel-line-height");l*=p,h*=p,d*=p}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");l*=v,h*=v,d*=v}if(f=Math.max(Math.abs(h),Math.abs(d)),(!a||a>f)&&(a=f,i(o,f)&&(a/=40)),i(o,f)&&(l/=40,d/=40,h/=40),l=Math[l>=1?"floor":"ceil"](l/a),d=Math[d>=1?"floor":"ceil"](d/a),h=Math[h>=1?"floor":"ceil"](h/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var g=this.getBoundingClientRect();_=t.clientX-g.left,m=t.clientY-g.top}return t.deltaX=d,t.deltaY=h,t.deltaFactor=a,t.offsetX=_,t.offsetY=m,t.deltaMode=0,s.unshift(t,l,d,h),r&&clearTimeout(r),r=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){a=null}function i(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(e.event.fixHooks)for(var l=o.length;l;)e.event.fixHooks[o[--l]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})}});
!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=28)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(53);t.TRACK=n.default;var o=i(54);t.EVENT=o.default;var a=i(12);t.STATE_STRING=a.default;var r=i(13);t.ERROR_CODE=r.default;var l=i(55);t.CONFIG_STRING=l.default;var s,A,c,d;t.PREFIX="bilibili-live-player",function(e){e[e.PLAYER_INITIALIZED_COUNT=2]="PLAYER_INITIALIZED_COUNT",e[e.V_IDEL=0]="V_IDEL",e[e.V_READY=1]="V_READY",e[e.V_BUFF=2]="V_BUFF",e[e.V_PLAY=3]="V_PLAY",e[e.V_PAUSE=4]="V_PAUSE",e[e.V_RELOAD=5]="V_RELOAD",e[e.P_NORMAL=0]="P_NORMAL",e[e.P_WEB_FULLSCREEN=1]="P_WEB_FULLSCREEN",e[e.P_FULLSCREEN=2]="P_FULLSCREEN",e[e.VOLUME_ON=1]="VOLUME_ON",e[e.VOLUME_OFF=0]="VOLUME_OFF",e[e.QUALITY_DEFAULT=0]="QUALITY_DEFAULT",e[e.QUALITY_SD=1]="QUALITY_SD",e[e.QUALITY_HD=2]="QUALITY_HD",e[e.QUALITY_FHD=3]="QUALITY_FHD",e[e.QUALITY_SOURCE=4]="QUALITY_SOURCE",e[e.LIVE_URL=0]="LIVE_URL",e[e.LIVE_B1URL=1]="LIVE_B1URL",e[e.LIVE_B2URL=2]="LIVE_B2URL",e[e.LIVE_B3URL=3]="LIVE_B3URL",e[e.L_LIVE=0]="L_LIVE",e[e.L_PREPARING=1]="L_PREPARING",e[e.L_END=2]="L_END",e[e.L_CLOSE=3]="L_CLOSE",e[e.L_BLOCK=4]="L_BLOCK",e[e.L_PRE_ROUND=5]="L_PRE_ROUND",e[e.L_ROUND=6]="L_ROUND",e[e.L_ERROR=7]="L_ERROR",e[e.L_STATUS_PREPARING=0]="L_STATUS_PREPARING",e[e.L_STATUS_LIVE=1]="L_STATUS_LIVE",e[e.L_STATUS_ROUND=2]="L_STATUS_ROUND",e[e.WS_OP_HEARTBEAT=2]="WS_OP_HEARTBEAT",e[e.WS_OP_HEARTBEAT_REPLY=3]="WS_OP_HEARTBEAT_REPLY",e[e.WS_OP_MESSAGE=5]="WS_OP_MESSAGE",e[e.WS_OP_USER_AUTHENTICATION=7]="WS_OP_USER_AUTHENTICATION",e[e.WS_OP_CONNECT_SUCCESS=8]="WS_OP_CONNECT_SUCCESS",e[e.GIFT_SYS_GIFT=0]="GIFT_SYS_GIFT",e[e.GIFT_SYS_LUCKY_MONEY=1]="GIFT_SYS_LUCKY_MONEY",e[e.GIFT_SYS_TV=2]="GIFT_SYS_TV",e[e.GIFT_SYS_ANNOUNCEMENT=3]="GIFT_SYS_ANNOUNCEMENT",e[e.GIFT_SYS_GUARD=4]="GIFT_SYS_GUARD",e[e.GIFT_SYS_ACTIVITY_RED_PACKET=6]="GIFT_SYS_ACTIVITY_RED_PACKET",e[e.DANMAKU_GIFT_666=7]="DANMAKU_GIFT_666",e[e.DANMAKU_GIFT_233=8]="DANMAKU_GIFT_233",e[e.DANMAKU_GIFT_FFF=13]="DANMAKU_GIFT_FFF",e[e.WS_PACKAGE_HEADER_TOTAL_LENGTH=16]="WS_PACKAGE_HEADER_TOTAL_LENGTH",e[e.WS_PACKAGE_OFFSET=0]="WS_PACKAGE_OFFSET",e[e.WS_HEADER_OFFSET=4]="WS_HEADER_OFFSET",e[e.WS_VERSION_OFFSET=6]="WS_VERSION_OFFSET",e[e.WS_OPERATION_OFFSET=8]="WS_OPERATION_OFFSET",e[e.WS_SEQUENCE_OFFSET=12]="WS_SEQUENCE_OFFSET",e[e.WS_BODY_PROTOCOL_VERSION=1]="WS_BODY_PROTOCOL_VERSION",e[e.WS_HEADER_DEFAULT_VERSION=1]="WS_HEADER_DEFAULT_VERSION",e[e.WS_HEADER_DEFAULT_OPERATION=1]="WS_HEADER_DEFAULT_OPERATION",e[e.WS_HEADER_DEFAULT_SEQUENCE=1]="WS_HEADER_DEFAULT_SEQUENCE",e[e.KEYCODE_ESC=27]="KEYCODE_ESC",e[e.KEYCODE_ENTER=13]="KEYCODE_ENTER",e[e.KEYCODE_TAB=9]="KEYCODE_TAB",e[e.BLOCK_MODE_KEYWORD=0]="BLOCK_MODE_KEYWORD",e[e.BLOCK_MODE_USER=1]="BLOCK_MODE_USER",e[e.BLOCK_ADD_SHIELD=1]="BLOCK_ADD_SHIELD",e[e.BLOCK_REMOVE_SHIELD=0]="BLOCK_REMOVE_SHIELD",e[e.DANMAKU_AVERAGE_WIDTH=280]="DANMAKU_AVERAGE_WIDTH",e[e.DANMAKU_AVERAGE_HEIGHT=32]="DANMAKU_AVERAGE_HEIGHT",e[e.DANMAKU_DEFAULT_INT10_COLOR=16777215]="DANMAKU_DEFAULT_INT10_COLOR",e[e.DANMAKU_DEFAULT_FONT_SIZE=25]="DANMAKU_DEFAULT_FONT_SIZE",e[e.DANMAKU_MODE_SCROLL=1]="DANMAKU_MODE_SCROLL",e[e.DANMAKU_MODE_BOTTOM=4]="DANMAKU_MODE_BOTTOM",e[e.DANMAKU_MODE_TOP=5]="DANMAKU_MODE_TOP",e[e.DANMAKU_MODE_REVERSE=6]="DANMAKU_MODE_REVERSE",e[e.WEBSOCKET_PORT=7170]="WEBSOCKET_PORT",e[e.WEBSOCKET_SECURITY_PORT=7172]="WEBSOCKET_SECURITY_PORT",e[e.PLAYER_HOME=0]="PLAYER_HOME",e[e.PLAYER_ROOM=1]="PLAYER_ROOM",e[e.PLAYER_ACTIVITY=2]="PLAYER_ACTIVITY",e[e.SWITCH_TYPE_LINE=1]="SWITCH_TYPE_LINE",e[e.SWITCH_TYPE_QUALITY=2]="SWITCH_TYPE_QUALITY",e[e.SWITCH_INFO_TYPE_INIT=0]="SWITCH_INFO_TYPE_INIT",e[e.SWITCH_INFO_TYPE_COMPLETED=1]="SWITCH_INFO_TYPE_COMPLETED",e[e.SWITCH_INFO_TYPE_FAILED=2]="SWITCH_INFO_TYPE_FAILED",e[e.INIT_ACTION_TYPE_WORDS=0]="INIT_ACTION_TYPE_WORDS",e[e.INIT_ACTION_TYPE_GIFTS=1]="INIT_ACTION_TYPE_GIFTS",e[e.ENTER_TIPS_TYPE_VIDEO_AREA=0]="ENTER_TIPS_TYPE_VIDEO_AREA",e[e.ENTER_TIPS_TYPE_CONTROLLER=1]="ENTER_TIPS_TYPE_CONTROLLER",e[e.LAST_OP_STATE_INIT_PLAYER=0]="LAST_OP_STATE_INIT_PLAYER",e[e.LAST_OP_STATE_SWITCH_LINE=1]="LAST_OP_STATE_SWITCH_LINE",e[e.LAST_OP_STATE_SWITCH_QUALITY=2]="LAST_OP_STATE_SWITCH_QUALITY",e[e.LAST_OP_STATE_SWITCH_RELOAD=3]="LAST_OP_STATE_SWITCH_RELOAD",e[e.LAST_OP_STATE_WS_REFRESH=4]="LAST_OP_STATE_WS_REFRESH",e[e.LAST_OP_STATE_WS_LIVE=5]="LAST_OP_STATE_WS_LIVE",e[e.LAST_OP_STATE_ERROR=6]="LAST_OP_STATE_ERROR",e[e.WS_AUTH_TOKEN_ERROR=-101]="WS_AUTH_TOKEN_ERROR",e[e.BUFFERING_SLOW_NETWORK_SPEED=1]="BUFFERING_SLOW_NETWORK_SPEED",e[e.BUFFERING_LACK_OF_PERFORMANCE=2]="BUFFERING_LACK_OF_PERFORMANCE",e[e.BUFFERING_OTHERS=3]="BUFFERING_OTHERS"}(s||(s={})),function(e){e[e.NONE=0]="NONE",e[e.FLV_TLOADER=1]="FLV_TLOADER"}(A||(A={})),t.CORE_PROTOCOL=A,function(e){e[e.FLV=0]="FLV",e[e.DAHS=1]="DAHS"}(c||(c={})),t.CORE_TYPE=c,function(e){e[e.FLVP2P_2_FLV=1]="FLVP2P_2_FLV",e[e.DASH_2_FLV=2]="DASH_2_FLV",e[e.DASHP2P_2_DASH=3]="DASHP2P_2_DASH"}(d||(d={})),t.PROTOCOL_DOWNGRADE_TYPE=d,t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(52),o=function(){function e(){}return e.debounce=function(e,t,i){var n,o=this;return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];if(n&&clearTimeout(n),i){var l=!n;l&&e.apply(o,a),n=window.setTimeout(function(){n=null},t)}else n=window.setTimeout(function(){e.apply(o,a)},t)}},e._log=function(e){e instanceof Object?window.console.dir(e):window.console.log("%c"+e,"color:#2980b9")},e.isChrome=function(){var e=navigator.userAgent;return-1===e.indexOf("Edge")&&e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1},e.log=function(){for(var t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];"development"===e.BUNDLE_TYPE&&i.forEach(function(e){t._log(e)})},e.time=function(t,i){void 0===i&&(i=!1),"development"===e.BUNDLE_TYPE&&(i?console.timeEnd("[Player] "+t):console.time("[Player] "+t))},e.ajax=function(t,i,n,o){var a=this,r=$.extend({type:"get",dataType:"json",url:"",xhrFields:{withCredentials:!0}},t);if("post"===r.type.toLowerCase()){var l=e.getCookie("bili_jct");r.data.csrf_token=l,r.data.csrf=l}$.ajax(r).done(function(e){e?"function"==typeof i&&i(e):a.log(r.url+" ajax return null.")}).fail(function(e){e&&n&&n(e)}).always(function(e){e&&o&&o(e)})},e.convertNumber=function(e){return("0"+e).slice(-2)},e.getRelativePos=function(e,t,i){var n=t.offset(),o=e.pageX-n.left,a=e.pageY-n.top;return i?{x:o/t.width(),y:a/t.height()}:{x:o,y:a}},e.getTimeNow=function(e){return void 0===e&&(e=!1),performance&&performance.now&&e?Math.floor(performance.now()):Date.now()},e.getRandomString=function(e){void 0===e&&(e=36);for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789",i=t.length,n=[],o=0;o<e;o++)n[o]=t.charAt(Math.floor(Math.random()*i));return 36===e&&(n[8]=n[13]=n[18]=n[23]="-",n[14]="4"),n.join("")},e.mergeArrayBuffer=function(e,t){var i=new Uint8Array(e),n=new Uint8Array(t),o=new Uint8Array(i.byteLength+n.byteLength);return o.set(i,0),o.set(n,i.byteLength),o.buffer},e.getDecoder=function(){return window.TextDecoder?new window.TextDecoder:{decode:function(e){return decodeURIComponent(window.escape(String.fromCharCode.apply(String,new Uint8Array(e))))}}},e.getEncoder=function(){return window.TextEncoder?new window.TextEncoder:{encode:function(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0,o=e.length;n<o;n++)i[n]=e.charCodeAt(n);return t}}},e.getPropertyNameByValue=function(e,t){for(var i in e)if(e[i]===t)return i},e.callFunctionAsynchronously=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];"function"==typeof e&&window.setTimeout(function(){e.apply(void 0,t)},0)},e.callFunc=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];"function"==typeof e&&e.apply(void 0,t)},e.fireEventCallback=function(e,t){e instanceof Array&&e.length&&e.forEach(function(e){"function"==typeof e&&e(t)})},e.getLocalStorage=function(e){return window.localStorage&&window.localStorage.getItem(e)},e.setLocalStorage=function(e,t){window.localStorage&&window.localStorage.setItem(e,t)},e.getCookie=function(e){if(window.$&&window.$.cookie)return window.$.cookie(e);var t=document.cookie;if(t){for(var i=t.split(";"),n={},o=i.length,a=0;a<o;a++){var r=i[a].split("=");n[r[0].replace(" ","")]=r[1]}return n[e]}return""},e.guid=function(){var e=0;return function(){return++e}},e.getURLParams=function(){var e={};try{if(window.location&&window.location.search)for(var t=window.location.search.substr(1).split("&"),i=0;i<t.length;i++){var n=t[i].split("=");2===n.length&&(e[n[0]]=n[1])}}catch(e){}return e},e.bindElemResize=function(e,t){if(!e||!e.getBoundingClientRect)return function(){};var i=0,n=0;function o(){var o=e.getBoundingClientRect(),a=o.width,r=o.height;a===i&&r===n||(i=a,n=r,"function"==typeof t&&t(a,r))}return document.addEventListener("scroll",o),window.addEventListener("resize",o),o},e.curry=function(t,i,n){void 0===i&&(i=window),void 0===n&&(n=[]);var o=t.length;return function(){var a=[].slice.call(arguments);return[].push.apply(a,n),a.length<o?e.curry.call(i,t,a):t.apply(i,a)}},e.camelCase=function(e){return e.replace(/_([a-z])/g,function(e,t){return t.toUpperCase()})},e.javascriptEncode=function(e){if(e){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i=e,n="",o=0;o<i.length;o++)n+=a(i.charAt(o));return n}function a(e){var i=!0,n=e.charAt(0),o=e.charCodeAt(0);switch(n){case"\n":return"\\n";case"\r":return"\\r";case"'":return"\\'";case'"':return'\\"';case"&":return"\\&";case"\\":return"\\\\";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"/":return"\\x2F";case"<":return"\\x3C";case">":return"\\x3E";default:i=!1}if(!i){if(o>47&&o<58)return e;if(o>64&&o<91)return e;if(o>96&&o<123)return e;if(o>127){var a=o,r=a%16,l=(a=Math.floor(a/16))%16,s=(a=Math.floor(a/16))%16;return a=Math.floor(a/16),"\\u"+t[a%16]+t[s]+t[l]+t[r]}return"\\x"+e.charCodeAt(0).toString(16)}}},e.htmlCode=function(e){if(!e||0===e.length)return"";for(var t=e,i="",n=0;n<t.length;n++){i+=o(t.charAt(n))}return i;function o(e){switch(e.charCodeAt(0)){case 10:return"<br/>";case 32:return"&nbsp;";case 34:return"&quot;";case 38:return"&amp;";case 39:return"&#x27;";case 47:return"&#x2F;";case 60:return"&lt;";case 62:return"&gt;";case 198:return"&AElig;";case 193:return"&Aacute;";case 194:return"&Acirc;";case 192:return"&Agrave;";case 197:return"&Aring;";case 195:return"&Atilde;";case 196:return"&Auml;";case 199:return"&Ccedil;";case 208:return"&ETH;";case 201:return"&Eacute;";case 202:return"&Ecirc;";case 200:return"&Egrave;";case 203:return"&Euml;";case 205:return"&Iacute;";case 206:return"&Icirc;";case 204:return"&Igrave;";case 207:return"&Iuml;";case 209:return"&Ntilde;";case 211:return"&Oacute;";case 212:return"&Ocirc;";case 210:return"&Ograve;";case 216:return"&Oslash;";case 213:return"&Otilde;";case 214:return"&Ouml;";case 222:return"&THORN;";case 218:return"&Uacute;";case 219:return"&Ucirc;";case 217:return"&Ugrave;";case 220:return"&Uuml;";case 221:return"&Yacute;";case 225:return"&aacute;";case 226:return"&acirc;";case 230:return"&aelig;";case 224:return"&agrave;";case 229:return"&aring;";case 227:return"&atilde;";case 228:return"&auml;";case 231:return"&ccedil;";case 233:return"&eacute;";case 234:return"&ecirc;";case 232:return"&egrave;";case 240:return"&eth;";case 235:return"&euml;";case 237:return"&iacute;";case 238:return"&icirc;";case 236:return"&igrave;";case 239:return"&iuml;";case 241:return"&ntilde;";case 243:return"&oacute;";case 244:return"&ocirc;";case 242:return"&ograve;";case 248:return"&oslash;";case 245:return"&otilde;";case 246:return"&ouml;";case 223:return"&szlig;";case 254:return"&thorn;";case 250:return"&uacute;";case 251:return"&ucirc;";case 249:return"&ugrave;";case 252:return"&uuml;";case 253:return"&yacute;";case 255:return"&yuml;";case 162:return"&cent;";default:!1}return e}},e.escapeMessyCode=function(e){for(var t=e,i="",n=0;n<t.length;n++){i+=o(t.charAt(n))}return i;function o(e){switch(e.charCodeAt(0)){case 0:return"";default:return e}}},e.BUNDLE_TYPE="release",e.browser=n.detect(),e.isWebPSupported=function(){var e=!1;try{var t=document.createElement("canvas");t.width=1,t.height=1,e=!!t.toDataURL&&5===t.toDataURL("image/webp").indexOf("image/webp")}catch(e){}return e}(),e}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="1",o="0",a=function(){function e(e,t){var i=this;this._wrap=e,this.storage=t,this._cssPrefix="bilibili-live-player-event-log";var n,o,a,r,l=this._cssPrefix;r=this.getLocalStorage(),(n=$("<div>").addClass(l+"-container")).appendTo(this._wrap),a=$("<div>").addClass(l+"-panel").appendTo(n),n.mCustomScrollbar&&n.mCustomScrollbar({axis:"y",scrollInertia:200,autoHideScrollbar:!0}),o=$('<a href="javascript:void(0);">').addClass(l+"-close").html("[x]").appendTo(n),this._template={_container:n,_close:o,_panel:a},this._template._close.on("click",function(){i.hide()}),r&&this.activate(),this.storage=t}return e.log=function(t,i,n){void 0===i&&(i=0);var o=["Info","Warning","Error","Hide"],a=new Date,r=performance&&performance.now()||0,l=Math.round(r-n)||0;if((i<0||i>=o.length)&&(i=0),e.eventLogText+="["+("Hide"===o[i]?"Info":o[i])+"] > "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+":"+a.getMilliseconds()+"  \t"+t+(n?" "+l+" ms":"")+"\r\n",t.indexOf("\n")>-1&&3!==i&&(e.eventLogText+="\r\n"),e.isActive){for(var s=[],A="";e.EVENT_LOG_QUEUE.length;){var c=e.EVENT_LOG_QUEUE.shift();(A=e._createLogs(c.log,c.type,c.loadTime))&&s.push(A)}(A=e._createLogs(t,i,l))&&s.push(A),e._log(s),e.EVENT_LOG_QUEUE=[]}else e.EVENT_LOG_QUEUE.push({log:t,type:i,loadTime:n?l:0});return performance&&performance.now()},e._createLogs=function(e,t,i){if(e){var n=["Info","Warning","Error","Hide"][t],o="bilibili-live-player-event-log-"+n.toLowerCase();if(e.indexOf("\n")>-1&&3!==t)return"<p>&nbsp;</p>";if(3!==t)return'\n                    <p class="'+o+'">\n                        <span class="bilibili-live-player-event-log-content">\n                            ['+n[0]+"] > "+e+"\n                        </span>\n                        "+(i>0?'<span class="bilibili-live-player-event-log-duration"> '+i+" ms</span>":"")+"\n                    </p>\n                "}return null},e._log=function(e){var t="bilibili-live-player-event-log-panel",i=$("."+t),n=$("."+t+"-container");e.length&&(i.append(e),setTimeout(function(){n&&n.mCustomScrollbar&&n.mCustomScrollbar("scrollTo","bottom")},50))},e.prototype.show=function(){this.activate().setLocalStorage(n),e.log("")},e.prototype.hide=function(){this.deactivate().setLocalStorage(o)},e.prototype.text=function(){return e.eventLogText},e.prototype.getLocalStorage=function(){return!(!this.storage||!this.storage.activateStorage)&&(this.storage.storageKey||(this.storage.storageKey="eventLogOpen"),!!parseInt(localStorage.getItem(this.storage.storageKey),10))},e.prototype.setLocalStorage=function(e){this.storage&&this.storage.activateStorage&&localStorage.setItem(this.storage.storageKey,e)},e.prototype.activate=function(){return this._template._container.addClass("active"),e.isActive=!0,this},e.prototype.deactivate=function(){return this._template._container.removeClass("active"),e.isActive=!1,this},e.eventLogText="",e.EVENT_LOG_QUEUE=[{log:"BILIBILI HTML5 PLAYER LOG",type:0}],e.isActive=!1,e}();t.default=a},function(e,t,i){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){return Array.isArray(e)?function(e,t){for(var i,n="",a="",r=Array.isArray(t),l=0;l<e.length;l++)(i=o(e[l]))&&(r&&t[l]&&(i=s(i)),n=n+a+i,a=" ");return n}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var o in e)o&&e[o]&&n.call(e,o)&&(t=t+i+o,i=" ");return t}(e):e||""}function a(e){if(!e)return"";if("object"==typeof e){var t="";for(var i in e)n.call(e,i)&&(t=t+i+":"+e[i]+";");return t}return e+""}function r(e,t,i,n){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(n?e:e+'="'+e+'"');var o=typeof t;return"object"!==o&&"function"!==o||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=s(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}t.merge=function e(t,i){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=e(n,t[o]);return n}for(var r in i)if("class"===r){var l=t[r]||[];t[r]=(Array.isArray(l)?l:[l]).concat(i[r]||[])}else if("style"===r){var l=a(t[r]);l=l&&";"!==l[l.length-1]?l+";":l;var s=a(i[r]);s=s&&";"!==s[s.length-1]?s+";":s,t[r]=l+s}else t[r]=i[r];return t},t.classes=o,t.style=a,t.attr=r,t.attrs=function(e,t){var i="";for(var l in e)if(n.call(e,l)){var s=e[l];if("class"===l){s=o(s),i=r(l,s,!1,t)+i;continue}"style"===l&&(s=a(s)),i+=r(l,s,!1,t)}return i};var l=/["&<>]/;function s(e){var t=""+e,i=l.exec(t);if(!i)return e;var n,o,a,r="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}o!==n&&(r+=t.substring(o,n)),o=n+1,r+=a}return o!==n?r+t.substring(o,n):r}t.escape=s,t.rethrow=function e(t,n,o,a){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||a))throw t.message+=" on line "+o,t;try{a=a||i(57).readFileSync(n,"utf8")}catch(i){e(t,null,o)}var r=3,l=a.split("\n"),s=Math.max(o-r,0),A=Math.min(l.length,o+r);var r=l.slice(s,A).map(function(e,t){var i=t+s+1;return(i==o?"  > ":"    ")+i+"| "+e}).join("\n");t.path=n;t.message=(n||"Pug")+":"+o+"\n"+r+"\n\n"+t.message;throw t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="https://api.live.bilibili.com",o=function(){function e(){}return e.player=n+"/api/player",e.playURL=n+"/xlive/web-room/v1/playUrl/playUrl",e.send=n+"/msg/send",e.getSpecialUser=n+"/msg/getSuser",e.recommend=n+"/room/v1/room/get_recommend_by_room",e.roomSilent=n+"/liveact/room_silent",e.userSilent=n+"/liveact/user_silent",e.shieldKeyword=n+"/liveact/shield_keyword",e.shieldUser=n+"/liveact/shield_user",e.setRoomShield=n+"/liveact/set_room_shield",e.setUserShield=n+"/liveact/set_user_sheid",e.reportDanmaku=n+"/room_ex/v1/Danmu/danmuReport",e.reportReason=n+"/room_ex/v1/Danmu/forDanmuReason",e.roundPlayUrl=n+"/live/getRoundPlayVideo",e.getIPJson=n+"/client/v1/Ip/getInfoNew",e.trackUrl="//data.bilibili.com/v/flashplay/live_h5_player",e.track="https://data.bilibili.com/log/web",e.reclipHost="https://www.bilibili.com",e.reclipUrl=e.reclipHost+"/blackboard/live/live_clip.html",e.roomInit=n+"/xlive/web-room/v1/index/getRoomPlayInfo",e.danmakuHosts=n+"/room/v1/Danmu/getConf",e.getRoomSilent=n+"/banned_service/v1/silent/get_room_silent",e.getShieldInfo=n+"/banned_service/v1/shield/get_shield_info",e.danmuConf=n+"/userext/v1/danmuConf/getAll",e}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,i){this._container=e,this._options=t,this._type=i,this._initialized=!1,this._disabled=!1,this._isActive=!1,this.value=t.value}return e.prototype.refresh=function(){},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._disabled||e===this._value||(this._value=e,this._initialized&&this._triggerChange())},enumerable:!0,configurable:!0}),e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){this.value=e},e.prototype.option=function(e,t,i){},e.prototype.options=function(e,t){},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.active=function(){},e.prototype.deactivate=function(){},e.prototype.isActive=function(){return this._isActive},e.prototype.element=function(){return this._element},e.prototype.checked=function(e){void 0===e&&(e=!0)},e.prototype.destroy=function(){this._destroy()},e.prototype.fire=function(e){},e.prototype.set=function(e,t){},e.prototype.mute=function(e){},e.prototype._bindEvent=function(){},e.prototype._triggerChange=function(){},e.prototype._setInitialized=function(e){e?this._initialized=e:(this._options.active&&this.active(),this._initialized=!0)},e.prototype._destroy=function(){},e.prefix="blpui",e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o={assign:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length<=1)return e[0];var i=null!=e[0]?Object(e[0]):{};return e.forEach(function(e,t){if(0!==t&&null!=e)for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n])}),i},getHexColor:function(e){return"#"+("000000"+e.toString(16)).slice(-6)},browser:{version:(n=navigator.userAgent,{trident:/Trident/i.test(n),presto:/Presto/i.test(n),webKit:/AppleWebKit/i.test(n),gecko:/Gecko/i.test(n)&&!/KHTML/i.test(n),mobile:/AppleWebKit.*Mobile.*/i.test(n),ios:/Mac OS X[\s\_\-\/](\d+[\.\-\_]\d+[\.\-\_]?\d*)/i.test(n),android:/Android/i.test(n),linux:/Linux/i.test(n),windowsphone:/Windows Phone/i.test(n),iPhone:/iPhone/i.test(n),iPad:/iPad/i.test(n),MicroMessenger:/MicroMessenger/i.test(n),webApp:!/Safari/i.test(n),edge:/edge/i.test(n),safari:/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.test(n.toLowerCase())||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.test(n.toLowerCase())}),language:navigator.language&&navigator.language.toLowerCase()}};t.default=o},function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,l)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var i,n,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),i(29);var r=i(1),l=i(0),s=i(4),A=i(56),c=i(58),d=i(63),p=i(74),u=i(19),h=i(77),f=i(79),g=i(80),_=i(85),b=i(87),m=i(88),E=i(90),y=i(92),v=i(95),T=i(96),S=i(97),I=i(98),R=i(100),C=i(101),w=i(102),k=i(103),L=i(2),B=i(21),x=i(22),N=i(104),D=i(105),O=function(){function e(t,i){this._container=t,this._options=i,this.config={},this.state={},this.components={},this.plugins={},this.window=window,this.initializedMaxTime=3e4,this.errorRetryCount=0,this.errorRetryMaxCount=10,this.errorRetrying=!1,this.errorInfo={},this.errorRetryIntervalArray=[0,1,3,5,10,20,30,60,90,120],this._trackBufferingCount=0,this._initializedCount=0,this._initialized=!1,this._initializedCallbackQueue=[],this._firstLoadedPlayURLCallbackQueue=[],this._firstPlayingCallbackQueue=[],this._loggedInCallBackQueue=[],this._trackIntervalMap={},this._trackFirstPlayurlLoadedTimeStatus=!1,this._trackFirstPlayerLoadedTimeStatus=!1,this._trackFirstLoadedTimeStatus=!0,this._isFirstError=!0,"development"===r.default.BUNDLE_TYPE&&window.console.clear();var n="number"==typeof i.cid?i.cid:parseInt(i.cid,10),o="number"==typeof i.type?i.type:parseInt(""+i.type,10);return L.default.log("Initialize Config Info: \n\n"+JSON.stringify(i)+"\n",3),isNaN(n)&&r.default.log("Create Player CID Error",i.cid),isNaN(o)&&(o=l.default.PLAYER_ROOM),i.mask=i.mask||{},this.config={prefix:"bilibili-live-player",namespace:".BILIBILI_HTML5_LIVE_PLAYER",cid:n,playerId:r.default.getRandomString(),uid:0,rid:n,uname:"",server:"",startTime:Math.floor(Date.now()/1e3),useType:o,fnPromiseMode:i.fnPromiseMode||!1,initTime:i.initTime||r.default.getTimeNow(!0),versionRnd:""+(this._options.versionRnd||e.VERSION().version),version:e.VERSION,roomInitData:i.roomInitData,switchCount:i.switchCount||0,liveStatus:l.default.L_STATUS_PREPARING,videoStatus:l.default.V_IDEL,playerStatus:l.default.P_NORMAL,visibilityStatus:!0,checkChasingFrame:!0,networkEarlyEOFCount:0,lastPlayURLRequestTime:0,rnd:i.rnd,changeMode:i.changeMode,user:{id:0,name:"",silentLevel:0,silentRank:0,silentVerify:!1,isSuperUser:!1},authentication:{needToVerify:!1,countyRange:[],isForbidden:!1},protocol:{api:l.STATE_STRING.PROTOCOL_API_HTTP,websocket:l.STATE_STRING.PROTOCOL_WEBSOCKET_DEFAULT,port:0},urlParams:r.default.getURLParams(),playurlTimeout:3e6,IPJson:null,trackLogId:"000516",controllable:{controller:{},gift:!0,send:!1},playurlData:i.playurlData||null,downgrade:i.downgrade||0,browser:r.default.browser,pauseShouldReload:!1,mask:{maxSelectTime:i.mask.maxSelectTime||300,deleteImageFps:i.mask.deleteImageFps||100,maskFps:i.mask.maskFps||60,shouldOpenMask:i.mask.shouldOpenMask||!1}},this.mixinControllableConfig(),i.UI=i.UI||{},this.state={onSwitching:!1,onSwitchQuality:!1,onError:!1,onFixing:!1,onMini:!1,onStop:!1,onPlayerAPIError:!1,wasErrorRetried:!1,switchNextLine:-1,switchNextQuality:-1,liveStatus:-1,videoStatus:l.default.V_IDEL,playerStatus:l.default.P_NORMAL,visibilityStatus:!0,playURLIndex:l.default.LIVE_URL,playURLIndexBackup:l.default.LIVE_URL,playURL:"",playURLList:[],quality:l.default.QUALITY_DEFAULT,qualityBackup:l.default.QUALITY_DEFAULT,networkEarlyEOFCount:0,lastPlayURLRequestTime:0,firstPlayURLRequestTime:0,scriptLoadTime:r.default.getTimeNow(!0)-i.initTime||0,guid:r.default.getRandomString(),playingTime:0,minBuffer:1e3,pausedTime:r.default.getTimeNow(!0),backgroundTabStartTime:0,backgroundTabTime:0,switchState:!1,switchInfo:{type:"",initText:"",completedText:"",failedText:""},switchTipWrap:void 0,danmakuDensity:80,reloadDoneCallback:void 0,initializedDataMap:{popularWords:[],emojiList:[],giftInfo:[],admin:{isAdmin:0}},logIPJsonStatus:!1,logVideoInfoStatus:!1,errorCode:0,autoResizeHandler:0,firstLoadedAPIPlayerStatus:!1,firstLoadedAPIPlayurlStatus:!1,firstLoadStart:!1,firstLoadedMetaData:!1,firstPlaying:!1,lastOpState:"",isInOperation:!1,isInAnnouncement:!1,forceBufferTimeout:0,trackLoadStreamErrorStatus:!1,loadingPicture:i.loadingPicture||null,reuseTime:0,danmukuShowSatatus:!0,destroying:!1,destroyId:Date.now(),playerVideoQualityInfo:{},isStopPlayback:!1,UIState:{logo:void 0===i.UI.logo||i.UI.logo,feedback:void 0===i.UI.feedback||i.UI.feedback,recommend:void 0===i.UI.recommend||i.UI.recommend,tipsText:void 0===i.UI.tipsText||i.UI.tipsText},coreProtocol:i.coreProtocol||0,coreType:i.coreType||0},this.INTERVAL={RELOAD_LIVE_MAX_TIME:1e4,AUTO_REMOVE_SWITCH_INFO_TIME:3e3,TOAST_INFO:3e3,RELOAD_LIVE:0,ERROR_RECOVER_CALLBACK:0,AUTO_REMOVE_SWITCH_INFO:0,TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC:0,FULLSCREEN_AUTO_HIDE_CURSOR:0,MULTI_AUDIO_RELOAD:0,TRACK_STREAM_LOAD_ERROR_TIMER:0},this.callbackMap={initialized:[],playerStateChange:[],liveStateChange:[],videoStateChange:[],fullscreenChange:[],playing:[],paused:[],switchLine:[],switchQuality:[],webFullscreen:[],feedBackClick:[],blockSettingClick:[],set:[],reload:[],guidChange:[],initDanmaku:[],addDanmaku:[],sendDanmaku:[],receiveOnlineCount:[],receiveMessage:[],userLogin:[],sendGift:[],firstLoadedAPIPlayer:[],firstLoadedAPIPlayurl:[],firstLoadStart:[],firstLoadedMetaData:[],firstPlaying:[],enterTheRoom:[],operableElementsChange:[],autoPlay:[],switchQualityNotLogin:[],recommend:[],danmakuMaskChange:[],danmakuMaskStatusChange:[]},window.addEventListener("message",this.receiveMessage.bind(this),!1),this._load()}return e.VERSION=function(){return{version:"1.10.4",gitHash:"50618c46",build:"311",bundleType:"release"}},e.verifyDocumentIsHidden=function(){var e=["webkit","moz","ms","o"],t=document;if("hidden"in t)return t.hidden;for(var i=0,n=e.length;i<n;i++)if(e[i]+"Hidden"in t)return t[e[i]+"Hidden"];return!1},e.verifyHTML5PlayerSupport=function(){return window.flvjs.getFeatureList().mseLiveFlvPlayback},e.getDanmakuColor=function(e){return Number(e||window.getDanmuColor&&window.getDanmuColor())||l.default.DANMAKU_DEFAULT_INT10_COLOR},e.getDanmakuMode=function(e){return e||("function"==typeof window.getDanmuMode&&window.getDanmuMode()||l.default.DANMAKU_MODE_SCROLL)},e.prototype._load=function(){return this.state.destroying=!1,L.default.log("HTML5 Player Version "+e.VERSION().version+", Type: "+this.config.useType),this.logTimeFirstPlay=L.default.log("Script Loaded.",0,this._options.initTime),L.default.log("href: "+window.location.href,3),L.default.log("ua: "+window.navigator.userAgent,3),this._logTimeInitialize=L.default.log("Initialize..."),this.event=new B.default,this.track(l.TRACK.EXPERIENCE_FIRST_INIT_TIME,{time:this._options.initTime}),this.trackFirstLoaded(),this._trackPlayerInitializedTime=this.trackTime(l.TRACK.STATISTICS_PLAYER_LOADED),this.userInit(),this._preRenderedDom(),this._checkRoomIsForbidden(),this._getPlayerReturn()},e.prototype.addLoadingPicture=function(e){e?(this.state.loadingPicture=e,this.components.video&&this.components.video.addLoadingPicture(e)):(this.state.loadingPicture=null,this.components.video&&this.components.video.removeLoadingPicture())},e.prototype.clearPlayURL=function(){this.state.lastPlayURLRequestTime=0},e.prototype.play=function(){var e=this;if(L.default.log("Player Playing.."),this.state.videoStatus===l.default.V_PAUSE&&this.config.pauseShouldReload)return this.playingStatusSync(),this.reload(),this;var t=this.components;return!this.state.onFixing&&this.refreshPausedTime(!0),t.errorPanel.hide(),t.endingPanel.hide(),t.danmaku&&t.danmaku.play(),this.triggerFirstPlayCallback(),this.loading(100,function(){e.playingStatusSync()}),this},e.prototype.openClip=function(){var e=this.components;if(!e.video)return this.showOperationSuccessTips("请在播放状态下操作"),this.track(l.TRACK.STATISTIC_OPEN_CLIP_PAGE_FAIL_NO_VIDEO),!1;var t=e.video.getClipCacheData(),i=e.video.getConfig();return e.video.canClip&&t&&i?(window.open(s.default.reclipUrl,"reclipPage"),this.track(l.TRACK.STATISTIC_OPEN_CLIP_PAGE_SUCCESS),!0):(this.track(l.TRACK.STATISTIC_OPEN_CLIP_PAGE_FAIL_NO_DATA),this.showOperationSuccessTips("请在播放状态下操作"),!1)},e.prototype.playingStatusSync=function(){var e=this.components;this._setVideoStatus(l.default.V_PLAY),e.loadingPanel.hide(),this.state.loadingPicture&&this.addLoadingPicture(this.state.loadingPicture),e.video.showLoading(),e.video&&e.video.play(),e.controller&&e.controller.play(),r.default.fireEventCallback(this.callbackMap.playing)},e.prototype.pause=function(){return L.default.log("Player Paused."),!this.state.onFixing&&this.refreshPlayingTime(),this._setVideoStatus(l.default.V_PAUSE),this.components.video.pause(),this.config.pauseShouldReload&&this.components.video.unload(),this.components.controller.pause(),l.default.L_STATUS_LIVE!==this.getLiveStatus()&&l.default.L_STATUS_ROUND!==this.getLiveStatus()||this.components.danmaku.pause(),this.config.useType===l.default.PLAYER_HOME&&this.components.video.destroy(),r.default.fireEventCallback(this.callbackMap.paused),this},e.prototype.reload=function(e,t,i){var n=this;return void 0===e&&(e=l.default.LIVE_URL),void 0===i&&(i=!1),this.state.onStop?(L.default.log("Player reloading stop"),this):(L.default.log("Player reloading..."),this.state.playURLIndex=e,this.reset(i),i&&this.resetSwitchInfo(),this.components.video.handleReload(),this.state.onFixing||(this.components.video.showLoading(),this.state.loadingPicture&&this.addLoadingPicture(this.state.loadingPicture)),this.shouldReusePlayUrl(e)?void 0:(this.onPlayerLiveStatus({onLive:function(){n.event.emit(l.EVENT.ON_LIVE,e,t),n.config.urlParams.fix&&n.event.emit(l.EVENT.TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC)},onRound:function(){n.event.emit(l.EVENT.ON_ROUND)},onPreparing:function(){n.event.emit(l.EVENT.ON_PREPARING).emit(l.EVENT.ON_ERROR_RETRY_CANCELED)}}),this))},e.prototype.shouldReusePlayUrl=function(e){var t=this;if(void 0===e&&(e=l.default.LIVE_URL),this.state.firstPlaying){if(this.config.useType===l.default.PLAYER_HOME)return!1;if(l.default.L_STATUS_ROUND===this.getLiveStatus())return!1;if(this.state.onSwitchQuality)return this.state.onSwitchQuality=!1,!1;var i=this.state.playURLList[e].url,n=i.match(/[?&]wsTime=([^&#]+)/i)||i.match(/[?&]expires=([^&#]+)/i);if(this.state.reuseTime<3&&n&&n[1]&&1e3*n[1]>r.default.getTimeNow())return clearTimeout(this.INTERVAL.ERROR_RECOVER_CALLBACK),this.changeUrlGuid(),i=this.state.playURLList[e].url,this.INTERVAL.ERROR_RECOVER_CALLBACK=window.setTimeout(function(){t.state.reuseTime++,t.components.video.clearDetectBufferSlowly(),t.components.danmaku&&t.components.danmaku.density(t.state.danmakuDensity),t.event.emit(l.EVENT.RESOLVED_CURRENT_PLAY_URL_SUCCESSFULLY,i)},1e3*this.errorRetryIntervalArray[this.state.reuseTime-1]),!0}return!1},e.prototype.changeUrlGuid=function(){var e,t=this.state,i=t.playURLList.length;if(i){var n=t.guid;e=r.default.getRandomString(),t.guid=e,this._guidChange(e,n)}for(var o=0;o<i;o++){var a=t.playURLList[o].url,l=a.match(/[?&]pSession=([^&#]+)/i);l&&l[1]&&(t.playURLList[o].url=a.replace(l[1],e))}},e.prototype.loadVideo=function(e){var t=this;this.addInitCallback(function(){t._loadVideo(e)})},e.prototype.load=function(){var e=this;this.addInitCallback(function(){e.destroy(),e.state.onStop=!1,e._load(),e.setLocalVolume()})},e.prototype.volume=function(e){return this.components.controller.volume(e),this.components.video.volume(e),this},e.prototype.showDanmaku=function(e){return void 0===e&&(e=!0),this.components.controller.showDanmaku(e),this},e.prototype.setVolume=function(e){return this.components.video&&this.components.video.volume(e),this},e.prototype.mute=function(e){return void 0===e&&(e=!0),this.components.controller&&this.components.controller.mute(e),this},e.prototype.end=function(e){void 0===e&&(e=!0),L.default.log("\nPlayer Ended.");var t=this.components;return!this.state.onFixing&&this.refreshPlayingTime(!0),t.controller.end(),t.danmaku.resize(),t.video.end(),t.errorPanel.hide(),t.loadingPanel.hide(),e&&this.components.endingPanel.show(),this.clearExpiredLivePlayurlInfo(),window.clearTimeout(this.initializedTimeOut),this},e.prototype.stop=function(){L.default.log("Player Stop."),this.state.onStop=!0,this.end(!1),this.components.socket.destroy(),this.components.endingPanel.hide(),this.event.emit(l.EVENT.ON_ERROR_RETRY_CANCELED)},e.prototype.error=function(e,t,i){return void 0===i&&(i=!1),!this.state.onError&&(this.state.onSwitching&&this.restoreReloadFailed(),this.state.onError=!0,this.errorRetrying?this.event.emit(l.EVENT.ON_ERROR_RETRYING_FAILED):(L.default.log("\r\nPlayer Error.",2),L.default.log(e+": "+t,2),window.clearTimeout(this.initializedTimeOut),this.errorInfo={type:e,msg:t,isHardError:i},this.event.emit(l.EVENT.ON_ERROR_RETRYING)),!0)},e.prototype.errorRecover=function(e){if(this.errorRetrying){L.default.log("Error Recover Type : "+this.errorInfo.type);var t=this.errorInfo.type;switch(this.state.lastOpState=l.default.LAST_OP_STATE_ERROR,t){case l.ERROR_CODE.LIVE_PLAYER_RELOAD_ERROR:case l.ERROR_CODE.PLAYURL_NETWORK_ERROR:case l.ERROR_CODE.NETWORK_EXCEPTION:case l.ERROR_CODE.NETWORK_UNRECOVERABLE_EARLY_EOF:case l.ERROR_CODE.MEDIA_MSE_ERROR:case l.ERROR_CODE.PLAYURL_ROUND_NETWORK_ERROR:case l.ERROR_CODE.NETWORK_STATUS_CODE_INVALID:case l.ERROR_CODE.PLAYURL_ROUND_RESOLVE_ERROR:this.event.emit(l.EVENT.ON_PLAYER_RELOADING);break;case l.ERROR_CODE.PLAYER_ERROR:this.state.onPlayerAPIError=!0,this._checkRoomInitExist();break;default:"function"==typeof e&&e()}}},e.prototype.errorRestore=function(){this.components.video.restoreVideoBackup()},e.prototype.forbidden=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=""),L.default.log("The Current IP Is Forbidden.",2),this.config.roomInitData={},e||this.destroy(!1),this._initialized=!0,this.components.forbiddenPanel.initialize(t)},e.prototype.loading=function(e,t){return void 0===e&&(e=100),L.default.log("Loading.."+e+" %"),this.components.loadingPanel.setPercent(e,t),this},e.prototype.destroy=function(e){void 0===e&&(e=!0),this.state.destroying=!0;var t=this.config.namespace,i=this.components;for(var n in $(window).off("resize"+t),this.components.template.wrap&&this.components.template.wrap.off("mousemove"+t).off("mouseleave"+t),this.components.template.video_wrap&&this.components.template.video_wrap.off("dblclick"+t),$(".chat-ctnr-hider-ctnr").off("click"+t),$(document).off("visibilitychange"),x.default.destroy(),i.controller&&(i.controller.destroy(),i.controller=void 0),i.endingPanel&&i.endingPanel.destroy(),i.video&&i.video.destroy(e),i.socket&&i.socket.destroy(),i.giftManager&&i.giftManager.destroy(),i.mask&&i.mask.destory&&i.mask.destory(),i.danmaku&&(i.danmaku.destroy(),i.danmaku=void 0),this.clearPlayURL(),window.clearTimeout(this.initializedTimeOut),this.event.emit(l.EVENT.ON_ERROR_RETRY_CANCELED),this._trackIntervalMap)window.clearTimeout(this._trackIntervalMap[n]);this.clearTrackPlayingTime(),this.state.autoResizeHandler&&document.removeEventListener("scroll",this.state.autoResizeHandler),this.state.autoResizeHandler&&window.removeEventListener("resize",this.state.autoResizeHandler),e&&(this.plugins.contextMenu.destroy(),e&&this.components.template.wrap.remove())},e.prototype.set=function(e){if(e&&e.component&&e.action){var t=e.component.toLowerCase(),i=e.action,n=e.data,o=e.callback,a=function(e,t,i){};switch(L.default.log("Set "+t+" - "+i+" : "+JSON.stringify(n)),t){case l.STATE_STRING.SET_COMPONENT_DANMAKU:a=this.components.controller.set.bind(this.components.controller);break;case l.STATE_STRING.SET_COMPONENT_BLOCK:a=this.components.block.set.bind(this.components.block);break;case l.STATE_STRING.SET_COMPONENT_GIFT:break;case l.STATE_STRING.SET_COMPONENT_MASK:a=this.components.mask.set.bind(this.components.mask)}"blockDanmaku"!==i?a(i,n,o):this.components.danmaku.set({action:i,data:n})}else L.default.log("Set options error: "+JSON.stringify(e),1)},e.prototype.setOld=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];switch(i&&1!==i.length||(i=i[0]||""),L.default.log("Set "+e+" - "+t+" : "+i),e){case"danmaku":this.components.controller.set(t,i);break;case"block":this.components.block.set(t,i)}},e.prototype.getPlaybackDelay=function(){return this.components&&this.components.video?this.components.video.getPlaybackDelay():0},e.prototype.setProtectPlaybackRate=function(e,t){this.config.checkChasingFrame=e,isNaN(t)||(this.state.minBuffer=t)},e.prototype.setPlaybackRate=function(e){return!!(e&&this.components&&this.components.video)&&this.components.video.setPlaybackRate(e)},e.prototype.getPlaybackRate=function(){return this.components&&this.components.video?this.components.video.getPlaybackRate():0},e.prototype.setChasingFrameThreshold=function(e){var t=this.config.browser;return this.components&&this.components.video&&"safari"!==t.name?this.components.video.setChasingFrameThreshold(e):0},e.prototype.on=function(e,t){var i=this;if(e&&"function"==typeof t){var n=this.callbackMap;switch(r.default.log("player on: ",e,t),e){case l.STATE_STRING.CALLBACK_INITIALIZED:n.initialized.push(t),this._firePlayerInitialized();break;case l.STATE_STRING.CALLBACK_PLAYER_STATE_CHANGE:n.playerStateChange.push(t);break;case l.STATE_STRING.CALLBACK_LIVE_STATE_CHANGE:n.liveStateChange.push(t);break;case l.STATE_STRING.CALLBACK_VIDEO_STATE_CHANGE:n.videoStateChange.push(t);break;case l.STATE_STRING.CALLBACK_FULL_SCREEN_CHANGE:n.fullscreenChange.push(t);break;case l.STATE_STRING.CALLBACK_PLAYING:n.playing.push(t);break;case l.STATE_STRING.CALLBACK_PAUSED:n.paused.push(t);break;case l.STATE_STRING.CALLBACK_SWITCH_LINE:n.switchLine.push(t);break;case l.STATE_STRING.CALLBACK_SWITCH_QUALITY:n.switchQuality.push(t);break;case l.STATE_STRING.CALLBACK_WEB_FULLSCREEN:n.webFullscreen.push(t);break;case l.STATE_STRING.CALLBACK_FEED_BACK_CLICK:n.feedBackClick.push(t);break;case l.STATE_STRING.CALLBACK_BLOCK_SETTING_CLICK:n.blockSettingClick.push(t);break;case l.STATE_STRING.CALLBACK_SET:n.set.push(t);break;case l.STATE_STRING.CALLBACK_INIT_DANMAKU:n.initDanmaku.push(t),this.user&&this.user.initDanmaku(function(e){e.ready&&r.default.fireEventCallback(i.callbackMap.initDanmaku,e)});break;case l.STATE_STRING.CALLBACK_ADD_DANMAKU:n.addDanmaku.push(t);break;case l.STATE_STRING.CALLBACK_SEND_DANMAKU:n.sendDanmaku.push(t);break;case l.STATE_STRING.CALLBACK_RECEIVE_ONLINE_COUNT:n.receiveOnlineCount.push(t),this.components.socket&&this.components.socket.initHeartBeatReply();break;case l.STATE_STRING.CALLBACK_RECEIVE_MESSAGE:n.receiveMessage.push(t);break;case l.STATE_STRING.CALLBACK_USER_LOGIN:n.userLogin.push(t);break;case l.STATE_STRING.CALLBACK_SEND_GIFT:n.sendGift.push(t);break;case l.STATE_STRING.CALLBACK_FIRST_LOADED_API_PLAYER:n.firstLoadedAPIPlayer.push(t);break;case l.STATE_STRING.CALLBACK_FIRST_LOADED_API_PLAYURL:n.firstLoadedAPIPlayurl.push(t);break;case l.STATE_STRING.CALLBACK_FIRST_LOAD_START:n.firstLoadStart.push(t);break;case l.STATE_STRING.CALLBACK_FIRST_LOADED_META_DATA:n.firstLoadedMetaData.push(t);break;case l.STATE_STRING.CALLBACK_FIRST_PLAYING:n.firstPlaying.push(t);break;case l.STATE_STRING.ENTER_THE_ROOM:n.enterTheRoom.push(t);break;case l.STATE_STRING.CALLBACK_RELOAD:n.reload.push(t);break;case l.STATE_STRING.CALLBACK_GUID_CHANGE:n.guidChange.push(t),this.state.lastOpState=l.default.LAST_OP_STATE_INIT_PLAYER,this._guidChange(this.state.guid);break;case l.STATE_STRING.CALLBACK_OPERABLE_ELEMENTS_CHANGE:n.operableElementsChange.push(t);break;case l.STATE_STRING.AUTO_PLAY:n.autoPlay.push(t);break;case l.STATE_STRING.SWITCH_QUALITY_NOT_LOGIN:n.switchQualityNotLogin.push(t);break;case l.STATE_STRING.RECOMMEND:n.recommend.push(t);case l.STATE_STRING.CALLBACK_DANMAKU_MASK_CHANGE:n.danmakuMaskChange.push(t);break;case l.STATE_STRING.CALLBACK_DANMAKU_MASK_STATUS_CHANGE:n.danmakuMaskStatusChange.push(t)}}else L.default.log("Add event listener error, "+e+", "+JSON.stringify(t),1);return this},e.prototype.init=function(e,t){if(e&&t&&"object"==typeof t){r.default.log("player init: ",e,t);l.default.INIT_ACTION_TYPE_WORDS;switch(e){case"popularWords":this.state.initializedDataMap.popularWords=t;break;case"emojiList":this.state.initializedDataMap.emojiList=t;break;case"giftInfo":this.state.initializedDataMap.giftInfo=t,l.default.INIT_ACTION_TYPE_GIFTS;break;case"config":this.state.initializedDataMap.admin=t}this.addInitCallback(function(){})}else L.default.log("Player init data error, "+e+": "+JSON.stringify(t),1);return this},e.prototype.getConfig=function(){return this.config},e.prototype.getState=function(){return this.state},e.prototype.getVideoStatus=function(){return this.state.videoStatus},e.prototype.getVisibilityStatus=function(){return this.config.visibilityStatus},e.prototype.setLiveStatus=function(e){var t=this.components.template.wrap,i=this.components,n=l.STATE_STRING.L_PREPARING;if(L.default.log("Set Live Status : "+e),e!==this.state.liveStatus){switch(this.state.liveStatus=e,e){case l.default.L_STATUS_LIVE:i.video.reset(),n=l.STATE_STRING.L_LIVE;break;case l.default.L_STATUS_ROUND:i.controller.end(),i.video.destroy(),i.errorPanel.hide(),i.endingPanel.hide(),n=l.STATE_STRING.L_ROUND;break;case l.default.L_END:n=l.STATE_STRING.L_END;break;case l.default.L_CLOSE:n=l.STATE_STRING.L_CLOSE;break;case l.default.L_STATUS_PREPARING:n=l.STATE_STRING.L_PREPARING;break;case l.default.L_BLOCK:n=l.STATE_STRING.L_BLOCK;break;case l.default.L_ERROR:this.event.emit(l.EVENT.ON_ERROR_RETRY_FAILED)}t.attr("data-live-state",n),this.components.danmaku.resize(),this.triggerInitCallback(),r.default.fireEventCallback(this.callbackMap.liveStateChange)}return this},e.prototype.getLiveStatus=function(){return this.state.liveStatus},e.prototype.setPlayerStatus=function(e){var t=this.state,i=this.components.template.wrap,n=this.components;if(t.playerStatus!==e){L.default.log("Set Player Status : "+e);try{window.top.__LIVEPLAYER_MODE__=e}catch(e){}switch(e){case l.default.P_NORMAL:t.playerStatus=l.default.P_NORMAL,i.attr("data-player-state","normal"),x.default.exit(),r.default.fireEventCallback(this.callbackMap.webFullscreen,!1);break;case l.default.P_WEB_FULLSCREEN:t.playerStatus=l.default.P_WEB_FULLSCREEN,i.attr("data-player-state","web-fullscreen"),x.default.exit(),r.default.fireEventCallback(this.callbackMap.webFullscreen,!0);break;case l.default.P_FULLSCREEN:t.playerStatus===l.default.P_WEB_FULLSCREEN&&r.default.fireEventCallback(this.callbackMap.webFullscreen,!1),t.playerStatus=l.default.P_FULLSCREEN,i.attr("data-player-state","fullscreen");var o=this.components.template.wrap[0];try{var a=this._options.fnElementId;a&&(o=document.getElementById(a)||window.top.document.getElementById(a))}catch(e){}x.default.request(o||this.components.template.wrap[0])}n.giftFullscreen&&n.giftFullscreen.setPlayerState(e),n.controller.setPlayerState(e),setTimeout(function(){n.danmaku.resize()},500),r.default.fireEventCallback(this.callbackMap.playerStateChange,e)}return this},e.prototype.getPlayerStatus=function(){return this.state.playerStatus},e.prototype.getRoundURL=function(){var e=this,t=this.config,i="",n=0,o="";r.default.ajax({url:s.default.roundPlayUrl,data:{room_id:t.rid,a:Date.now(),type:"flv"},beforeSend:function(){r.default.time("Load RoundPlayUrl"),L.default.log("Loading Round Player URL..")}},function(t){r.default.time("Load RoundPlayUrl",!0),L.default.log("Loaded Round Player URL.");var a=t.data;n=parseInt(a.play_time,10)||0,0===t.code&&a?a.cid>0?(i=a.title,o=a.play_url,e.config.protocol.api===l.STATE_STRING.PROTOCOL_API_HTTPS&&(o=o.replace(/http:\/\//,"https://")),e.resolveRoundPlayURL(i,n,o)):-1===a.cid&&a&&(e.event.emit(l.EVENT.ON_PRE_ROUND,n),window.clearTimeout(e.initializedTimeOut),e.components.loadingPanel.hide()):(L.default.log("GetRoundPlayVideo ajax error.",2),e.event.emit(l.EVENT.RESOLVED_ROUND_PLAY_URL_FAILED))},function(){L.default.log("Loaded Round PlayURL Error.",2),e.event.emit(l.EVENT.FAILED_TO_GET_THE_ROUND_PLAYURL)})},e.prototype.resolveRoundPlayURL=function(e,t,i){var n=this;N.default.resolve(i,function(i){window.clearTimeout(n.initializedTimeOut),n.event.emit(l.EVENT.RESOLVED_ROUND_PLAY_URL_SUCCESSFULLY,{title:e,time:t,roundData:i})},function(e,t,i){L.default.log("Resolve round interface playurl failed. "+[e]+": "+t+", "+i,2),n.event.emit(l.EVENT.FAILED_TO_GET_THE_ROUND_PLAYURL)})},e.prototype.getLivePlayURL=function(e){var t=this,i=this.config,n=this.state;return this._trackInitializedToLoadPlayURLTime&&this._trackInitializedToLoadPlayURLTime(),this._trackInitializedToLoadPlayURLTime=void 0,n.playURLList.length&&(n.guid=r.default.getRandomString()),e=e||n.quality,r.default.ajax({data:{cid:i.cid,quality:e,platform:"web"},url:s.default.playURL,beforeSend:function(){t._trackPlayURLLoadedTime=t.trackTime(l.TRACK.STATISTICS_PLAYURL_LOADED),t._logTimePlayUrl=L.default.log("Loading Live Play URL..",0,t._logTimeInitialize),t._logTimeInitialize=0}},function(i){if(L.default.log("Loaded Live Play URL.",0,t._logTimePlayUrl),L.default.log("Live Play URL data: \n\n"+JSON.stringify(i)+"\n",3),t._trackPlayURLLoadedTime(),t.state.liveStatus!==l.default.L_STATUS_PREPARING)if(i&&0===parseInt(i.code,10)){n.lastPlayURLRequestTime=r.default.getTimeNow();var o=i.data;if(o&&o.durl){var a=o.accept_quality;if(a instanceof Array&&a.length)try{n.qualityList=a.reverse().map(function(e){return parseInt(e,10)})}catch(e){L.default.log("Get quality list error, "+a,2)}n.quality=o.current_quality||e||n.qualityList[0],n.playURLList=o.durl,t.event.emit(l.EVENT.RESOLVED_PLAY_URL_SUCCESSFULLY)}else L.default.log("Get playurl [durl] error: \n\n"+JSON.stringify(i)+"\n",2),t.event.emit(l.EVENT.RESOLVED_PLAY_URL_FAILED)}else L.default.log("Get playurl [code] error: \n\n"+JSON.stringify(i)+"\n",2),t.event.emit(l.EVENT.FAILED_TO_GET_THE_PLAYURL);else t.event.emit(l.EVENT.ON_PREPARING).emit(l.EVENT.ON_ERROR_RETRY_CANCELED)},function(){t.event.emit(l.EVENT.FAILED_TO_GET_THE_PLAYURL)}),this},e.prototype.getCurrentLiveLine=function(e,t){if(void 0===e&&(e=0),t=t||this.state.quality,this._verifyPlayerURLIsExpired(t))this._loadLivePlayurlAPI(t);else{L.default.log("Switch To Line: "+e+", quality: "+t);var i=this.state,n=i.playURLList[e]&&i.playURLList[e].url;i.playURL=n,i.quality=t||l.default.QUALITY_DEFAULT,i.lastOpState="",this.components.video.clearDetectBufferSlowly(),this.event.emit(l.EVENT.RESOLVED_CURRENT_PLAY_URL_SUCCESSFULLY,n)}},e.prototype.addInitCallback=function(e){this._initialized?e():this._initializedCallbackQueue.push(e)},e.prototype.triggerInitCallback=function(){var e=this;this._initialized||(this._initializedCount++,l.default.PLAYER_INITIALIZED_COUNT===this._initializedCount&&(this._initialized=!0,L.default.log("Initialized.",0,this._logTimeInitialize),this._trackInitializedToLoadPlayURLTime=this.trackTime(l.TRACK.STATISTICS_INITIALIZED_TO_LOAD_PLAYURL),this.loading(100),this._initializedCallbackQueue.forEach(function(t){t.call(e)}),this._trackPlayerInitializedTime()))},e.prototype.addFirstPlayCallback=function(e){"function"==typeof e&&(this.state.firstPlayingStatus?e():this._firstPlayingCallbackQueue.push(e))},e.prototype.triggerFirstPlayCallback=function(){this._firstPlayingCallbackQueue.length&&(this._firstPlayingCallbackQueue.forEach(function(e){e()}),this._firstPlayingCallbackQueue=[]),this.state.firstPlayingStatus=!0},e.prototype.sendDanmaku=function(e){return this.sendMsg(e)},e.prototype.sendGift=function(e,t){void 0===t&&(t=1),e?(L.default.log("Send gift id: "+e+" - "+t),this.addDanmaku({stime:-1,mode:1,size:25,color:16777215,date:r.default.getTimeNow(!0),uid:"110",html:u.default.getSendGiftHtml(e,t)})):L.default.log("Send gift id missing: "+e,1)},e.prototype.noticeGift=function(e){e?(L.default.log("Notice gift: "+e),this.components.giftManager&&this.components.giftManager.add({type:l.default.GIFT_SYS_GIFT,msg:e.toString()})):L.default.log("Notice gift msg missing: "+e,1)},e.prototype.noticeGuard=function(e){l.STATE_STRING.WS_MESSAGE_GUARD_MSG===e.cmd&&e.msg?(L.default.log("Notice guard : "+e.msg),this.components.giftManager&&this.components.giftManager.add({type:l.default.GIFT_SYS_GUARD,msg:e.msg,buyType:e.buyType||0})):L.default.log("Notice guard info error, "+JSON.stringify(e),1)},e.prototype.sendGiftStatus=function(e,t){this.components.giftFullscreen&&this.components.giftFullscreen.handleMessage(parseInt(e.toString(),10),t)},e.prototype.switchLine=function(e,t){this.state.isStopPlayback||(this.event.emit(l.EVENT.SWITCH_LINE,e),"function"==typeof t&&(this.state.reloadDoneCallback=t))},e.prototype.switchQuality=function(e,t){},e.prototype.resize=function(){this.event.emit(l.EVENT.PLAYER_RESIZE,this.components.template&&this.components.template.wrap.width())},e.prototype.sendMsg=function(t,i){var o=this;if(t&&"[object Object]"===Object.prototype.toString.call(t)){L.default.log("Send Danmaku "+t);var a=this.config,A=a.rnd,c=e.getDanmakuColor(t.color),d=e.getDanmakuMode(t.mode),p=t.fontsize||l.default.DANMAKU_DEFAULT_FONT_SIZE,u=(a.rid,t.uniqueID||0),h=t.isIgnore,f={stime:-1,mode:d,size:p,color:c,date:r.default.getTimeNow(!0),uid:a.uid,dmid:A,text:""+t.msg,border:!1,borderColor:l.STATE_STRING.DANMAKU_BORDER_COLOR,uname:a.uname};t.hasOwnProperty("isIgnore")&&delete t.isIgnore,t.hasOwnProperty("uniqueID")&&delete t.uniqueID;var g=n({color:c,fontsize:p,mode:d,msg:t.msg,rnd:A,roomid:a.rid},t),_=new Promise(function(e,t){r.default.ajax({url:s.default.send,data:g,type:"post",withCredentials:!0},function(n){0===n.code?(!h&&o.state.danmukuShowSatatus&&(o.components.danmaku.add(f,!0),o.components.danmaku.addLocalMessage(f)),e({uniqueID:u,response:n}),r.default.callFunctionAsynchronously(i)):(o.track(l.TRACK.ERROR_SENDING_DANMAKU),t({uniqueID:u,response:n})),r.default.fireEventCallback(o.callbackMap.sendDanmaku,{uniqueID:u,response:n})},function(e){t({uniqueID:u,response:n({},e,{errMsg:"ajax faild"})})})});if(this.config.fnPromiseMode)return _}else{if(this.config.fnPromiseMode)return Promise.reject({response:{errMsg:"Send Danmaku Text Null Error."}});L.default.log("Send Danmaku Text Null Error.",2)}},e.prototype.addGift=function(e){var t=this;this.addInitCallback(function(){t.components.giftManager&&t.components.giftManager.add(e)})},e.prototype.addDanmaku=function(e){var t=this;this.addInitCallback(function(){t.getVisibilityStatus()&&t.components.danmaku.add(e)})},e.prototype.checkDanmakuBlockStatus=function(e){return e&&this.components.danmaku.checkDanmakuBlockStatus(e)},e.prototype.attendAnchor=function(e){this.components.endingPanel.attentionHandler(!!e)},e.prototype.verifyLogin=function(e){this.user.getFullUserConfig().login?"function"==typeof e&&e():r.default.fireEventCallback(this.callbackMap.userLogin)},e.prototype.track=function(e,t){var i=this;this.addFirstPlayCallback(function(){i.components.track&&i.components.track.send(e,t)})},e.prototype.trackTime=function(e){var t=this,i=r.default.getTimeNow(!0);return function(){var n=r.default.getTimeNow(!0)-i-t.state.backgroundTabTime;t.track(e,{time:n}),i=void 0}},e.prototype.trackBuffering=function(e){this._trackBufferingCount++,L.default.log("Track Video Buffer Slowly: "+this._trackBufferingCount+", buffered: "+e.time+"ms, "+e.param),this.track(l.TRACK.STATISTICS_VIDEO_BUFFERING,e)},e.prototype.trackFirstLoaded=function(){this._trackFirstLoadedTime?this._trackFirstLoadedTimeStatus&&(this._trackFirstLoadedTimeStatus=!1,this._trackFirstLoadedTime()):this._trackFirstLoadedTime=this.trackTime(l.TRACK.EXPERIENCE_FIRST_LOADED)},e.prototype.getPlayerNetworkEarlyEOFCount=function(){return this.state.networkEarlyEOFCount},e.prototype.addPlayerNetworkEarlyEOFCount=function(){return this.state.networkEarlyEOFCount++},e.prototype.refreshPausedTime=function(e){this.state.pausedTime=r.default.getTimeNow(!0),e&&this.trackPlayingTime()},e.prototype.refreshPlayingTime=function(e){void 0===e&&(e=!1);var t=r.default.getTimeNow(!0);L.default.log("Reset playing time ("+e+"), latest time: "+(this.state.playingTime+t-this.state.pausedTime)),this.state.playingTime=e?0:this.state.playingTime+t-this.state.pausedTime,this.clearTrackPlayingTime()},e.prototype.getPlayingTime=function(){return Math.round((this.state.playingTime+r.default.getTimeNow(!0)-this.state.pausedTime)/1e3)},e.prototype.trackPlayingTime=function(){var e=this;if(this.clearTrackPlayingTime(),l.default.L_STATUS_LIVE===this.getLiveStatus()&&l.default.V_PLAY===this.getVideoStatus()){var t=this.getPlayingTime();t&&this.track(l.TRACK.STATISTICS_PLAYING_TIME,{time:t})}this._trackPlayingTime=window.setTimeout(function(){e.trackPlayingTime()},1e4)},e.prototype.clearTrackPlayingTime=function(){clearTimeout(this._trackPlayingTime)},e.prototype.getDanmakuBlockList=function(){return this.components.block.getBlockList()},e.prototype.resetSwitchInfo=function(e,t){if(e)switch(e){case l.default.SWITCH_TYPE_LINE:t=t||l.CONFIG_STRING.LINE_MAIN,this.state.switchState=!0,this.state.switchInfo={type:l.default.SWITCH_TYPE_LINE,initText:"线路即将切换至"+t,completedText:"线路已经切换至"+t,failedText:"线路切换失败"};break;case l.default.SWITCH_TYPE_QUALITY:t=t||l.CONFIG_STRING.QUALITY_SOURCE,this.state.switchState=!0,this.state.switchInfo={type:l.default.SWITCH_TYPE_QUALITY,initText:"清晰度即将切换至"+t,completedText:"清晰度已经切换至"+t,failedText:"清晰度切换失败"}}else this.state.switchState=!1,this.state.switchInfo={}},e.prototype.mock=function(e,t){if("https"!==window.location.protocol)switch(e){case l.STATE_STRING.MOCK_SOCKET:this.components&&this.components.socket&&this.components.socket._messageReply(t)}},e.prototype.showSwitchTip=function(e){var t=this;if(this.state.switchState){var i=this.components.template.wrap,n=this.state,o=n.switchInfo,a="切换提示",r=!0;switch(clearTimeout(this.INTERVAL.AUTO_REMOVE_SWITCH_INFO),!n.switchTipWrap&&this.state.onSwitching&&(n.switchTipWrap=$('<div class="bilibili-live-player-video-controller-switch-quality-info no-select"\n                                        style="display:none;"></div>').appendTo(i)),e){case l.default.SWITCH_INFO_TYPE_INIT:a=o.initText,r=!1;break;case l.default.SWITCH_INFO_TYPE_COMPLETED:a=o.completedText;break;case l.default.SWITCH_INFO_TYPE_FAILED:a=o.failedText}L.default.log("Switch Tips: "+a),n.switchTipWrap&&n.switchTipWrap.fadeIn(100).html(a),i.attr("data-video-loading-state","hide"),r&&(this.INTERVAL.AUTO_REMOVE_SWITCH_INFO=setTimeout(function(){n.switchTipWrap&&n.switchTipWrap.fadeOut(300,function(){t.clearSwitchTip(),i.attr("data-video-loading-state","show")})},this.INTERVAL.AUTO_REMOVE_SWITCH_INFO_TIME))}},e.prototype.clearSwitchTip=function(){var e=this.state;clearTimeout(this.INTERVAL.AUTO_REMOVE_SWITCH_INFO),e.switchTipWrap&&e.switchTipWrap.remove(),e.switchTipWrap=void 0},e.prototype.toast=function(e,t){var i=this;t=t||this.INTERVAL.TOAST_INFO;var n=this.components.template.wrap;clearTimeout(this.INTERVAL.TOAST_INFO),this.state.toastEl?this.state.toastEl.text(e):this.state.toastEl=$('<div class="bilibili-live-player-video-controller-toast-info no-select"\n                >'+e+"</div>").appendTo(n),this.INTERVAL.TOAST_INFO=setTimeout(function(){i.state.toastEl&&i.state.toastEl.fadeOut(300,function(){i.state.toastEl&&i.state.toastEl.remove(),i.state.toastEl=null})},t)},e.prototype.onPlayerLiveStatus=function(e){switch(this.state.liveStatus){case l.default.L_STATUS_LIVE:r.default.callFunc(e&&e.onLive);break;case l.default.L_STATUS_ROUND:r.default.callFunc(e&&e.onRound);break;case l.default.L_END:case l.default.L_CLOSE:case l.default.L_STATUS_PREPARING:case l.default.L_BLOCK:case l.default.L_ERROR:r.default.callFunc(e&&e.onPreparing)}},e.prototype.changeUIStatus=function(e){var t=this.components.template.wrap;L.default.log("change UIStatus "+e);var i="",n=!1;for(var o in e.tipsText&&(this.state.UIState.tipsText=e.tipsText),e){switch(o){case"logo":i="data-video-logo-state",n=e.logo,this.state.UIState.logo=n;break;case"feedback":i="data-video-feedback-state",n=e.feedback,this.state.UIState.feedback=n;break;case"recommend":n=e.recommend,this.state.UIState.recommend=n,i="data-video-recommend-state",this.components.endingPanel&&this.components.endingPanel.setTipsValue(this.state.UIState.tipsText,n)}0!==i.length&&(t.attr(i,n),i="")}},e.prototype.reset=function(e){var t=this.components;return this.state.lastPlayURLRequestTime=0,t.errorPanel.hide(),t.endingPanel.hide(),!this.state.onFixing&&this.refreshPlayingTime(!0),this.state.backgroundTabTime=0,e&&(t.loadingPanel.show(),t.controller&&t.controller.reset(),t.video&&t.video.reset(),this.state.playURLIndex=l.default.LIVE_URL,this.state.onSwitching=!1,this.clearSwitchTip(),this.components.template.wrap.attr("data-video-loading-state","show")),this},e.prototype.resetStartTime=function(){return this.config.startTime=Math.floor(Date.now()/1e3),this},e.prototype.reloadLive=function(e){if(this.state.onStop)return this;this.components.video.recoverReload(),this.components.video.reloadLive(e)},e.prototype.reloadRound=function(e){this.components.video.reloadRound(e)},e.prototype.preRound=function(e){void 0===e&&(e=300),this.components.video.counterRoundPlay(e)},e.prototype.trackPlayingError=function(){this.track(l.TRACK.ERROR_PLAYING,{isFirstError:this._isFirstError,errorCode:this.state.errorCode}),this._isFirstError=!1},e.prototype.toggleMiniType=function(e){void 0===e&&(e=!0);this.components.template.wrap.attr("data-mini-type",e?"true":"false")},e.prototype.toggleDanmakuVisibility=function(e){void 0===e&&(e=!0);this.state.danmukuShowSatatus=!!e,this.components.danmaku.visible(!!e),this.components.template.wrap.attr("data-danmaku-visibility",e?"true":"false")},e.prototype.restoreReloadFailed=function(){this.components.video.restoreReloadFailed()},e.prototype.multiAudioTagDetected=function(){var e=this;clearTimeout(this.INTERVAL.MULTI_AUDIO_RELOAD),this.INTERVAL.MULTI_AUDIO_RELOAD=setTimeout(function(){L.default.log("Multi-audio tag detected. Ready to reload",1),e.reload()},8e3)},e.prototype.logVideoInfo=function(e){if(e&&!this.state.logVideoInfoStatus){this.state.logVideoInfoStatus=!0;try{L.default.log("Video Info: \n\n"+JSON.stringify(e)+"\n",3)}catch(e){}}try{var t=e&&e.filter(function(e){return"droppedFrames"===e.name});if(t&&t.length){var i=t[0].data.split("/");this.state.playerVideoQualityInfo={droppedFrames:parseInt(i[0],10),totalFrames:parseInt(i[1],10)}}}catch(e){}return this},e.prototype.getPlayerInfo=function(){return{type:this.config.useType,version:e.VERSION().version,playerType:"HTML5",liveStatus:this.state.liveStatus,playerStatus:this.state.playerStatus,playingStatus:this.state.videoStatus===l.default.V_PLAY,playurl:this.state.playURL,guid:this.state.guid,line:this.state.playURLIndex,quality:this.state.quality,playerVideoQualityInfo:this.state.playerVideoQualityInfo}},e.prototype.getOperableElements=function(){return{mainElement:this.components&&this.components.template&&this.components.template.operable_wrap[0]}},e.prototype.notifyInOperation=function(e){void 0===e&&(e=!0);var t=!!e;this.state.isInOperation!==t&&(L.default.log("Player operable container "+(t?"is in":"exit")+" operation."),this.state.isInOperation=t,this.components.template&&this.components.template.wrap.attr("data-in-operation",t))},e.prototype.notifyAnnouncement=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=100);var i=!!e;if(this.state.isInAnnouncement!==i){L.default.log("Announcement is "+(i?"beginning":"ending")),this.state.isInAnnouncement=i;try{this.components.danmaku.option("offsetTop",e?t:0)}catch(e){}}},e.prototype.getVideoMutedState=function(){return this.components.video.state.playingMuted},e.prototype.changeVideoMutedState=function(e){void 0===e&&(e=!1),e||this.components.video.changeMutedState()},e.prototype.getUserId=function(){return this.user.getRoomInitData().uid},e.prototype.blockSyncUserData=function(){this.components.block.canInject()&&this.components.block.injectUserData()},e.prototype.requestRoomInit=function(e){var t=this,i=r.default.getTimeNow(!0);r.default.ajax({data:{room_id:this.config.cid},url:s.default.roomInit,beforeSend:function(){i=r.default.getTimeNow(!0)}},function(n){L.default.log("Loaded room init API:\n\n "+JSON.stringify(n)+" \n",3);var o=r.default.getTimeNow(!0)-i;t.addInitCallback(function(){t.track(l.TRACK.STATISTICS_ROOM_INIT_API_LOAD_TIME,{time:o})});var a=n.code;n.code="number"==typeof a?a:parseInt(a,10),t.loadedRoomInitAPI(n),"function"==typeof e&&e(n)},function(t){L.default.log("Request roomInitData Error! Info: \n\n"+JSON.stringify(t)+"\n",2),e(null)})},e.prototype.getDanmuKuInfo=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.user?[4,this.user.requestDanmuServerApi(!1)]:[3,2];case 1:e.sent(),this.config.server=this.user.getHostServer().host,this.config.hostList=this.user.getHostServer().hostServerList.map(function(e){return e.host}),this.config.socketToken=this.user.getHostServer().token,this.config.protocol.port=this.user.getHostServer().hostServerList[0].wsPort||l.default.WEBSOCKET_PORT,e.label=2;case 2:return[2]}})})},e.prototype.injectInitAPIData=function(e){return!(!this.user||!e)&&(this.user.setInitData(e),!0)},e.prototype.stopPlayback=function(e){L.default.log("stopPlayback, op: "+JSON.stringify(e));var t=this.getLiveStatus();if(e&&t!==l.default.L_STATUS_PREPARING&&t!==l.default.L_ERROR){var i=this.components;this.state.onStop=!0,this.state.isStopPlayback=!0,this.event.emit(l.EVENT.ON_ERROR_RETRY_CANCELED),i.danmaku&&i.danmaku.play(),i.video.destroy(!0),i.controller.destroy();var n=e.url||"//s1.hdslb.com/bfs/static/blive/live-assets/player/libs/images/reload.png";this.setDanmakuBgurl(n,!!e.url),this._setVideoStatus(l.default.V_PLAY),this.state.liveStatus=l.default.L_END,this.clearSwitchTip()}},e.prototype.setDanmakuBgurl=function(e,t){this.components.danmaku.setBgurl(e,t)},e.prototype.getMaskStatus=function(){return this.components.mask&&this.components.mask.getMaskStatus},e.prototype.receiveMessage=function(e){if(e.origin===s.default.reclipHost&&"getClipCacheData"===e.data){var t=this.components;if(!t.video)return this.track(l.TRACK.STATISTIC_GET_CLIP_DATA_FAIL_NO_VIDEO),!1;var i=t.video.getClipCacheData(),n=t.video.getConfig();if(!t.video.canClip||!i||!n)return this.track(l.TRACK.STATISTIC_GET_CLIP_DATA_FAIL_NO_DATA),!1;var o=e.source;o instanceof MessagePort||o instanceof ServiceWorker||(o.postMessage({type:"clipCacheData",clipCacheData:i,clipConfig:n},e.origin),this.track(l.TRACK.STATISTIC_GET_CLIP_DATA_SUCCESS))}},e.prototype.handleZzmaskChange=function(e){e?(this.set({component:"mask",action:"danmakuMaskStatusChange",data:{type:"mask",status:!1}}),this.plugins.zzmask&&this.plugins.zzmask.open()):(this.components.danmaku&&this.components.danmaku.deleteMask(),this.plugins.zzmask&&this.plugins.zzmask.close())},e.prototype.userInit=function(){var e=this,t=new g.default({config:{cid:this.config.cid,switchCount:this.config.switchCount,onInitDanmaku:function(i){var n=t.getUserConfig();e.config.user=n,e.blockSyncUserData(),r.default.fireEventCallback(e.callbackMap.initDanmaku,i)},onTrack:function(t,i){e.track(t,{time:i})},scriptLoadTime:this.state.scriptLoadTime,downgrade:this.config.downgrade,useType:this.config.useType}});this.user=t},e.prototype.loadedRoomInitAPI=function(t){var i=this,n=this._options,o=this.user,a=t.data.live_status;if(this.config.useType===l.default.PLAYER_HOME&&t.data.live_status===l.default.L_STATUS_ROUND&&(a=l.default.L_ERROR,this.errorRetrying=!0),o.setRoomInitData({liveStatus:a,roomShield:t.data.room_shield,startTime:t.data.live_time}),t&&0===t.code){if(t.data&&0!==Object.keys(t.data).length){this.addFirstPlayCallback(function(){o.initialize().then(function(){var t=o.getUserConfig();i.config.cid=n.cid,i.config.uid=o.getRoomInitData().uid,i.config.rid=n.cid,i.config.server=o.getHostServer().host,i.config.hostList=o.getHostServer().hostServerList.map(function(e){return e.host}),i.config.protover=n.protover||0,i.config.user=t,i.config.socketToken=o.getHostServer().token,i.config.version=e.VERSION,i.config.protocol.port=o.getHostServer().hostServerList[0].wsPort||l.default.WEBSOCKET_PORT,i.track(l.TRACK.UV),l.STATE_STRING.PROTOCOL_API_HTTPS===location.protocol&&(i.config.protocol={api:l.STATE_STRING.PROTOCOL_API_HTTPS,websocket:l.STATE_STRING.PROTOCOL_WEBSOCKET_SECURITY,port:o.getHostServer().hostServerList[0].wssPort||l.default.WEBSOCKET_SECURITY_PORT});var a=o.getFullUserConfig();i.components.send&&i.components.send.refreshConfig(a),i.components.controller&&i.components.controller.resetDurationTime(),i.event.emit(l.EVENT.RESOLVED_USER_INFO_API_SUCCESSFULLY),i.components.socket.init(),i.components.block.initialize()}).catch(function(e){i.event.emit(l.EVENT.FAILED_TO_GET_THE_USER_INFO_API),L.default.log("Request User Info Apis Error!! Info: \\n\\n"+JSON.stringify(e)+"\\n`",2)})}),this.config.startTime=o.getRoomInitData().startTime;var s=o.getRoomInitData().liveStatus;s||(L.default.log("Unresolved Player API Error.",2),L.default.log("Set To The Default State:",2));var A=s;A!==l.default.L_STATUS_LIVE&&(this.state.firstLoadStart=!0,this.state.firstLoadedMetaData=!0,this.state.firstPlaying=!0,r.default.fireEventCallback(this.callbackMap.firstLoadStart),r.default.fireEventCallback(this.callbackMap.firstLoadedMetaData),r.default.fireEventCallback(this.callbackMap.firstPlaying),this.triggerFirstPlayCallback()),A===l.default.L_STATUS_PREPARING&&this.event.emit(l.EVENT.ON_PREPARING).emit(l.EVENT.ON_ERROR_RETRY_CANCELED),A===l.default.L_STATUS_LIVE&&setTimeout(function(){i.triggerFirstPlayCallback()},5e3),this.setLiveStatus(A),this.triggerInitCallback()}}else L.default.log("Data Of roomInitData API is empty!",2)},e.prototype._preRenderedDom=function(){var e="bilibili-live-player";if(!this._container.find("."+e).length){var t=i(14);this._container.html(t({prefix:e,isPreRendered:!0}))}this._initialize()},e.prototype._initialize=function(){var t=this;"development"===r.default.BUNDLE_TYPE&&console.warn("%cBILIBILI HTML5 PLAYER VERSION: "+e.VERSION().version+".","font-size:20px;color:#00b498;");var i=new A.default(this._container).getTemplate(),n=L.default.log("Components Initializing...");return r.default.time("Initialize Components"),this.components={template:i,controller:new c.default(this,i.controller_wrap,i.wrap),video:new p.default(this,i.video),socket:new d.default(this),block:new f.default(this,i.block_wrap),report:new _.default(i.wrap),danmaku:new u.default(this,i.danmaku_wrap),endingPanel:new y.default(this,i.ending_wrap),errorPanel:new v.default(this,i.wrap),forbiddenPanel:new m.default({container:i.wrap,config:{prefix:this.config.prefix}}),track:new b.default(this.config,this.state),mask:new h.default(this)},this.config.controllable.gift,this.config.controllable.send&&(i.wrap.attr("data-send-activity",this.config.controllable.send?"true":"false"),this.components.send=new I.default(this,i.send_wrap)),this.plugins={clipboard:new w.default(i.wrap),videoInfo:new k.default(i.video_wrap),eventLog:new L.default(i.video_wrap,{activateStorage:!0,storageKey:"BILIBILI_LIVE_PLAYER_EVENT_LOG"}),contextMenu:new C.default(i.wrap,{appendTo:i.wrap,outerWrap:i.wrap,changeMode:!0,autoRemove:!0,changeType:2,onChange:this._contextMenuOnChange.bind(this)}),zzmask:new D.default(i.wrap,{onGetMask:function(e){return t.components.danmaku&&t.components.danmaku.showMask("url("+e+")")}})},this.config.useType===l.default.PLAYER_HOME?(this.components.loadingPanel=new S.default(i.loading_wrap),this.components.enterTips=new T.default(this,i.enter_wrap)):(this.components.loadingPanel=new E.default(i.loading_wrap),this.config.useType===l.default.PLAYER_ACTIVITY&&(void 0!==this._options.compsCustomConfig.enterTheRoom&&2===this._options.compsCustomConfig.enterTheRoom&&(this.components.enterTips=new T.default(this,i.enter_wrap),this.components.template.wrap.attr("data-enter-the-room","2")),!this.components.enterTips&&i.enter_wrap.remove())),this.checkPlayerType(),this.plugins.contextMenu.unshift([{type:"function",text:l.CONFIG_STRING.VIDEO_INFO,click:function(){t.plugins.videoInfo&&t.plugins.videoInfo.show()}}]),this.plugins.contextMenu.unshift([{type:"submenu",text:l.CONFIG_STRING.LAB,submenu:[{type:"function",text:l.CONFIG_STRING.VIDEO_CLIP,click:function(){t.track(l.TRACK.STATISTIC_CLICK_VIDEO_CLIP),t.openClip()}}]}]),this.plugins.contextMenu.unshift([{type:"submenu",text:l.CONFIG_STRING.PLAYER_INFO,submenu:[{type:"function",text:l.CONFIG_STRING.PLAYER_INFO_SHOW,icon:"blp-icon-show",click:function(){try{t.plugins.eventLog&&t.plugins.eventLog.show()}catch(e){L.default.log("Show player info error, "+JSON.stringify(e),2)}}},{type:"function",text:l.CONFIG_STRING.PLAYER_INFO_COPY,icon:"blp-icon-copy",click:function(){try{var e=t.plugins.eventLog.text();t.plugins.clipboard&&t.plugins.clipboard.copy(e,function(){t.showOperationSuccessTips("复制成功")})}catch(e){t.showOperationSuccessTips("复制失败"),L.default.log("Copy player info error, "+JSON.stringify(e),2)}}},{type:"function",text:l.CONFIG_STRING.PLAYER_INFO_DOWNLOAD,icon:"blp-icon-download",click:function(){try{var e=t.plugins.eventLog.text();t.downloadFile(e,"Bilibili-Live-HTML5-Player-EventLog-"+Date.now()+".txt"),t.showOperationSuccessTips("下载成功")}catch(e){t.showOperationSuccessTips("下载失败"),L.default.log("Download player info error, "+JSON.stringify(e),2)}}}]}]),this.addInitCallback(function(){t.components.danmaku.resize().play(),t._trackBufferingSlowly(),t._verifyAuthentication(),t._firePlayerInitialized(),t._container.removeAttr("data-pre-rendered")}),!this.config.downgrade&&this.addFirstPlayCallback(function(){t.getIPJsonData()}),this.track(l.TRACK.STATISTICS_PAGE_INIT_TIME,{time:this.config.initTime}),r.default.time("Initialize Components",!0),this.setPlayerStatus(l.default.P_NORMAL),L.default.log("Components Initialized.",0,n),this.loading(100),this.initializedTimeOut=window.setTimeout(function(){t.error(l.ERROR_CODE.LIVE_PLAYER_INITIALIZED_TIME_OUT,"Initialized Time out.",!0)},this.initializedMaxTime),this.triggerInitCallback(),this._bindCustomEvents()._bindEvents(),this.initWrapAttr(),this.state.liveStatus=l.default.L_STATUS_LIVE,this.reload(),this},e.prototype._loadPlayerAPI=function(){var e=this,t=this._options;try{r.default.ajax({url:s.default.player,data:{id:"cid:"+t.cid,ts:Date.now().toString(16),platform:"pc",player_type:"web"},dataType:"html",beforeSend:function(){e._trackFirstPlayerLoadedTimeStatus||(e._trackFirstPlayerLoadedTime=e.trackTime(l.TRACK.EXPERIENCE_FIRST_PLAYER)),e._logTimePlayer=L.default.log("Loading API Player..."),r.default.time("Load API Player"),r.default.getTimeNow(!0)}},function(e){},function(){e.event.emit(l.EVENT.FAILED_TO_GET_THE_PLAYER_API)})}catch(e){}return this},e.prototype.getPlayurlRequestParam=function(e){var t=this.config,i=0;this.config.mask.shouldOpenMask&&(i|=16);var n={cid:t.cid,qn:e,platform:"web",ptype:i};return 3===this.state.reuseTime&&delete n.ptype,n},e.prototype._loadedPlayerAPI=function(e,t){},e.prototype._loadLivePlayurlAPI=function(e){var t=this,i=this.config,n=this.state;if(this._trackInitializedToLoadPlayURLTime&&this._trackInitializedToLoadPlayURLTime(),this._trackInitializedToLoadPlayURLTime=void 0,n.playURLList.length){var o=n.guid,a=r.default.getRandomString();n.guid=a,this._guidChange(a,o)}e=e||n.quality;var A=n.destroyId;i.playurlData?(this._trackPlayURLLoadedTime=this.trackTime(l.TRACK.STATISTICS_PLAYURL_LOADED),this._logTimePlayUrlSSR=L.default.log("Load SSR playurl data",0,this._logTimeInitialize),L.default.log("Live SSR Play URL data: \n\n"+JSON.stringify(i.playurlData)+"\n",3),this._logTimeInitialize=0,this._loadedLivePlayurl(i.playurlData),i.playurlData=null):r.default.ajax({data:this.getPlayurlRequestParam(e),url:s.default.playURL,beforeSend:function(){t._trackPlayURLLoadedTime=t.trackTime(l.TRACK.STATISTICS_PLAYURL_LOADED),t._trackFirstPlayurlLoadedTimeStatus||(t._trackFirstPlayurlLoadedTime=t.trackTime(l.TRACK.EXPERIENCE_FIRST_PLAYURL)),t._logTimePlayUrl=L.default.log("Loading live playurl",0,t._logTimeInitialize),t._logTimeInitialize=0}},function(e){L.default.log("Live Play URL data: \n\n"+JSON.stringify(e)+"\n",3),A===t.state.destroyId&&t._loadedLivePlayurl(e)},function(){t.event.emit(l.EVENT.FAILED_TO_GET_THE_PLAYURL)})},e.prototype._guidChange=function(e,t){void 0===t&&(t=""),""!==this.state.lastOpState&&t!==e&&(r.default.fireEventCallback(this.callbackMap.guidChange,{guid:e,oldGuid:t,playerType:"HTML5",type:this.state.lastOpState,timestamp:Date.now()}),this.state.lastOpState="")},e.prototype._loadedLivePlayurl=function(e){var t=this;!this.config.playurlData&&L.default.log("Loaded Live Play URL.",0,this._logTimePlayUrl);var i=this.state;if(this._trackPlayURLLoadedTime(),this._trackFirstPlayurlLoadedTimeStatus||(this._trackFirstPlayurlLoadedTimeStatus=!0,"function"==typeof this._trackFirstPlayurlLoadedTime&&this._trackFirstPlayurlLoadedTime()),e&&0===e.code){i.lastPlayURLRequestTime=r.default.getTimeNow(),this.state.firstPlayURLRequestTime=r.default.getTimeNow(!0);var o=e.data;if(o&&o.durl){var a=o.quality_description;if(a instanceof Array&&a.length)try{i.checkQn||(i.checkQn=o.current_qn),i.qualityList=a.reverse().map(function(e){return{qn:parseInt(e.qn,10),desc:e.desc}})}catch(e){L.default.log("Get quality list error, "+a,2)}i.quality=o.current_qn||i.qualityList[0].qn,i.playURLList=o.durl.map(function(e){return n({},e,{url:e.url+"&platform=web&pSession="+i.guid})}),i.trackLoadStreamErrorStatus=!0,clearTimeout(this.INTERVAL.TRACK_STREAM_LOAD_ERROR_TIMER),this.INTERVAL.TRACK_STREAM_LOAD_ERROR_TIMER=setTimeout(function(){t.state.trackLoadStreamErrorStatus=!1},5e3),this.event.emit(l.EVENT.RESOLVED_PLAY_URL_SUCCESSFULLY)}else L.default.log("Get playurl [durl] error: \n\n"+JSON.stringify(e)+"\n",2),this.state.liveStatus===l.default.L_STATUS_PREPARING?this.event.emit(l.EVENT.ON_PREPARING).emit(l.EVENT.ON_ERROR_RETRY_CANCELED):this.event.emit(l.EVENT.RESOLVED_PLAY_URL_FAILED)}else L.default.log("Get playurl [code] error: \n\n"+JSON.stringify(e)+"\n",2),this.event.emit(l.EVENT.FAILED_TO_GET_THE_PLAYURL)},e.prototype._destroyLivePreload=function(){},e.prototype.checkPlayerType=function(){var e=this.components.template.wrap,t="player-room";switch(this.config.useType){case l.default.PLAYER_ROOM:t="player-room";break;case l.default.PLAYER_HOME:t="player-home";break;case l.default.PLAYER_ACTIVITY:t="player-activity"}e.attr("data-player-type",t)},e.prototype.initWrapAttr=function(){if(this.components.template&&this.components.template.wrap){var e=this.components.template.wrap;e.attr("data-video-logo-state",this.state.UIState.logo),e.attr("data-video-feedback-state",this.state.UIState.feedback),e.attr("data-video-recommend-state",this.state.UIState.recommend)}},e.prototype._bindEvents=function(){var e=this,t=this.components.template.wrap,i=this.components.template.controller_wrap,n=this.config.namespace;t.off("mousemove"+n).on("mousemove"+n,function(n){var o=e.getLiveStatus();(clearTimeout(e.INTERVAL.FULLSCREEN_AUTO_HIDE_CURSOR),t.attr("data-cursor-state","show"),l.default.L_STATUS_LIVE===o||l.default.L_STATUS_ROUND===o)&&(r.default.getRelativePos(n,t,!0).y>.67||$.contains(i[0],n.target)?t.attr("data-controller-state","show"):(e.INTERVAL.FULLSCREEN_AUTO_HIDE_CURSOR=setTimeout(function(){t.attr("data-cursor-state","hide")},2e3),t.attr("data-controller-state","hide")))}).off("mouseleave"+n).on("mouseleave"+n,function(){t.attr("data-controller-state","hide")}),this.components.template.video_wrap.off("dblclick"+n).on("dblclick"+n,function(t){var i=e.getPlayerStatus();if(e.config.useType!==l.default.PLAYER_HOME)switch(i){case l.default.P_NORMAL:e.setPlayerStatus(l.default.P_WEB_FULLSCREEN).track(l.TRACK.STATISTICS_WEB_FULLSCREEN);break;default:e.setPlayerStatus(l.default.P_NORMAL).track(l.default.P_FULLSCREEN===i?l.TRACK.STATISTICS_EXIT_FULLSCREEN_BY_ESC:l.TRACK.STATISTICS_EXIT_WEB_FULLSCREEN_BY_ESC)}}),$(window).off("resize"+n).on("resize"+n,function(){l.default.P_NORMAL!==e.getPlayerStatus()&&e.plugins.zzmask&&e.plugins.zzmask.resize()}).off("unload"+n).on("unload"+n,function(){}),document.addEventListener("visibilitychange",function(){var t="visible"===document.visibilityState;e.config.visibilityStatus=t,t&&e.state.backgroundTabStartTime&&(L.default.log("Background Tab Time ",0,e.state.backgroundTabStartTime),e.state.backgroundTabTime=Math.floor(r.default.getTimeNow(!0)-e.state.backgroundTabStartTime),e.state.backgroundTabStartTime=0)}),x.default.addFullscreenChange(function(){x.default.isFullscreen&&l.default.P_FULLSCREEN===e.state.playerStatus&&r.default.fireEventCallback(e.callbackMap.fullscreenChange,x.default.isFullscreen),x.default.isFullscreen||(l.default.P_WEB_FULLSCREEN!==e.state.playerStatus&&e.setPlayerStatus(l.default.P_NORMAL),r.default.fireEventCallback(e.callbackMap.fullscreenChange,x.default.isFullscreen))}),$(".chat-ctnr-hider-ctnr").on("click"+this.config.namespace,function(){e.components.danmaku.resize()}),this.state.autoResizeHandler=r.default.bindElemResize(t[0],function(t,i){e.event.emit(l.EVENT.PLAYER_RESIZE,t,i)}),this.state.autoResizeHandler()},e.prototype._bindCustomEvents=function(){return R.default(this,this.event),this},e.prototype._contextMenuOnChange=function(e,t,i,n){var o=this;if(this.config.useType!==l.default.PLAYER_HOME&&this.components.danmaku){var a=r.default.getRelativePos(t,this.components.template.wrap),s=this.components.danmaku.search(a.x,a.y);if(s.length){var A=[];return A.push({type:"division"}),s.forEach(function(e){var t=e.textData.text,i=e.textData.uname,n=e.textData.uid,a=e.textData.checkInfo,s=n===o.config.uid;A.push({type:"submenu",text:t,submenu:[{type:"function",disabled:s,text:l.CONFIG_STRING.DANMAKU_REPORT,click:function(){o.components.report.show({uid:n,roomid:o.config.rid,uname:i,msg:t,checkInfo:a})}},{type:"function",disabled:s,text:l.CONFIG_STRING.DANMAKU_BLOCK,click:function(){o.components.block.shieldUser(l.default.BLOCK_ADD_SHIELD,n)}},{type:"function",text:l.CONFIG_STRING.DANMAKU_COPY,click:function(){o.plugins.clipboard.copy(t,function(){r.default.log(t+" Copied.")})}},{type:"function",text:l.CONFIG_STRING.DANMAKU_LINK_SPACE,link:"http://space.bilibili.com/"+n}]}),o.state.initializedDataMap.admin.isAdmin&&A[A.length-1].submenu.splice(2,0,{type:"function",text:l.CONFIG_STRING.DANMAKU_ADD_TO_BLOCK_LIST,disabled:s,click:function(){r.default.fireEventCallback(o.callbackMap.set,{component:"block",action:"addBlackList",data:i})}})}),this.track(l.TRACK.STATISTICS_SHOW_CONTEXT_MENU),A}}return[]},e.prototype._setVideoStatus=function(e){var t=this.components.template.wrap;switch(L.default.log("Set Video Status: "+e),e){case l.default.V_PLAY:t.attr("data-video-state","playing");break;case l.default.V_PAUSE:t.attr("data-video-state","paused")}this.state.videoStatus=e},e.prototype._verifyPlayerURLIsExpired=function(e){var t=this.config,i=this.state,n=!1;return(r.default.getTimeNow()-i.lastPlayURLRequestTime>=this.config.playurlTimeout||0===i.lastPlayURLRequestTime||e!==i.quality||0===t.startTime)&&(n=!0),n},e.prototype._getTrackBufferingCount=function(){return this._trackBufferingCount},e.prototype._trackBufferingSlowly=function(){var e=this,t=[1,4,25];t.forEach(function(i,n){e._trackIntervalMap[n]=window.setTimeout(function(){L.default.log("Buffering Count at "+t[n]+" min(s): "+e._getTrackBufferingCount()),e.track(l.TRACK.EXPERIENCE_BUFFERING_SLOWLY,{optype:n+2,counts:e._getTrackBufferingCount()})},1e3*i*60)})},e.prototype._getReturnFnBindThis=function(e){var t=this;return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var o=e.apply(t,i);return o}},e.prototype._getPlayerReturn=function(){var t=this;if("development"===r.default.BUNDLE_TYPE)return this;var i={NAME:"BILIBILI HTML5 LIVE PLAYER",VERSION:e.VERSION};return[{key:"play",fn:this.play},{key:"pause",fn:this.pause},{key:"reload",fn:this.reload},{key:"end",fn:this.end},{key:"destroy",fn:this.destroy},{key:"error",fn:this.error},{key:"stop",fn:this.stop},{key:"loadVideo",fn:this.loadVideo},{key:"set",fn:this.set},{key:"sendMsg",fn:this.sendMsg},{key:"sendDanmaku",fn:this.sendDanmaku},{key:"sendGift",fn:this.sendGift},{key:"sendGiftStatus",fn:this.sendGiftStatus},{key:"attendAnchor",fn:this.attendAnchor},{key:"noticeGuard",fn:this.noticeGuard},{key:"noticeGift",fn:this.noticeGift},{key:"switchLine",fn:this.switchLine},{key:"switchQuality",fn:this.switchQuality},{key:"on",fn:this.on},{key:"init",fn:this.init},{key:"resize",fn:this.resize},{key:"volume",fn:this.volume},{key:"mute",fn:this.mute},{key:"showDanmaku",fn:this.showDanmaku},{key:"notifyInOperation",fn:this.notifyInOperation},{key:"notifyAnnouncement",fn:this.notifyAnnouncement},{key:"addLoadingPicture",fn:this.addLoadingPicture},{key:"injectInitAPIData",fn:this.injectInitAPIData},{key:"getPlaybackDelay",fn:this.getPlaybackDelay},{key:"setProtectPlaybackRate",fn:this.setProtectPlaybackRate},{key:"setPlaybackRate",fn:this.setPlaybackRate},{key:"getPlaybackRate",fn:this.getPlaybackRate},{key:"setChasingFrameThreshold",fn:this.setChasingFrameThreshold},{key:"changeUIStatus",fn:this.changeUIStatus},{key:"mock",fn:this.mock}].forEach(function(e){i[e.key]=t._getReturnFnBindThis(e.fn)}),i.getPlayerInfo=function(){return t.getPlayerInfo.apply(t)},i.stopPlayback=function(e){return t.stopPlayback(e)},i.getOperableElements=function(){return t.getOperableElements.apply(t)},i},e.prototype._verifyAuthentication=function(){this.config.authentication,this.getLiveStatus()},e.prototype._checkRoomInitExist=function(e){var t=this.config.roomInitData,i=t&&t.code;(i="number"==typeof i?i:parseInt(i,10))>=0?(this.loadedRoomInitAPI(t),"function"==typeof e&&e({code:i})):this.requestRoomInit(e||null)},e.prototype._checkRoomIsForbidden=function(){var e=this;this._checkRoomInitExist(function(t){t&&t.code===l.ERROR_CODE.ROOM_AREA_LIMIT_CODE&&e.addInitCallback(function(){e.pause(),e.destroy(!1),e.forbidden(!0,t.msg)})})},e.prototype._loadVideo=function(e){if(this._options.cid!==e.cid){var t=parseInt(e.cid.toString(),10);return this._options.cid=t,this.config.cid=t,this.config.rid=t,this.state.onStop=!1,this.destroy(!0),this.state.destroyId=Date.now(),this._load(),this.setLocalVolume(),this}},e.prototype.setLocalVolume=function(){var e=this.config.useType===l.default.PLAYER_HOME?l.STATE_STRING.LOCAL_STORAGE_VOLUME_HOME:l.STATE_STRING.LOCAL_STORAGE_VOLUME,t=parseFloat(r.default.getLocalStorage(e));this.volume(t)},e.prototype._firePlayerInitialized=function(){var t=e.VERSION();r.default.fireEventCallback(this.callbackMap.initialized,{type:"html5",version:t.version,build:t.build,operableElements:{mainElement:this.components.template&&this.components.template.operable_wrap[0]}}),this.callbackMap.initialized=[]},e.prototype.showOperationSuccessTips=function(e){var t=this.components.template.wrap,i=l.PREFIX+"-copy-log-success";t&&t.find("."+i).remove(),$('<div class="'+i+'">'+e+"</div>").appendTo(t).addClass(l.PREFIX+"-active"),setTimeout(function(){t&&t.find("."+i).remove()},2e3)},e.prototype.getIPJsonData=function(){var e=this;try{this.config.IPJson||r.default.ajax({url:s.default.getIPJson},function(t){0===t.code&&(e.config.IPJson=t.data,e.state.logIPJsonStatus||(L.default.log("IP JSON:\n\n "+JSON.stringify(e.config.IPJson)+"\n",3),e.state.logIPJsonStatus=!0))})}catch(e){}return this},e.prototype.downloadFile=function(e,t){try{var i=document.createElement("a");i.download=t,i.style.display="none";var n=new Blob([e]);i.href=window.URL.createObjectURL(n),document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(e){L.default.log("Failed to download file, "+e,2)}},e.prototype.mixinControllableConfig=function(){if(this.config.useType===l.default.PLAYER_ACTIVITY){var e=this._options.compsCustomConfig,t={controller:{},send:!1,gift:!1,logo:""},i={};try{var n=e.enterTheRoom;if(void 0!==n)switch(n){case 0:case 1:i.enterTheRoom=!!n;break;case 2:i.enterTheRoom=!1}void 0!==e.switchQuality&&(i.switchQuality=!!e.switchQuality),void 0!==e.switchPlayer&&(i.switchPlayer=!!e.switchPlayer),void 0!==e.switchLine&&(i.switchLine=!!e.switchLine),void 0!==e.reload&&(i.reload=!!e.reload),void 0!==e.danmaku&&(i.danmaku=!!e.danmaku),void 0!==e.fullscreen&&(i.fullscreen=!!e.fullscreen),void 0!==e.send&&(t.send=!!e.send),void 0!==e.gift&&(t.gift=!!e.gift),t.controller=i}catch(t){L.default.log("Mixin controllable config error",1),L.default.log(JSON.stringify(e),3)}this.config.controllable=$.extend(!0,{},{controller:{enterTheRoom:!0,switchQuality:!0,switchPlayer:!0,switchLine:!0,reload:!0,danmaku:!0,fullscreen:!0},send:!1,gift:!1,logo:""},t)}},e.prototype.clearExpiredLivePlayurlInfo=function(){var e=this.state;e.qualityList=[],e.playURLList=[],e.playURL="",e.quality=l.default.QUALITY_DEFAULT,e.lastOpState="",this.state.lastPlayURLRequestTime=0},e}();t.default=O},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var i=e.call(this)||this;return Object.setPrototypeOf(i,t.prototype),i}return o(t,e),t.prototype.bsearch=function(e,t){if(0===this.length)return 0;if(t(e,this[0])<0)return 0;if(t(e,this[this.length-1])>=0)return this.length;for(var i,n=0,o=this.length-1,a=0;n<=o;){if(a++,t(e,this[(i=Math.floor((n+o+1)/2))-1])>=0&&t(e,this[i])<0)return i;if(t(e,this[i-1])<0?o=i-1:t(e,this[i])>=0?n=i:window.console.error("Catch an ERROR"),a>1e3){window.console.error("1000");break}}return-1},t.prototype.binsert=function(e,t){var i=this.bsearch(e,t);return this.splice(i,0,e),i},t.prototype.bremove=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return void this.splice(t,1)},t}(Array);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(67),o=function(){function e(e){this.recyclingDivList=[],this.config=e.config,this.core=e,this.visualArray=e.visualArray,this.timeLine=e.timeLine,this.danmakuModes=n.default(this.config),this.lastTime=0,this.init(),this.resize()}return e.prototype.init=function(){this.container=this.config.container},e.prototype.isPause=function(){return this.core.paused},e.prototype.validate=function(e){return!(!e.border&&"x"!==e.mode)||!(this.visualArray.length>=this.config.danmakuNumber&&0!==this.config.danmakuNumber)&&!!this.config.danmakuFilter(e)},e.prototype.start=function(e,t,i){if(!e.on&&this.validate(e)){var n=this.danmakuModes[e.mode];if(n){var o=this.getText(e,i);n.onStart(o),e.on=!0,this.visualArray.push(o),t&&o.y>=0&&(o.manager&&o.manager.onUpdate(o,this.config.timeSyncFunc()/1e3),o.pause(o._x,o._y))}this.config.danmakuInserting(e)}},e.prototype.onTime=function(e,t){if(e-=.001,Math.abs(this.lastTime-e)>3&&!t)this.clearVisualList();else for(var i=this.timeLine.getItemsByRange({stime:t?t-this.config.width/512*this.config.duration/this.config.speedPlus/this.config.videoSpeed:this.lastTime-.001},{stime:t||e},this.config.isLive);i.length;)this.start(i.shift(),!0,t||e);this.lastTime=e},e.prototype.resize=function(){this.config.width=this.container.offsetWidth||680,this.config.height=this.container.offsetHeight||420,this.clearRecyclingDivList()},e.prototype.beforeRender=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.afterRender=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.render=function(e,t,i){this.beforeRender(t);for(var n,o=this.visualArray.length,a=[],r=0;r<o;r++)if(n=this.visualArray[r]){var l=n.manager;this.config.danmakuFilter(n.textData)?n.show():n.hide(),l&&l.onUpdate(n,e)?i?n.pause(n._x,n._y):t?n.textData.border?(n.render(n._x,n._y),n.pause(n._x,n._y)):n.pause(n._x,n._y):n.render(n._x,n._y):a.push(n)}o=a.length;for(r=0;r<o;r++)n=a[r],this.end(n);this.afterRender(t)},e.prototype.fresh=function(){for(var e=0;e<this.visualArray.length;e++)this.config.danmakuFilter(this.visualArray[e].textData)?this.visualArray[e].show():this.visualArray[e].hide()},e.prototype.remove=function(e){for(var t=0;t<this.visualArray.length;t++)if(e===this.visualArray[t].textData.dmid){this.visualArray[t].hide(),this.visualArray.splice(t,1);break}},e.prototype.end=function(e,t){e.textData.on=!1;var i=e.manager,n=i&&i.onEnd(e,t);this.config.isRecycling&&n&&(this.recyclingDivList[this.recyclingDivList.length]=n),this.visualArray.bremove(e)},e.prototype.clearVisualList=function(){for(;this.visualArray.length;)this.end(this.visualArray[0],!0);this.lastTime=-3,this.clearRecyclingDivList()},e.prototype.option=function(e,t){this.config[e]=t},e.prototype.destroy=function(){this.clearVisualList()},e.prototype.clearRecyclingDivList=function(){var e=this.recyclingDivList&&this.recyclingDivList.length;if(e)for(var t=e-1;t>=0;t--)this.recyclingDivList[t]instanceof HTMLElement&&(this.recyclingDivList[t].style.display="none")},e}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(6),o=function(){function e(e,t,i,o){void 0===i&&(i=0),this.textData=e,this.config=n.default.assign({},t),this.width=0,this.height=0,this.parentWidth=this.config.width,this.parentHeight=this.config.height,this.element=null,this.start=0,this.end=0,this.speed=0,this.x=0,this.y=0,this.bottom=0,this.index=16777215,this.precise=i||0,this.browserPrefix=["","-webkit-","-moz-","-ms-"],this.parent=this.config.container,this.recyclingDiv=o,this.init()}return e.prototype.init=function(){1!==this.textData.mode&&4!==this.textData.mode&&5!==this.textData.mode&&6!==this.textData.mode||(window.String.prototype.trim||(window.String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),this.textData.text&&(this.textData.text=this.textData.text.trim()));var e=this.textRender(this.textData,this.config);this.element=e.bitmap,this.width=e.width,this.height=e.height,this.getTimePoints(),1!==this.textData.mode&&6!==this.textData.mode&&"x"!==this.textData.mode||(this.getSpeed(),this.end=this.start+(this.config.width+this.width)/this.speed,this.middle=this.start+this.config.width/this.speed),this.rest=this.end-this.start-this.precise},e.prototype.GetOutlineColor=function(e){return e.color?0:16777215},e.prototype.getSpeed=function(){if("x"===this.textData.mode)return this.speed=(this.config.width+this.width)/(this.textData.duration||this.config.duration),!0;this.speed=(512*this.config.devicePR+this.width)/(this.textData.duration||this.config.duration)*this.config.speedPlus*this.config.videoSpeed},e.prototype.getTimePoints=function(){this.start=this.textData.stime,this.end=this.start+(this.textData.duration||this.config.duration)},e.prototype.setY=function(e,t){this.y=e,this.bottom=this.y+this.height,this.index=t},e.prototype.getX=function(e){return this.config.width-(+new Date-this.pauseTime+1e3*(this.end-this.start-this.rest))/1e3*this.speed},e.prototype.getRight=function(e){return this.getX(e)+this.width},e.prototype.free=function(e){var t=this.config&&this.config.isRecycling,i=this.element;if(t&&!e&&(1===this.textData.mode||6===this.textData.mode))return this.config=null,this.textData=null,i;this.config=null,this.textData=null,this.textFree(this.element),this.element=null},e.prototype.hide=function(){this.element.style.visibility="hidden"},e.prototype.show=function(){this.element.style.visibility=""},e}();t.default=o},function(e,t){e.exports="data:application/vnd.ms-fontobject;base64,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"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={DANMAKU_BORDER_COLOR:"66FFFF",WS_MESSAGE_DANMAKU:"DANMU_MSG",WS_MESSAGE_SYS_MSG:"SYS_MSG",WS_MESSAGE_SYS_GIFT:"SYS_GIFT",WS_MESSAGE_GUARD_MSG:"GUARD_MSG",WS_MESSAGE_SEND_GIFT:"SEND_GIFT",WS_MESSAGE_LIVE:"LIVE",WS_MESSAGE_PREPARING:"PREPARING",WS_MESSAGE_END:"END",WS_MESSAGE_CLOSE:"CLOSE",WS_MESSAGE_BLOCK:"BLOCK",WS_MESSAGE_ROUND:"ROUND",WS_MESSAGE_WELCOME:"WELCOME",WS_MESSAGE_REFRESH:"REFRESH",WS_ACTIVITY_RED_PACKET:"ACTIVITY_RED_PACKET",WS_ROOM_LIMIT:"ROOM_LIMIT",WS_PK_PRE:"PK_PRE",WS_PK_END:"PK_END",WS_PK_SETTLE:"PK_SETTLE",WS_PK_MIC_END:"PK_MIC_END",L_LIVE:"live",L_PREPARING:"preparing",L_END:"end",L_CLOSE:"close",L_BLOCK:"block",L_PRE_ROUND:"pre-round",L_ROUND:"round",L_ERROR:"error",V_PLAY:"player-state-play",V_PAUSE:"player-state-pause",PROTOCOL_API_HTTP:"http:",PROTOCOL_API_HTTPS:"https:",PROTOCOL_WEBSOCKET_DEFAULT:"ws:",PROTOCOL_WEBSOCKET_SECURITY:"wss:",LOCAL_STORAGE_VOLUME:"videoVolume",LOCAL_STORAGE_VOLUME_HOME:"homeVideoVolume",DANMAKU_TYPE_CSS:"div",DANMAKU_TYPE_CANVAS:"canvas",CALLBACK_INITIALIZED:"initialized",CALLBACK_PLAYER_STATE_CHANGE:"playerStateChange",CALLBACK_LIVE_STATE_CHANGE:"liveStateChange",CALLBACK_VIDEO_STATE_CHANGE:"videoStateChange",CALLBACK_FULL_SCREEN_CHANGE:"fullscreenChange",CALLBACK_PLAYING:"playing",CALLBACK_PAUSED:"paused",CALLBACK_SWITCH_LINE:"switchLine",CALLBACK_SWITCH_QUALITY:"switchQuality",SWITCH_QUALITY_NOT_LOGIN:"switchQualityNotLogin",CALLBACK_WEB_FULLSCREEN:"webFullscreen",CALLBACK_FEED_BACK_CLICK:"feedBackClick",CALLBACK_BLOCK_SETTING_CLICK:"blockSettingClick",CALLBACK_SET:"set",CALLBACK_INIT_DANMAKU:"initDanmaku",CALLBACK_ADD_DANMAKU:"addDanmaku",CALLBACK_SEND_DANMAKU:"sendDanmaku",CALLBACK_RECEIVE_ONLINE_COUNT:"receiveOnlineCount",CALLBACK_RECEIVE_MESSAGE:"receiveMessage",CALLBACK_USER_LOGIN:"userLogin",CALLBACK_GIFT_PACKAGE_CLICK:"giftPackageClick",CALLBACK_SEND_GIFT:"sendGift",CALLBACK_GUID_CHANGE:"guidChange",CALLBACK_RELOAD:"reload",SET_COMPONENT_DANMAKU:"danmaku",SET_COMPONENT_BLOCK:"block",SET_COMPONENT_GIFT:"gift",SET_COMPONENT_MASK:"mask",CALLBACK_FIRST_LOADED_API_PLAYER:"firstLoadedAPIPlayer",CALLBACK_FIRST_LOADED_API_PLAYURL:"firstLoadedAPIPlayurl",CALLBACK_FIRST_LOAD_START:"firstLoadStart",CALLBACK_FIRST_LOADED_META_DATA:"firstLoadedMetaData",CALLBACK_FIRST_PLAYING:"firstPlaying",ENTER_THE_ROOM:"enterTheRoom",CALLBACK_OPERABLE_ELEMENTS_CHANGE:"operableElementsChange",AUTO_PLAY:"autoPlay",BILIBILI_PLAYER_SHOW_TIP_BASE_TIME:"bilibiliPlayerShowTipBaseTime",RECOMMEND:"recommend",RECOMMEND_MOVE:"move",RECOMMEND_CLICK:"click",RECOMMEND_NOLIVE:"nolive",MOCK_SOCKET:"mockSocket",CALLBACK_DANMAKU_MASK_CHANGE:"danmakuMaskChange",CALLBACK_DANMAKU_MASK_STATUS_CHANGE:"danmakuMaskStatusChange"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PLAYER_ERROR:1,PLAYER_NETWORK_ERROR:1101,PLAYER_FORM_ERROR:1103,PLAYER_ANALYZE_ERROR:1104,PLAYURL_ERROR:2,PLAYURL_NETWORK_ERROR:2101,PLAYURL_FORM_ERROR:2103,PLAYURL_RESOLVE_ERROR:2104,PLAYURL_ROUND_NETWORK_ERROR:2108,PLAYURL_ROUND_FORM_ERROR:2110,PLAYURL_ROUND_RESOLVE_ERROR:2111,PLAYURL_ROUND_INTERFACE_NETWORK_ERROR:2118,PLAYURL_ROUND_INTERFACE_FORM_ERROR:2120,PLAYURL_ROUND_INTERFACE_RESOLVE_ERROR:2121,VIDEO_ERROR:3,VIDEO_URL_ERROR:3001,VIDEO_ANALYZE_ERROR:3002,VIDEO_PLAY_ERROR:3104,NETWORK_EXCEPTION:3111,NETWORK_STATUS_CODE_INVALID:3112,NETWORK_UNRECOVERABLE_EARLY_EOF:3113,NETWORK_RECOVERED_EARLY_EOF:3114,MEDIA_MSE_ERROR:3121,MEDIA_FORMAT_ERROR:3122,MEDIA_FORMAT_UNSUPPORTED:3123,MEDIA_CODEC_UNSUPPORTED:3124,LIVE_PLAYER_ERROR:4,LIVE_PLAYER_INITIALIZED_ERROR:4001,LIVE_PLAYER_INITIALIZED_TIME_OUT:4002,LIVE_PLAYER_RELOAD_ERROR:4003,RECOMMEND_ERROR:5,RECOMMEND_NETWORK_ERROR:5001,RECOMMEND_FORM_ERROR:5003,RECOMMEND_RESOLVE_ERROR:5004,ROOM_AREA_LIMIT_CODE:60005}},function(e,t,i){var n=i(3);e.exports=function(e){var t,o="",a=e||{};return function(a,r){var l=a||!1;o=(o+="\x3c!-- Bilibili HTML5 Live Player - Face your destiny.--\x3e")+"<div"+(n.attr("class",n.classes(["".concat(r)],[!0]),!1,!0)+n.attr("data-pre-rendered","".concat(l),!0,!0))+"><div"+n.attr("class",n.classes(["".concat(r,"-loading-panel")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(r,"-video-logo")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(r,"-video-area")],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(r,"-video-operable-container")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(r,"-video-danmaku")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(r,"-video-pause")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(r,"-video")],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(r,"-video-loading")],[!0]),!1,!0)+'><div class="video-loading"></div></div></div></div><div'+n.attr("class",n.classes(["".concat(r,"-video-block")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(r,"-video-controller")],[!0]),!1,!0)+">"+(null==(t=i(15).call(this,e))?"":t)+"</div><div"+n.attr("class",n.classes(["".concat(r,"-video-send")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(r,"-ending-panel")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(r,"-enter-tips")],[!0]),!1,!0)+"></div></div>"}.call(this,"isPreRendered"in a?a.isPreRendered:"undefined"!=typeof isPreRendered?isPreRendered:void 0,"prefix"in a?a.prefix:"undefined"!=typeof prefix?prefix:void 0),o}},function(e,t,i){var n=i(3);e.exports=function(e){var t="",i=e||{};return function(e,i,o){var a="".concat(o,"-video-controller"),r=i||[1,2,3,4,5,6,7,8,9,10];t=t+"<div"+n.attrs(n.merge([{class:n.classes(["".concat(a,"-container")],[!0])},e]),!0)+"><div"+n.attr("class",n.classes(["".concat(a,"-content"),"clearfix"],[!0,!1]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(a,"-left "),"clearfix"],[!0,!1]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-start-btn")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-duration-btn")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-volume-btn")],[!0]),!1,!0)+"></div></div><div"+n.attr("class",n.classes(["".concat(a,"-right"),"clearfix"],[!0,!1]),!1,!0)+"><div"+(n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-enter-the-room-btn")],[!0]),!1,!0)+n.attr("style",n.style("order:".concat(r[0],";")),!0,!0))+"></div><div"+(n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-switch-quality-btn")],[!0]),!1,!0)+n.attr("style",n.style("order:".concat(r[1],";")),!0,!0))+"></div><div"+(n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-switch-player-btn")],[!0]),!1,!0)+n.attr("style",n.style("order:".concat(r[2],";")),!0,!0))+"></div><div"+(n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-switch-line-btn")],[!0]),!1,!0)+n.attr("style",n.style("order:".concat(r[3],";")),!0,!0))+"></div><div"+(n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-reload-btn")],[!0]),!1,!0)+n.attr("style",n.style("order:".concat(r[4],";")),!0,!0))+"></div><div"+(n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-feedback-btn")],[!0]),!1,!0)+n.attr("style",n.style("order:".concat(r[5],";")),!0,!0))+"></div><div"+(n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-block-btn")],[!0]),!1,!0)+n.attr("style",n.style("order:".concat(r[6],";")),!0,!0))+"></div><div"+(n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-hide-danmaku-btn")],[!0]),!1,!0)+n.attr("style",n.style("order:".concat(r[7],";")),!0,!0))+"><div"+n.attr("class",n.classes(["".concat(a,"-hide-danmaku-container")],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(a,"-hide-danmaku-group")],[!0]),!1,!0)+'><div class="hide-danmaku-title">透明度</div><div class="hide-danmaku-content danmaku-opacity-slider"></div></div><div'+n.attr("class",n.classes(["".concat(a,"-hide-danmaku-group")],[!0]),!1,!0)+'><div class="hide-danmaku-title">字号缩放</div><div class="hide-danmaku-content danmaku-scale-slider"></div></div><div'+n.attr("class",n.classes(["".concat(a,"-hide-danmaku-group")],[!0]),!1,!0)+'><div class="hide-danmaku-title">同屏密度</div><div class="hide-danmaku-content danmaku-density-slider"></div></div><div'+n.attr("class",n.classes(["".concat(a,"-hide-danmaku-group")],[!0]),!1,!0)+'><div class="hide-danmaku-content danmaku-density-checkbox"></div></div><div'+n.attr("class",n.classes(["".concat(a,"-hide-danmaku-group")],[!0]),!1,!0)+'><div class="hide-danmaku-content danmaku-zzmask-checkbox"></div></div></div></div><div'+(n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-web-fullscreen-btn")],[!0]),!1,!0)+n.attr("style",n.style("order:".concat(r[8],";")),!0,!0))+"></div><div"+(n.attr("class",n.classes(["".concat(a,"-btn-item ").concat(a,"-fullscreen-btn")],[!0]),!1,!0)+n.attr("style",n.style("order:".concat(r[9],";")),!0,!0))+"></div></div></div></div>"}.call(this,"cAttribute"in i?i.cAttribute:"undefined"!=typeof cAttribute?cAttribute:void 0,"orderList"in i?i.orderList:"undefined"!=typeof orderList?orderList:void 0,"prefix"in i?i.prefix:"undefined"!=typeof prefix?prefix:void 0),t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(5),o=i(17),a=i(60),r=i(18),l=i(61),s=i(62),A=function(){function e(e,t,i,n){this._type=e,this._container=t,this._opts=i,this._callback=n,this._initialize()}return Object.defineProperty(e.prototype,"value",{get:function(){return this._component.value},enumerable:!0,configurable:!0}),e.prototype.getValue=function(){return this._component.getValue&&this._component.getValue()},e.prototype.setValue=function(e){return this._component.setValue&&this._component.setValue(e)},e.prototype.option=function(e,t,i){return"undefined"!==$.type(t)?(this._component.option(e,t),this):this._component.option(e)},e.prototype.options=function(e,t){return this._component.options(e,t),this},e.prototype.refresh=function(){return this._component.refresh(),this},e.prototype.disable=function(){return this._component.disable(),this},e.prototype.enable=function(){return this._component.enable(),this},e.prototype.active=function(){return this._component.active&&this._component.active(),this},e.prototype.deactivate=function(){return this._component.deactivate&&this._component.deactivate(),this},e.prototype.isActive=function(){return this._component.isActive&&this._component.isActive(),this},e.prototype.element=function(){return this._component.element&&this._component.element()},e.prototype.checked=function(e){void 0===e&&(e=!0),this._component.checked&&this._component.checked(e)},e.prototype.destroy=function(){this._component.destroy&&this._component.destroy()},e.prototype.fire=function(e){this._component.fire&&this._component.fire(e)},e.prototype.set=function(e,t){this._component.set&&this._component.set(e,t)},e.prototype.mute=function(e){void 0===e&&(e=!1),this._component.mute&&this._component.mute(e)},e.prototype._initialize=function(){var e=n.default;switch(this._type=this._type.toLowerCase(),this._type){case"button":e=o.default;break;case"volume":e=a.default;break;case"slider":e=r.default;break;case"checkbox":e=l.default;break;case"select":e=s.default}return this._component=new e(this._container,this._opts),this._callback&&this._callback(this),this},e}();t.default=A},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(5),r=i(59),l=function(e){function t(t,i){var n=e.call(this,t,i,"Button")||this;return n._clickHandlerArr=[],"function"==typeof i.onClick&&n._clickHandlerArr.push(i.onClick),n._initialize(),n}return o(t,e),t.prototype.active=function(){this._isActive=!0,this._btn&&this._btn.addClass("active")},t.prototype.deactivate=function(){this._isActive=!1,this._btn&&this._btn.removeClass("active")},t.prototype.fire=function(e){switch(e){case"click":this._btn.trigger("click")}},t.prototype.option=function(e,t,i){var n=this._options.type;if(!this._disabled){if("undefined"===$.type(t))return"value"===e?this.getValue():this._options[e];this._options[e]=t;var o=this._btn;switch(e){case"value":this.value=t;break;case"icon":"icon-btn"===n?(o.find(">i").removeClass(this._lastIconClassName).addClass(t),this._lastIconClassName=t):"btn"===n&&o.find(">i").removeAttr("class").addClass(a.default.prefix+"-icon "+t);break;case"text":"text-btn"===n?o.find(">span").html(t):"btn"===n?o.find(">span").html(t):o.html(t);break;case"title":o.attr("data-title",t),this._tooltip&&this._tooltip.refresh();break;case"disabled":t?this.disable():this.enable();break;case"tooltipHtml":var l=this._options;this._tooltip&&this._tooltip.destroy(),l.tooltip&&(this._tooltip=new r.default(this._btn,{type:l.tooltip,title:l.title,arrow:l.tooltipArrow,html:l.tooltipHtml,appendTo:l.tooltipAppendTo}));break;case"click":"function"==typeof t&&this._clickHandlerArr.push(t);break;case"attr":t&&t.forEach(function(e){o.attr(e.name,e.value)})}i&&i()}},t.prototype.options=function(e,t){if(!this._disabled){for(var i in e)this.option(i,e[i]);t&&t()}},t.prototype._destroy=function(){this._setInitialized(!1),this._btn.unbind().remove()},t.prototype._triggerChange=function(){"function"==typeof this._options.onChange&&this._options.onChange(this.value)},t.prototype._refresh=function(){this._destroy(),this._initialize()},t.prototype._initialize=function(){return this.value=this._options.value||0,this._create(),this._element=this._btn,this._setInitialized(),this},t.prototype._create=function(){switch(this._options.type){case"icon-btn":this._createIconBtn();break;case"text-btn":this._createTextBtn();break;case"btn":this._createBtn()}var e=this._options;return e.tooltip&&(this._tooltip=new r.default(this._btn,{type:e.tooltip,title:e.title,arrow:e.tooltipArrow,html:e.tooltipHtml,appendTo:e.tooltipAppendTo})),this},t.prototype._createIconBtn=function(){var e=this._options,t=$("<button>"),i=e.icon?'<i class="'+e.icon+'"></i>':"";e.icon&&(this._lastIconClassName=e.icon),t.attr("data-title",e.title).addClass(a.default.prefix+"-btn icon-btn").html(i),e.attr&&e.attr.length&&e.attr.forEach(function(e){t.attr(e.name,e.value)}),this._container.append(t),this._btn=t,"function"==typeof e.onClick&&this._bindEvents()},t.prototype._createTextBtn=function(){var e=this._options,t=e.noHover?"no-hover":"",i=e.isBlock?"block-btn":"",n=$("<div>").attr("data-title",e.title).addClass(a.default.prefix+"-btn text-btn no-select "+i+" "+t).html("<span>"+e.text+"</span>");this._container.html("").append(n),this._btn=n,t||"function"==typeof e.onClick&&this._bindEvents()},t.prototype._createBtn=function(){var e=this._options,t=e.isBlock?"btn-block":"",i=e.theme,n=e.icon?'<i class="'+a.default.prefix+"-icon "+e.icon+'"></i>':"";this._btn=$("<button>").attr("data-title",e.title).addClass(a.default.prefix+"-btn default-btn "+t+" btn-"+i).html(n+"<span>"+e.text+"</span>"),this._container.html("").append(this._btn),"function"==typeof e.onClick&&this._bindEvents()},t.prototype._bindEvents=function(){var e=this;return this._btn.on("click",function(t){e._disabled||(e._clickHandlerArr.forEach(function(i){i.call(e,t,e)}),e._options.tooltipAutoHidden&&e._tooltip&&e._tooltip.hide())}),this},t}(a.default);t.default=l},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(5),r=i(1),l=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._vSliderStatus=!1,n._hSliderStatus=!1,n._hSliderAnimationClass="animation",n._options.percentage=n._options.percentage||!1,n._initialize(),n}return o(t,e),t.prototype.setValue=function(e){switch(this._options.type){case"horizontal":this._setHorizontalValue(e);break;case"vertical":this._setVerticalValue(e)}},t.prototype.setVerticalValue=function(e){this._setVerticalValue(e)},t.prototype._triggerChange=function(){"function"==typeof this._options.onChange&&this._options.onChange(this.value)},t.prototype._initialize=function(){return this._create()._setInitialized(),this},t.prototype._create=function(){switch(this._options.type){case"horizontal":this._createHorizontalSlider();break;case"vertical":this._createVerticalSlider()}return this},t.prototype._createVerticalSlider=function(){for(var e=this._container,i=e.width()||t._vSliderMax,n=Math.floor(i/t._vSliderWidth),o="",r=0;r<n;r++)o+='<span class="'+a.default.prefix+'-slider-span no-select"></span>';o='<div class="'+a.default.prefix+'-slider-container vertical-slider clearfix">'+o+"</div>",e.html(o),this._vSliderSpans=e.find("."+a.default.prefix+"-slider-span"),this._bindVerticalEvents()._setVerticalValue(this.value)},t.prototype._createHorizontalSlider=function(){var e,t=this._container;t.width();e='<div class="'+a.default.prefix+"-slider-container horizontal-slider "+this._hSliderAnimationClass+'">\n                    <div class="slider-process"></div>\n                    <div class="slider-handle"></div>\n                    <div class="slider-value no-select hidden">0</div>\n                </div>',t.html(e),this._hSliderContainer=t.find(".horizontal-slider"),this._hSliderProcess=t.find(".slider-process"),this._hSliderHandle=t.find(".slider-handle"),this._hSliderValue=t.find(".slider-value"),this._setHorizontalValue(this._options.value||0)._bindHorizontalEvents()},t.prototype._bindVerticalEvents=function(){var e=this;return this._container.on("mouseenter","."+a.default.prefix+"-slider-span",function(e){$(e.target).addClass(t._sliderHoverClass)}).on("mouseleave","."+a.default.prefix+"-slider-span",function(e){$(e.target).removeClass(t._sliderHoverClass)}).on("click",function(i){var n=r.default.getRelativePos(i,e._container);n.x=n.x>t._vSliderMax/2?n.x+1:n.x,n.x=n.x>t._vSliderMax?t._vSliderMax:n.x,e._setVerticalValue(Math.floor(Math.round(n.x))/t._vSliderMax)}).on("mousemove",function(i){if(e._vSliderStatus){var n=r.default.getRelativePos(i,e._container);n.x=n.x>t._vSliderMax/2?n.x+1:n.x,n.x=n.x>t._vSliderMax?t._vSliderMax:n.x,e._setVerticalValue(Math.floor(Math.round(n.x))/t._vSliderMax)}}).on("mousedown",function(){e._vSliderStatus=!0}),$(document.body).on("mouseup",function(){e._vSliderStatus&&(e._vSliderStatus=!1,"function"==typeof e._options.onMouseUp&&e._options.onMouseUp())}),this},t.prototype._bindHorizontalEvents=function(){var e=this;return this._hSliderContainer.on("click",function(t){var i=r.default.getRelativePos(t,e._hSliderContainer);e._setHorizontalValueByPos(i.x)}).on("mousedown",function(){e._hSliderStatus=!0,e._hSliderValue.removeClass("hidden")}),$(document.body).on("mousemove",function(t){if(e._hSliderStatus){e._hSliderContainer.removeClass(e._hSliderAnimationClass);var i=r.default.getRelativePos(t,e._hSliderContainer);e._setHorizontalValueByPos(i.x)}}).on("mouseup",function(){e._hSliderStatus&&(e._hSliderStatus=!1,e._hSliderContainer.addClass(e._hSliderAnimationClass),"function"==typeof e._options.onMouseUp&&e._options.onMouseUp())}),this},t.prototype._setHorizontalValue=function(e,t){var i=this;void 0===t&&(t=0);var n=this._options,o=this._hSliderContainer.width();!o&&t<=4&&setTimeout(function(){i._setHorizontalValue(e,++t)},300);var a=this._hSliderHandle.width()/2,r=o-2*a,l=n.minValue||0,s=n.maxValue,A=e-l;return s&&(A*=r/(s-l)),n.percentage&&(A*=r/(100-l)),this._setHorizontalValueByPos(A+a),this},t.prototype._setHorizontalValueByPos=function(e){var t=this;void 0===e&&(e=0);var i=this._options,n=this._hSliderContainer.width(),o=this._hSliderHandle.width()/2,a=i.minValue||0,r=i.maxValue,l=i.precision,s=n-2*o,A=0,c=e-o;if(e>=0&&e<=n){if(c=A=c>=0&&c<=s?c:e<o?0:s,r&&(c=Math.round(A/s*(r-a))+a),i.percentage&&(c=Math.round(A/s*(100-a))+a),l){var d=c%l;d&&(d>l/2?c=c-d+l:c-=d,r&&(A=s/(r-a)*(c-a)),i.percentage&&(A=s/(100-a)*(c-a)))}if(this._hSliderHandle.css({"-webkit-transform":"translateX("+A+"px)","-moz-transform":"translateX("+A+"px)","-o-transform":"translateX("+A+"px)",transform:"translateX("+A+"px)"}),this._hSliderProcess.css({width:A+o}),i.showValue){window.clearTimeout(this._hSliderTimeOut),this._hSliderValue.removeClass("hidden");var p,u=void 0,h=""+c+(i.suffix||"");i.specialValue&&i.specialValue instanceof Object&&i.specialValue[c]&&(h=i.specialValue[c]),this._hSliderValue.html(h),p=this._hSliderValue.width(),u=(u=(u=A+o-Math.floor(p/2))>0?u:0)<=n-p?u:n-p,this._hSliderValue.css({"-webkit-transform":"translateX("+u+"px)","-moz-transform":"translateX("+u+"px)","-o-transform":"translateX("+u+"px)",transform:"translateX("+u+"px)"}),this._hSliderTimeOut=window.setTimeout(function(){t._hSliderValue.addClass("hidden")},1e3)}this.value!==c&&(this.value=c)}},t.prototype._setVerticalValue=function(e){void 0===e&&(e=1),this.value=e,e*=t._vSliderMax;var i=this._vSliderSpans,n=Math.floor(e/t._vSliderWidth),o=e%t._vSliderWidth;if(i.removeClass(t._sliderActiveClass).find(">span").remove(),n>=0){for(var a=0;a<n;a++)i.eq(a).addClass(t._sliderActiveClass);if(o){var r=t._vSliderWidth-o-1;0===n&&1===o&&(r=2),i.eq(n).append($('<span style="right:'+r+'px"></span>'))}}},t._vSliderWidth=5,t._vSliderMax=40,t._sliderHoverClass="slider-span-hover",t._sliderActiveClass="slider-span-active",t._hSliderDefaultWidth=120,t}(a.default);t.default=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=i(2),a=i(0),r=i(64),l=function(){function e(e,t){this._player=e,this._container=t,this._WAITING_QUEUE=[],this._RENDER_INTERVAL_TIME=2e3,this.state={},this.state={danmakuNumber:80,blockTypeList:[]},this._initialize()}return e.getSendGiftHtml=function(e,t){void 0===t&&(t=1);var i="";switch(e){case a.default.DANMAKU_GIFT_233:i='<span class="gift-danmaku-2"></span>';for(var n=0;n<3*t-1;n++)i+='<span class="gift-danmaku-3"></span>';break;case a.default.DANMAKU_GIFT_666:for(n=0;n<3*t+3;n++)i+='<span class="gift-danmaku-6"></span>'}return'<div class="bilibili-live-player-danmaku-gift clearfix no-select">'+i+"</div>"},e.prototype.play=function(){o.default.log("Danmaku Playing.."),this._danmaku&&this._danmaku.play()},e.prototype.pause=function(){o.default.log("Danmaku Paused."),this._danmaku&&this._danmaku.pause()},e.prototype.add=function(e,t){void 0===t&&(t=!1);var i=this._player.config.user;if(e.text&&e.text.length>30&&a.default.DANMAKU_MODE_TOP===e.mode){for(var n=e.text.split(""),o=Math.floor(n.length/30)+1,r=1;r<o;r++)n.splice(30*r,0,"\n");e.text=n.join(""),e.textAlign="center"}i.isSuperUser&&(e.color=i.superUserForceColor),i.isSuperUser&&(e.mode=a.default.DANMAKU_MODE_REVERSE),t?this._danmaku&&this._danmaku.add(e):this._WAITING_QUEUE.push(e)},e.prototype.option=function(e,t){return this._danmaku&&this._danmaku.option(e,t),this},e.prototype.resize=function(){return o.default.log("Danmaku Resize."),this._danmaku&&this._danmaku.resize(),this},e.prototype.visible=function(e){o.default.log("Danmaku Visible: "+!!e),this._danmaku&&this._danmaku.visible(e),this._player.event.emit(a.EVENT.DANMAKU_STATUS_CHANGE,e)},e.prototype.opacity=function(e){this._danmaku&&this._danmaku.option("opacity",e)},e.prototype.fontSize=function(e){return this._danmaku&&this._danmaku.option("fontSize",e),this},e.prototype.density=function(e){var t=e||1,i=0;e<=80||0===e?i=t:e>80&&e<86?i=[100,200,300,400,500][t-81]:86===e&&(i=0),i!==this.state.danmakuNumber&&(1!==i&&o.default.log("Set danmaku - density: "+(i||"unlimited")+"."),this.state.danmakuNumber=i,this._danmaku&&this._danmaku.option("danmakuNumber",i))},e.prototype.search=function(e,t){return this._danmaku&&this._danmaku.searchAreaDanmaku(e,t)},e.prototype.checkDanmakuBlockStatus=function(e){var t,i,n,o=this._player,a=o.config.user;if(!e.user)return!1;if(this.state.blockTypeList.indexOf(e.type)>-1)return!0;if(a.silentLevel&&a.silentLevel>e.user.level)return!0;if(a.silentRank&&1e4>e.user.rank)return!0;if(a.silentVerify&&!e.user.verify)return!0;for(var r=0,l=(t=o.getDanmakuBlockList()).length;r<l;r++)if(i=t[r])if(n=i.keyword&&i.keyword.split("_")[0],i.mode){if(n===e.uid.toString())return!0}else if(e.text.indexOf(n)>-1)return!0;return!1},e.prototype.addLocalMessage=function(e){var t={cmd:"DANMU_MSG",info:[],roomid:this._player.config.rid};t.info[0]=[e.stime,e.mode,e.fontsize,e.color,e.date],t.info[1]=e.text,t.info[2]=[e.uid,e.uname,0],n.default.fireEventCallback(this._player.callbackMap.addDanmaku,t)},e.prototype.destroy=function(){this._danmaku.destroy&&this._danmaku.destroy(),window.clearTimeout(this._TIMEOUT_RENDER),window.clearTimeout(this._TIMEOUT_ADD_DANMAKU),this._danmaku=void 0},e.prototype.clear=function(){o.default.log("Danmaku Clear."),this._danmaku&&this._danmaku.clear()},e.prototype.getRestDensity=function(){return this._danmaku.option("danmakuNumber")-this._danmaku.count()},e.prototype.setType=function(e){void 0===e&&(e=a.STATE_STRING.DANMAKU_TYPE_CSS),this._danmaku&&this._danmaku.setType(e);a.STATE_STRING.DANMAKU_TYPE_CSS},e.prototype.set=function(e){try{if(e&&e.data)switch(e.action){case"blockDanmaku":e.data&&Array.isArray(e.data.type)&&(this.state.blockTypeList=e.data.type)}}catch(e){throw new Error("Set Danmaku Info Error, "+e)}},e.prototype.setBgurl=function(e,t){var i={"background-image":"url("+e+")","background-repeat":"no-repeat","background-position":"center","background-size":t?"contain":"unset"};this._container.css(i)},e.prototype.showMask=function(e){this._container[0].style.webkitMaskImage=e},e.prototype.deleteMask=function(){this._container[0].style.webkitMaskImage=""},e.prototype.addMask=function(e){var t={"-webkit-mask-image":"url("+e+")","mask-image":"url("+e+")"};this._container.css(t)},e.prototype._render=function(){var e=this,t=this._getCurrentQueue();if(t.length){var i=this.getRestDensity();t.length>i&&(t=t.splice(i,t.length-i));var n=this._RENDER_INTERVAL_TIME/t.length;this._add(t,n)}this._TIMEOUT_RENDER=window.setTimeout(function(){e._render()},this._RENDER_INTERVAL_TIME)},e.prototype._getCurrentQueue=function(){var e=[];return this._WAITING_QUEUE.forEach(function(t,i){for(var n in e[i]={stime:-1,mode:t.mode||a.default.DANMAKU_MODE_SCROLL,size:a.default.DANMAKU_DEFAULT_FONT_SIZE,color:a.default.DANMAKU_DEFAULT_INT10_COLOR,date:0,uid:"123"},t)t.hasOwnProperty(n)&&(e[i][n]=t[n])}),this._WAITING_QUEUE=[],e},e.prototype._add=function(e,t){var i=this;if(void 0===t&&(t=this._RENDER_INTERVAL_TIME),e.length){var n=e.splice(0,1)[0];this._checkVideoIsPaused()&&this._danmaku&&this._danmaku.add(n),n=null,window.clearTimeout(this._TIMEOUT_ADD_DANMAKU),this._TIMEOUT_ADD_DANMAKU=window.setTimeout(function(){i._add(e,t)},t)}},e.prototype._checkVideoIsPaused=function(){var e=this._player;return!(a.default.V_PAUSE===e.getVideoStatus()&&(a.default.L_STATUS_LIVE===e.getLiveStatus()||a.default.L_STATUS_ROUND===e.getLiveStatus()))},e.prototype._createSwitchTypeContextMenu=function(){var e=this,t=this._player,i=[{key:"CSS3",value:a.STATE_STRING.DANMAKU_TYPE_CSS},{key:"Canvas",value:a.STATE_STRING.DANMAKU_TYPE_CANVAS}],n=[{type:"submenu",text:"切换弹幕类型",submenu:[]}];i.forEach(function(t,i){n[0].submenu.push({type:"function",className:"bilibili-live-player-switch-danmaku-item",icon:"blp-icon-check",text:t.key,click:function(){e.setType(t.value)}})}),t.plugins.contextMenu&&(this._danmakuTypeItemID=t.plugins.contextMenu.unshift(n).id,t.plugins.contextMenu.active(this._danmakuTypeItemID,0))},e.prototype._initialize=function(){var e=a.STATE_STRING.DANMAKU_TYPE_CSS,t=this._player.config.initTime;this._danmaku=new r.default({type:e,container:this._container[0],timeSyncFunc:function(){return Date.now()-t},isRecycling:!0,isLive:!0}),this._player.addInitCallback(function(){}),this._render(),o.default.log("Danmaku Initialized.")},e}();t.default=l},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(6),r=function(e){function t(t,i,n){return void 0===n&&(n=0),e.call(this,t,i,n)||this}return o(t,e),t.prototype.textRender=function(e,t){var i,n=t.devicePR,o=[[2,3,0,0],[1,3,0,0],[1,2,2,2]][t.fontBorder],r=document.createElement("canvas"),l=r.getContext("2d"),s=0,A=0;if(t.fontFamily=t.fontFamily?t.fontFamily:"Microsoft YaHei",e.text&&!e.canvas){var c=e.size*n*t.fontSize*(t.fullScreenSync?this.parent.getBoundingClientRect().height/440:1);l.font=(t.bold?"bold":"normal")+" "+c+"px "+t.fontFamily;var d=e.text.split("\r");for(A=d.length*c*1.125,i=0;i<d.length;i++){var p=l.measureText(d[i]).width;p>s&&(s=p)}for(r.setAttribute("width",s+2+""),r.setAttribute("height",A+2+""),l.font=(t.bold?"bold":"normal")+" "+c+"px "+t.fontFamily,l.globalAlpha=t.opacity,e.border&&(l.strokeStyle=a.default.getHexColor(e.borderColor),l.strokeRect(0,0,s,A)),l.strokeStyle=a.default.getHexColor(this.GetOutlineColor(e)),l.lineWidth=o[0],l.shadowBlur=o[1],l.shadowColor=a.default.getHexColor(this.GetOutlineColor(e)),i=0;i<d.length;i++)l.strokeText(d[i],o[2],(i+1)*c+o[3]);for(l.fillStyle=a.default.getHexColor(e.color),i=0;i<d.length;i++)l.fillText(d[i],0,(i+1)*c)}else if(e.canvas&&e.canvas.length>0){for(var u=0,h=0;h<e.canvas.length;h++){var f=e.canvas[h];s=s+f.width+2,A=A>f.height?A:f.height}s=s,A+=2,r.setAttribute("width",s+""),r.setAttribute("height",A+"");for(var g=0;g<e.canvas.length;g++){var _=e.canvas[g];l.drawImage(_.canvas,u,2,_.width,_.height),u=u+_.width+2}}return{bitmap:r,width:s,height:A}},t.prototype.render=function(e,t,i){var n=this.parent.getContext("2d"),o=!1;if(this.startTime||(this.startTime=+new Date,this.pauseTime=+new Date),this.paused&&!i)return this.paused=!1,this.pauseTime=+new Date,!0;6===this.textData.mode&&(o=!0);try{null!=this.element&&"hidden"!==this.element.style.visibility&&n.drawImage(this.element,o?this.config.width-e-this.width||0:e,t,this.element.width/1,this.element.height/1)}catch(e){console.warn(e)}},t.prototype.pause=function(e,t){this.paused=!0,this.pauseTime&&(this.rest=this.rest-(+new Date-this.pauseTime)/1e3),this.pauseTime=+new Date,this.render(e,t,!0)},t.prototype.textFree=function(e){e.remove&&e.remove()},t}(i(10).default);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=i(2),a=i(0),r=function(){function e(e){this.config={},this.eventMap={},this.config={namespace:"bilibili_live_custom_event"},this.eventMap={},window.eventMap=this.eventMap}return e.prototype.on=function(e,t){return e?(this.eventMap[e]||(this.eventMap[e]=[]),"function"==typeof t&&this.eventMap[e].push(t),this):this},e.prototype.off=function(e){return e?this.eventMap[e]=[]:this.eventMap={},this},e.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return e&&this.eventMap[e]?(e!==a.EVENT.GET_MASK_DATA&&(o.default.log("[Event] > "+e+" emitted."),n.default.log("[Event] > "+e+" emitted.")),this.eventMap[e].forEach(function(e){"function"==typeof e&&e.apply(void 0,t)})):(o.default.log("[Event] > "+e+" missing.",2),n.default.log("[Event] > "+e+" missing.")),this},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),o=function(){for(var e,t,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=i.length,a={};n<o;n++)if((e=i[n])&&e[1]in document){for(n=0,t=e.length;n<t;n++)a[i[0][n]]=e[n];return a}return!1}(),a=function(){function e(){}return e.request=function(e){var t=o.requestFullscreen;if(e=e||document.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent))e[t]();else{var i=Element;i&&"ALLOW_KEYBOARD_INPUT"in i&&i.ALLOW_KEYBOARD_INPUT?e[t](i.ALLOW_KEYBOARD_INPUT):e[t]({})}},e.exit=function(){var t,i=document;try{t=window.top.document}catch(e){}e.isFullscreen&&(e.isTop?t&&t[o.exitFullscreen]():i[o.exitFullscreen]())},e.toggle=function(t){e.isFullscreen?e.exit():e.request(t)},e.addFullscreenChange=function(t){t&&"function"==typeof t&&(e.fullscreenChangeList.length||e.bindFullscreenChange(),e.fullscreenChangeList.push(t))},e.bindFullscreenChange=function(){$(document).off(o.fullscreenchange).on(o.fullscreenchange+".BILIBILI_HTML5_LIVE_PLAYER",function(){e.fullscreenChangeHandler()});try{$(window.top.document).off(o.fullscreenchange).on(o.fullscreenchange+".BILIBILI_HTML5_LIVE_PLAYER",function(){e.fullscreenChangeHandler(!0)})}catch(e){}},e.fullscreenChangeHandler=function(t){void 0===t&&(t=!1);var i;try{i=window.top.document}catch(e){}e.isFullscreen=i&&!!i[o.fullscreenElement]||!!i[o.fullscreenElement],e.isTop=t,n.default.log("Full Screen Change: "+e.isFullscreen),e.fullscreenChangeList.length&&e.fullscreenChangeList.forEach(function(e){e()})},e.destroy=function(){e.fullscreenChangeList=[],$(document).off(o.fullscreenchange),$(window.top.document).off(o.fullscreenchange)},e.fullscreenChangeList=[],e.isFullscreen=!1,e.isTop=!1,e}();t.default=a},,,,,,function(e,t,i){try{var n=i(7).default;window.Player=n}catch(e){}e.exports=n},function(e,t,i){var n=i(30);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(50)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,i){t=e.exports=i(31)(!1);var n=i(32),o=n(i(11)),a=n(i(11)+"#iefix"),r=n(i(33)),l=n(i(34)),s=n(i(35)+"#icomoon"),A=n(i(36)),c=n(i(37)),d=n(i(38)),p=n(i(39)),u=n(i(40)),h=n(i(41)),f=n(i(42)),g=n(i(43)),_=n(i(44)),b=n(i(45)),m=n(i(46)),E=n(i(47)),y=n(i(48)),v=n(i(49));t.push([e.i,".clearfix {\n  *zoom: 1;\n}\n.clearfix:before,\n.clearfix:after {\n  content: '';\n  display: table;\n  overflow: hidden;\n}\n.clearfix:after {\n  clear: both;\n}\n.no-select {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n@keyframes giftPrefixAnimation {\n  0% {\n    background-position: left;\n  }\n  100% {\n    background-position: right;\n  }\n}\n@-webkit-keyframes move-in-left {\n  from {\n    opacity: 0;\n    -webkit-transform: translate(5em, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate(0, 0);\n  }\n}\n@keyframes move-in-left {\n  from {\n    opacity: 0;\n    transform: translate(5em, 0);\n  }\n  to {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n@-webkit-keyframes splashing {\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes splashing {\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes move-in-bottom {\n  from {\n    opacity: 0;\n    -webkit-transform: translate(0, 5em);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate(0, 0);\n  }\n}\n@keyframes move-in-bottom {\n  from {\n    opacity: 0;\n    transform: translate(0, 5em);\n  }\n  to {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n@-webkit-keyframes scale-out {\n  from {\n    opacity: 1;\n    -webkit-transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: scale(0.8);\n  }\n}\n@keyframes scale-out {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n}\n@keyframes copy-success-show {\n  100% {\n    opacity: 1;\n    margin-top: 0;\n  }\n}\n@font-face {\n  font-family: 'old-livefont';\n  src: url("+o+");\n  src: url("+a+") format('embedded-opentype'), url("+r+") format('truetype'), url("+l+") format('woff'), url("+s+") format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n@font-face {\n  font-family: 'livefont';\n  src: url("+A+");\n  src: url("+A+") format('embedded-opentype'), url("+c+") format('truetype'), url("+d+") format('woff'), url("+p+') format(\'svg\');\n  font-weight: normal;\n  font-style: normal;\n}\n[class^="live-old-icon"],\n[class*=" live-old-icon"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'old-livefont\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n[class^="live-icon"],\n[class*=" live-icon"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'livefont\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-size: 22px;\n}\n.live-icon-old-online:before {\n  content: "\\e90f";\n}\n.live-icon-mute:before {\n  content: "\\e906";\n}\n.live-icon-un-mute:before {\n  content: "\\e907";\n}\n.live-icon-feedback:before {\n  content: "\\e905";\n}\n.live-icon-exit-web-fullscreen:before {\n  content: "\\e90a";\n}\n.live-icon-reload:before {\n  content: "\\e904";\n}\n.live-icon-web-fullscreen:before {\n  content: "\\e90b";\n}\n.live-icon-pause:before {\n  content: "\\e909";\n}\n.live-icon-play:before {\n  content: "\\e900";\n}\n.live-icon-exit-fullscreen:before {\n  content: "\\e902";\n}\n.live-icon-fullscreen:before {\n  content: "\\e902";\n}\n.live-icon-danmaku-off:before {\n  content: "\\e908";\n}\n.live-icon-danmaku-on:before {\n  content: "\\e901";\n}\n.live-icon-shield:before {\n  content: "\\e903";\n}\n.live-old-icon-checkbox-checked:before {\n  content: "\\e901";\n}\n.live-old-icon-checkbox:before {\n  content: "\\e90c";\n}\n.live-old-icon-close:before {\n  content: "\\e900";\n}\n.bilibili-live-player {\n  line-height: 1;\n  font-family: "Microsoft YaHei", Arial, Helvetica, sans-serif;\n  /* HTML5 display-role reset for older browsers */\n}\n.bilibili-live-player article,\n.bilibili-live-player aside,\n.bilibili-live-player details,\n.bilibili-live-player figcaption,\n.bilibili-live-player figure,\n.bilibili-live-player footer,\n.bilibili-live-player header,\n.bilibili-live-player hgroup,\n.bilibili-live-player menu,\n.bilibili-live-player nav,\n.bilibili-live-player section {\n  display: block;\n}\n.bilibili-live-player ol,\n.bilibili-live-player ul {\n  list-style: none;\n  outline: none;\n  margin: 0;\n  padding: 0;\n}\n.bilibili-live-player blockquote,\n.bilibili-live-player q {\n  quotes: none;\n}\n.bilibili-live-player blockquote:before,\n.bilibili-live-player blockquote:after,\n.bilibili-live-player q:before,\n.bilibili-live-player q:after {\n  content: \'\';\n  content: none;\n}\n.bilibili-live-player table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n.bilibili-live-player input,\n.bilibili-live-player a {\n  font-family: "Microsoft YaHei", Arial, Helvetica, sans-serif;\n  text-decoration: none;\n  outline: none;\n}\n.blp-red-tip:after {\n  content: \'\';\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  border-radius: 100%;\n  background: #f66;\n  top: -3px;\n  right: -6px;\n  -webkit-box-shadow: 0 0 1px #333;\n  -moz-box-shadow: 0 0 1px #333;\n  box-shadow: 0 0 1px #333;\n  z-index: 30;\n}\n.bilibili-live-player .blpui-btn {\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  cursor: pointer;\n  background-color: transparent;\n  color: inherit;\n  text-align: inherit;\n  font-family: inherit;\n  border: none;\n  outline: none;\n  min-width: 18px;\n}\n.bilibili-live-player .blpui-btn:focus {\n  outline: none;\n}\n.bilibili-live-player .blpui-btn.text-indent {\n  text-indent: -9999px;\n}\n.bilibili-live-player .blpui-btn.text-btn {\n  text-indent: 0;\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  text-align: center;\n}\n.bilibili-live-player .blpui-btn.text-btn:hover,\n.bilibili-live-player .blpui-btn.text-btn.active {\n  color: #fd9ccc;\n}\n.bilibili-live-player .blpui-btn.text-btn.no-hover {\n  color: inherit;\n  cursor: default;\n}\n.bilibili-live-player .blpui-btn.text-btn > span {\n  font-size: 13px;\n  line-height: 1;\n  position: relative;\n  display: inline-block;\n  top: 0;\n  pointer-events: none;\n}\n.bilibili-live-player .blpui-btn.icon-btn > i {\n  font-size: 22px;\n  color: #fff;\n  position: absolute;\n  left: 1px;\n  top: -3px;\n  pointer-events: none;\n  cursor: pointer;\n  -webkit-transition: color 0.2s ease-in-out;\n  -moz-transition: color 0.2s ease-in-out;\n  -ms-transition: color 0.2s ease-in-out;\n  -o-transition: color 0.2s ease-in-out;\n  transition: color 0.2s ease-in-out;\n}\n.bilibili-live-player .blpui-btn.icon-btn:hover > i {\n  color: #fda6d2;\n}\n.bilibili-live-player .blpui-btn.default-btn {\n  width: auto;\n  padding: 0 20px;\n  display: inline-block;\n  position: relative;\n  text-align: center;\n  line-height: 30px;\n  background: #4fc1e9;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n}\n.bilibili-live-player .blpui-btn.default-btn.btn-block {\n  padding: 0;\n  width: 100%;\n}\n.bilibili-live-player .blpui-btn.default-btn.btn-blue {\n  background: #4fc1e9;\n}\n.bilibili-live-player .blpui-btn.default-btn.btn-blue:hover {\n  background: #61c7eb;\n}\n.bilibili-live-player .blpui-btn.default-btn.btn-pink {\n  background: #fd9ccc;\n}\n.bilibili-live-player .blpui-btn.default-btn.btn-pink:hover {\n  background: #fda6d2;\n}\n.bilibili-live-player .blpui-btn.default-btn > span {\n  font-size: 13px;\n}\n.blpui-volume-btn-container {\n  height: 100%;\n}\n.blpui-volume-btn-container .blpui-volume-btn,\n.blpui-volume-btn-container .blpui-volume-slider {\n  height: 100%;\n  float: left;\n}\n.blpui-volume-btn-container .blpui-volume-slider {\n  width: 40px;\n  margin-left: 6px;\n  height: 16px;\n  top: 1px;\n  position: relative;\n}\n.blpui-slider-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.blpui-slider-container.vertical-slider {\n  cursor: pointer;\n}\n.blpui-slider-container.vertical-slider .blpui-slider-span {\n  width: 5px;\n  height: 100%;\n  position: relative;\n  display: inline-block;\n  overflow: hidden;\n  -webkit-transition: transform 0.2s ease-in-out;\n  -moz-transition: transform 0.2s ease-in-out;\n  -ms-transition: transform 0.2s ease-in-out;\n  -o-transition: transform 0.2s ease-in-out;\n  transition: transform 0.2s ease-in-out;\n  -webkit-transform-origin: 0 bottom;\n  -moz-transform-origin: 0 bottom;\n  -ms-transform-origin: 0 bottom;\n  -o-transform-origin: 0 bottom;\n  float: left;\n  top: 0;\n  left: -1px;\n}\n.blpui-slider-container.vertical-slider .blpui-slider-span:before {\n  content: \'\';\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  right: 0;\n  margin: 0 1px;\n  background: #fff;\n  -webkit-border-radius: 20px;\n  -moz-border-radius: 20px;\n  border-radius: 20px;\n}\n.blpui-slider-container.vertical-slider .blpui-slider-span:after,\n.blpui-slider-container.vertical-slider .blpui-slider-span > span {\n  content: \'\';\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  margin: 0 1px;\n  -webkit-border-radius: 5em;\n  -moz-border-radius: 5em;\n  border-radius: 5em;\n}\n.blpui-slider-container.vertical-slider .blpui-slider-span:after {\n  z-index: 1;\n}\n.blpui-slider-container.vertical-slider .blpui-slider-span > span {\n  display: inline-block;\n  background: #fd9ccc;\n  pointer-events: none;\n}\n.blpui-slider-container.vertical-slider .blpui-slider-span.slider-span-hover {\n  -webkit-transform: scale(1, 1.3);\n  -moz-transform: scale(1, 1.3);\n  -ms-transform: scale(1, 1.3);\n  -o-transform: scale(1, 1.3);\n  transform: scale(1, 1.3);\n}\n.blpui-slider-container.vertical-slider .blpui-slider-span.slider-span-active:after {\n  right: 0;\n  background: #fd9ccc;\n}\n.blpui-slider-container.horizontal-slider {\n  background: #fff;\n  cursor: pointer ;\n  height: 6px;\n  width: auto;\n  z-index: 10;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n}\n.blpui-slider-container.horizontal-slider .slider-process {\n  width: 0;\n  height: 100%;\n  background: #fd9ccc;\n  opacity: 0.4;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n}\n.blpui-slider-container.horizontal-slider .slider-handle {\n  cursor: pointer;\n  position: absolute;\n  left: 0;\n  top: -3px;\n  background: #fd9ccc;\n  width: 12px;\n  height: 12px;\n  -webkit-border-radius: 100%;\n  -moz-border-radius: 100%;\n  border-radius: 100%;\n  -webkit-box-shadow: 0 0 3px #ce4a8b;\n  -moz-box-shadow: 0 0 3px #ce4a8b;\n  box-shadow: 0 0 3px #ce4a8b;\n  pointer-events: none;\n}\n.blpui-slider-container.horizontal-slider .slider-value {\n  cursor: default;\n  position: absolute;\n  top: -16px;\n  left: 0;\n  font-size: 12px;\n  color: #fff;\n  pointer-events: none;\n}\n.blpui-slider-container.horizontal-slider .slider-value.hidden {\n  display: none;\n}\n.blpui-slider-container.horizontal-slider.animation .slider-process {\n  -webkit-transition: width 0.3s ease-in-out;\n  -moz-transition: width 0.3s ease-in-out;\n  -ms-transition: width 0.3s ease-in-out;\n  -o-transition: width 0.3s ease-in-out;\n  transition: width 0.3s ease-in-out;\n}\n.blpui-slider-container.horizontal-slider.animation .slider-handle,\n.blpui-slider-container.horizontal-slider.animation .slider-value {\n  -webkit-transition: transform 0.3s ease-in-out;\n  -moz-transition: transform 0.3s ease-in-out;\n  -ms-transition: transform 0.3s ease-in-out;\n  -o-transition: transform 0.3s ease-in-out;\n  transition: transform 0.3s ease-in-out;\n}\n.blpui-checkbox-container {\n  cursor: pointer;\n}\n.blpui-checkbox-container label {\n  cursor: pointer;\n  height: 16px;\n  display: inline-block;\n  line-height: 16px;\n}\n.blpui-checkbox-container .blpui-checkbox {\n  display: none;\n}\n.blpui-checkbox-container .blpui-checkbox-span {\n  font-size: 12px;\n  padding-left: 16px;\n  position: relative;\n}\n.blpui-checkbox-container .blpui-checkbox-span:before {\n  content: "\\e90c";\n  font-family: \'old-livefont\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: absolute;\n  left: 0;\n  top: 1px;\n  width: 12px;\n  height: 12px;\n  font-size: 12px;\n}\n.blpui-checkbox-container .blpui-checkbox:checked ~ .blpui-checkbox-span:before {\n  content: "\\e901";\n}\n.blpui-select-container {\n  text-align: left;\n  height: 20px;\n  line-height: 20px;\n  position: relative;\n  border: 1px solid #aaa;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n}\n.blpui-select-container .blpui-select-checked {\n  font-size: 12px;\n  padding: 0 14px 0 4px;\n  height: 100%;\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.blpui-select-container .blpui-select-checked:after {\n  content: "\\e900";\n  font-family: \'old-livefont\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-size: 12px;\n  position: absolute;\n  right: 4px;\n  top: 4px;\n}\n.blpui-select-container .blpui-select-ul {\n  padding: 0;\n  border-top: none;\n  display: none;\n  position: absolute;\n  width: 100%;\n  top: 100%;\n  -webkit-margin-before: 0;\n  -webkit-margin-after: 0;\n  left: -1px;\n  z-index: 10;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  overflow: hidden;\n  color: #aaa;\n}\n.blpui-select-container .blpui-select-li {\n  padding: 0 4px;\n  list-style: none;\n  font-size: 12px;\n  height: 20px;\n  line-height: 20px;\n  cursor: pointer;\n  color: #ffffff;\n}\n.blpui-select-container.black .blpui-select-ul {\n  background: rgba(0, 0, 0, 0.7);\n}\n.blpui-select-container.black .blpui-select-li {\n  -webkit-transition: background 0.3s ease-in-out;\n  -moz-transition: background 0.3s ease-in-out;\n  -ms-transition: background 0.3s ease-in-out;\n  -o-transition: background 0.3s ease-in-out;\n  transition: background 0.3s ease-in-out;\n}\n.blpui-select-container.black .blpui-select-li.active {\n  background: rgba(77, 77, 77, 0.7);\n}\n.blpui-select-container.black .blpui-select-li:hover {\n  background: rgba(102, 102, 102, 0.7);\n}\n.blpui-select-container.active {\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.blpui-select-container.active .blpui-select-ul {\n  display: block;\n  border: 1px solid #aaa;\n  border-top: 1px solid rgba(255, 255, 255, 0.5);\n}\n.bilibili-live-player {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n.bilibili-live-player-enter-tips {\n  display: none;\n  opacity: 0;\n  -webkit-transition: opacity 0.3s ease-in-out;\n  -moz-transition: opacity 0.3s ease-in-out;\n  -ms-transition: opacity 0.3s ease-in-out;\n  -o-transition: opacity 0.3s ease-in-out;\n  transition: opacity 0.3s ease-in-out;\n}\n.bilibili-live-player:hover .bilibili-live-player-enter-tips {\n  opacity: 0.9;\n}\n.bilibili-live-player-enter-tips {\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  cursor: pointer;\n  text-align: center;\n  color: #fff;\n  font-size: 14px;\n  line-height: 30px;\n  background: #555555;\n  padding: 5px 0px;\n  width: 140px;\n  height: 30px;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 16;\n}\n.bilibili-live-player-video-logo {\n  width: 122px;\n  height: 43px;\n  position: absolute;\n  left: 10px;\n  top: 10px;\n  background: url('+u+") no-repeat 0 0;\n  z-index: 18;\n  pointer-events: none;\n  opacity: 0.4;\n}\n.bilibili-live-player-video-pause {\n  width: 80px;\n  height: 80px;\n  position: absolute;\n  bottom: -5px;\n  right: 10px;\n  pointer-events: none;\n  z-index: 8;\n  background: url("+h+") no-repeat 0 0;\n  background-size: 80px 80px;\n  display: none;\n  opacity: 0.5;\n}\n.bilibili-live-player-video-area {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 15;\n}\n.bilibili-live-player-video {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background: #000;\n  z-index: 1;\n}\n.bilibili-live-player-video-operable-container {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: -1;\n}\n.bilibili-live-player-video video {\n  width: 100%;\n  height: 100%;\n}\n.bilibili-live-player-video-block {\n  position: absolute;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  display: none;\n  background: rgba(0, 0, 0, 0.7);\n  padding: 15px;\n  width: 270px;\n  right: 36px;\n  bottom: 46px;\n  z-index: 18;\n}\n.bilibili-live-player-video-block:after {\n  content: '';\n  position: absolute;\n  border: 8px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.7);\n  bottom: -16px;\n  right: 102px;\n}\n.bilibili-live-player-video-controller {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  z-index: 16;\n}\n.bilibili-live-player-loading-panel {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 19;\n  background: #fff;\n}\n.bilibili-live-player-ending-panel {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n  background: #000;\n}\n.bilibili-live-player-video-danmaku {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 6;\n  overflow: hidden;\n  left: 0;\n  top: 0;\n  -webkit-mask-size: contain;\n  mask-size: contain;\n  -webkit-mask-repeat: no-repeat;\n  mask-repeat: no-repeat;\n  -webkit-mask-position: center center;\n  mask-position: center center;\n}\n.bilibili-live-player-video-gift {\n  position: absolute;\n  width: 100%;\n  height: 100px;\n  z-index: 17;\n  overflow: hidden;\n}\n.bilibili-live-player.player-state-pause .bilibili-live-player-video-pause {\n  display: block;\n}\n.bilibili-live-player-copy-log-success {\n  background: rgba(0, 0, 0, 0.5);\n  color: #fff;\n  padding: 8px 14px 10px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  z-index: 20;\n  font-size: 13px;\n  display: inline-block;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  letter-spacing: 2px;\n  opacity: 0;\n  margin-top: 10px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.bilibili-live-player-copy-log-success.bilibili-live-player-active {\n  -webkit-animation: copy-success-show 0.3s ease-in-out forwards;\n  -moz-animation: copy-success-show 0.3s ease-in-out forwards;\n  -ms-animation: copy-success-show 0.3s ease-in-out forwards;\n  -o-animation: copy-success-show 0.3s ease-in-out forwards;\n  animation: copy-success-show 0.3s ease-in-out forwards;\n}\n.bilibili-live-player-video-stream {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 1;\n  transform: none;\n  outline: 0;\n}\n.bilibili-live-player-video-loading-picture {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 16;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.bilibili-live-player-video-loading {\n  position: absolute;\n  top: 0;\n  z-index: 15;\n  bottom: 0;\n  right: 0;\n  left: 0;\n}\n.bilibili-live-player-video-loading .video-loading {\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -20px;\n  margin-top: -20px;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  background: url("+f+') no-repeat 4px 4px;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.bilibili-live-player-video-round-title {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  padding: 0 20px 20px 0;\n  pointer-events: none;\n  z-index: 1;\n  color: #aaa;\n  font-size: 14px;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player-video-round-counter {\n  width: 400px;\n  position: absolute;\n  z-index: 10;\n  pointer-events: none;\n  left: 50%;\n  top: 50%;\n  margin-left: -200px;\n  margin-top: -66px;\n  color: #aaa;\n}\n.bilibili-live-player-video-round-counter p {\n  text-align: center;\n  line-height: 50px;\n  letter-spacing: 3px;\n  font-weight: normal;\n  font-size: 20px;\n}\n.bilibili-live-player-video-round-counter p span.bilibili-live-player-video-round-counter-span {\n  font-size: 50px;\n}\n.bilibili-live-player-video-round-counter p + p {\n  font-size: 30px;\n}\n.bilibili-live-player-video-controller {\n  cursor: default;\n  opacity: 0;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player-video-controller-container {\n  height: 80px;\n  position: relative;\n  background: -webkit-linear-gradient(top, transparent 40%, rgba(0, 0, 0, 0.7));\n  background: -moz-linear-gradient(top, transparent 40%, rgba(0, 0, 0, 0.7));\n  background: -ms-linear-gradient(top, transparent 40%, rgba(0, 0, 0, 0.7));\n  background: linear-gradient(to bottom, transparent 40%, rgba(0, 0, 0, 0.7));\n}\n.bilibili-live-player-video-controller-content {\n  display: block;\n  height: 18px;\n  margin-top: -9px;\n  position: relative;\n  padding: 0 25px;\n  top: 46px;\n}\n.bilibili-live-player-video-controller-left,\n.bilibili-live-player-video-controller-right {\n  display: inline-block;\n  height: 100%;\n}\n.bilibili-live-player-video-controller-right {\n  float: right;\n  display: flex;\n  flex-direction: row;\n}\n.bilibili-live-player-video-controller-btn-item {\n  float: left;\n  height: 100%;\n  min-width: 18px;\n  width: auto;\n  position: relative;\n  display: block;\n  text-align: center;\n  line-height: 18px;\n  margin: 0 8px;\n  vertical-align: middle;\n  color: #fff;\n  font-size: 13px;\n}\n.bilibili-live-player-video-controller-right .bilibili-live-player-video-controller-btn-item {\n  float: none;\n}\n.bilibili-live-player-video-controller-line-option,\n.bilibili-live-player-video-controller-html-tooltip-option {\n  margin: 4px 0;\n}\n.bilibili-live-player-video-controller-line-option.large-option,\n.bilibili-live-player-video-controller-html-tooltip-option.large-option {\n  width: 80px;\n}\n.bilibili-live-player-video-controller-line-option > .blpui-btn.text-btn > span,\n.bilibili-live-player-video-controller-html-tooltip-option > .blpui-btn.text-btn > span {\n  font-size: 12px;\n}\n.bilibili-live-player-video-controller-switch-player-btn .bilibili-live-player-video-controller-html-tooltip-option > .blpui-btn.text-btn > span {\n  width: 100px;\n}\n.bilibili-live-player-video-controller.active {\n  opacity: 1;\n}\n.bilibili-live-player-video-controller-hide-danmaku-container {\n  height: 0;\n  padding: 0;\n  display: block;\n  overflow: hidden;\n  position: absolute;\n  bottom: 30px;\n  width: 120px;\n  left: 50%;\n  margin-left: -75px;\n  background: rgba(0, 0, 0, 0.7);\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n}\n.bilibili-live-player-video-controller-hide-danmaku-container .hide-danmaku-group {\n  margin: 5px 0;\n  width: 100%;\n}\n.bilibili-live-player-video-controller-hide-danmaku-container .hide-danmaku-title {\n  text-align: left;\n  font-size: 12px;\n  color: #aaa;\n}\n.bilibili-live-player-video-controller-hide-danmaku-container .hide-danmaku-content {\n  margin: 10px 0;\n  text-align: left;\n  width: 120px;\n}\n.bilibili-live-player-video-controller-hide-danmaku-container .hide-danmaku-content.danmaku-mask-checkbox,\n.bilibili-live-player-video-controller-hide-danmaku-container .hide-danmaku-content.danmaku-density-checkbox {\n  margin: 15px 0 0 ;\n}\n.bilibili-live-player-video-controller-hide-danmaku-container .hide-danmaku-content .bilibili-live-player-mask-span:after {\n  content: " ";\n  border: 3px solid #fd9ccc;\n  border-radius: 3px;\n  position: absolute;\n  z-index: 1000;\n  right: 0%;\n  margin-right: -12px;\n  margin-top: 5px;\n}\n.bilibili-live-player-video-controller-hide-danmaku-container:after {\n  content: \'\';\n  position: absolute;\n  border: 8px solid transparent;\n  bottom: -16px;\n  left: 50%;\n  margin-left: -8px;\n  border-top-color: rgba(0, 0, 0, 0.7);\n}\n.bilibili-live-player-video-controller .bilibili-live-player-mask-tips:after {\n  content: " ";\n  border: 3px solid #fd9ccc;\n  border-radius: 3px;\n  position: absolute;\n  z-index: 1000;\n  right: 0%;\n  margin-right: -4px;\n  margin-top: -4px;\n}\n.bilibili-live-player-video-controller-hide-danmaku-btn:hover .bilibili-live-player-video-controller-hide-danmaku-container {\n  height: auto;\n  overflow: visible;\n  padding: 10px 15px;\n}\n.bilibili-live-player-video-controller-toast-info,\n.bilibili-live-player-video-controller-switch-quality-info {\n  color: #fff;\n  background: rgba(0, 0, 0, 0.7);\n  font-size: 13px;\n  width: 180px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -20px 0 0 -90px;\n  -webkit-border-radius: 6px;\n  -moz-border-radius: 6px;\n  border-radius: 6px;\n  z-index: 18;\n  cursor: default;\n}\n.bilibili-live-player-video-controller-enter-the-room-btn {\n  display: none;\n}\n.bilibili-live-player-video-controller-right .bilibili-live-player-video-controller-btn-item:last-child .bilibili-live-player-video-controller-hide-danmaku-container {\n  left: auto;\n  right: -6px;\n}\n.bilibili-live-player-video-controller-right .bilibili-live-player-video-controller-btn-item:last-child .bilibili-live-player-video-controller-hide-danmaku-container:after {\n  left: auto;\n  right: 6px;\n}\n.bilibili-live-player-video-controller-container[data-enable-enter-the-room="false"] .bilibili-live-player-video-controller-content .bilibili-live-player-video-controller-enter-the-room-btn {\n  display: none;\n}\n.bilibili-live-player-video-controller-container[data-enable-switch-player="false"] .bilibili-live-player-video-controller-switch-player-btn {\n  display: none;\n}\n.bilibili-live-player-video-controller-container[data-enable-switch-quality="false"] .bilibili-live-player-video-controller-switch-quality-btn {\n  display: none;\n}\n.bilibili-live-player-video-controller-container[data-enable-switch-line="false"] .bilibili-live-player-video-controller-switch-line-btn {\n  display: none;\n}\n.bilibili-live-player-video-controller-container[data-enable-reload="false"] .bilibili-live-player-video-controller-reload-btn {\n  display: none;\n}\n.bilibili-live-player-video-controller-container[data-enable-danmaku="false"] .bilibili-live-player-video-controller-hide-danmaku-btn {\n  display: none;\n}\n.bilibili-live-player-video-controller-container[data-enable-fullscreen="false"] .bilibili-live-player-video-controller-fullscreen-btn {\n  display: none;\n}\n.context-menu-a .blp-icon-check {\n  width: 12px;\n  height: 12px;\n  margin-right: 6px;\n  display: inline-block;\n  position: relative;\n  top: 1px;\n  margin-left: 4px;\n  pointer-events: none;\n}\n.context-menu-a.active .blp-icon-check:before {\n  content: \'\';\n  position: absolute;\n  left: 0;\n  top: 0;\n  border: 6px solid transparent;\n  border-left-color: #eee;\n  pointer-events: none;\n}\n.context-menu-a.active[data-disabled="1"] .blp-icon-check:before {\n  border-left-color: #aaa;\n}\n.context-menu-a .blp-icon-show,\n.context-menu-a .blp-icon-copy,\n.context-menu-a .blp-icon-download {\n  width: 12px;\n  height: 12px;\n  margin-right: 6px;\n  display: inline-block;\n  position: relative;\n  top: 2px;\n  margin-left: 2px;\n  pointer-events: none;\n}\n.context-menu-a .blp-icon-show:before,\n.context-menu-a .blp-icon-copy:before,\n.context-menu-a .blp-icon-download:before,\n.context-menu-a .blp-icon-show:after,\n.context-menu-a .blp-icon-copy:after,\n.context-menu-a .blp-icon-download:after {\n  content: \'\';\n  position: absolute;\n}\n.context-menu-a .blp-icon-show:before {\n  width: 14px;\n  height: 10px;\n  -webkit-border-radius: 14px / 10px;\n  -moz-border-radius: 14px / 10px;\n  border-radius: 14px / 10px;\n  background: #aaa;\n  top: 1px;\n  left: -1px;\n}\n.context-menu-a .blp-icon-show:after {\n  width: 6px;\n  height: 10px;\n  -webkit-border-radius: 6px / 10px;\n  -moz-border-radius: 6px / 10px;\n  border-radius: 6px / 10px;\n  background: #777777;\n  left: 3px;\n  top: 1px;\n}\n.context-menu-a .blp-icon-copy:before,\n.context-menu-a .blp-icon-copy:after {\n  width: 5px;\n  height: 5px;\n  border: 2px solid #aaa;\n  top: 0;\n  left: 0;\n  -webkit-border-radius: 1px;\n  -moz-border-radius: 1px;\n  border-radius: 1px;\n}\n.context-menu-a .blp-icon-copy:after {\n  top: 4px;\n  left: 4px;\n  background: #1c1c1c;\n  background: rgba(28, 28, 28, 0.8);\n  -webkit-box-shadow: -1px 0 0 rgba(28, 28, 28, 0.8), 0 -1px 0 rgba(28, 28, 28, 0.8);\n  -moz-box-shadow: -1px 0 0 rgba(28, 28, 28, 0.8), 0 -1px 0 rgba(28, 28, 28, 0.8);\n  box-shadow: -1px 0 0 rgba(28, 28, 28, 0.8), 0 -1px 0 rgba(28, 28, 28, 0.8);\n}\n.context-menu-a .blp-icon-download:before {\n  width: 6px;\n  height: 8px;\n  background: #aaa;\n  top: 1px;\n  left: 3px;\n  -webkit-border-radius: 1px;\n  -moz-border-radius: 1px;\n  border-radius: 1px;\n}\n.context-menu-a .blp-icon-download:after {\n  border: 5px solid transparent;\n  border-top-color: #aaa;\n  top: 7px;\n  left: 1px;\n}\n.bilibili-live-player-loading-panel-container {\n  position: absolute;\n  width: 220px;\n  height: 90px;\n  top: 50%;\n  left: 50%;\n  margin-top: -45px;\n  margin-left: -110px;\n}\n.bilibili-live-player-loading-panel-img {\n  width: 90px;\n  height: 90px;\n  position: absolute;\n  background: url('+g+') no-repeat 0 0;\n  top: 0;\n  left: 65px;\n}\n.bilibili-live-player-loading-panel-percent {\n  font-size: 26px;\n  line-height: 30px;\n  width: 100%;\n  top: 90px;\n  text-align: center;\n  position: relative;\n  color: #222;\n}\n.bilibili-live-player-loading-panel-sprite {\n  width: 301px;\n  height: 301px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -150px;\n  margin-left: -150px;\n  overflow: hidden;\n  background-repeat: no-repeat;\n  background-image: url("https://player.bilibili.com/live/html5/images/loading.png");\n  animation: run 1s steps(1, end) infinite;\n  -webkit-animation: run 1s steps(1, end) infinite;\n}\n@keyframes run {\n  0% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -608px;\n  }\n  17% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -305px;\n  }\n  34% {\n    width: 301px;\n    height: 301px;\n    background-position: -608px -2px;\n  }\n  51% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -2px;\n  }\n  68% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -608px;\n  }\n  85% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -305px;\n  }\n  100% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -2px;\n  }\n}\n@-webkit-keyframes run {\n  0% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -608px;\n  }\n  17% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -305px;\n  }\n  34% {\n    width: 301px;\n    height: 301px;\n    background-position: -608px -2px;\n  }\n  51% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -2px;\n  }\n  68% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -608px;\n  }\n  85% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -305px;\n  }\n  100% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -2px;\n  }\n}\n.bilibili-live-player-ending-panel {\n  color: #fff;\n}\n.bilibili-live-player-ending-panel-container {\n  width: 606px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate3d(-50%, -50%, 0);\n  -moz-transform: translate3d(-50%, -50%, 0);\n  -ms-transform: translate3d(-50%, -50%, 0);\n  -o-transform: translate3d(-50%, -50%, 0);\n  transform: translate3d(-50%, -50%, 0);\n}\n.bilibili-live-player-ending-panel-tips {\n  font-size: 28px;\n  color: #aaa;\n  text-align: center;\n  line-height: 50px;\n  height: 50px;\n  margin-bottom: 20px;\n}\n.bilibili-live-player-ending-panel-func {\n  height: 30px;\n  margin: 10px 0 30px;\n  text-align: center;\n}\n.bilibili-live-player-ending-panel-func-btn {\n  width: 120px;\n  height: 100%;\n  display: inline-block;\n  margin: 0 10px;\n}\n.bilibili-live-player-ending-panel-recommend {\n  height: 236px;\n  overflow: hidden;\n}\n.bilibili-live-player-ending-panel-recommend-card {\n  width: 192px;\n  height: 108px;\n  -webkit-border-radius: 2px;\n  -moz-border-radius: 2px;\n  border-radius: 2px;\n  float: left;\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  margin: 5px;\n}\n.bilibili-live-player-ending-panel-recommend-card:hover .bilibili-live-player-ending-panel-recommend-card-content {\n  bottom: 0;\n}\n.bilibili-live-player-ending-panel-recommend-card:link,\n.bilibili-live-player-ending-panel-recommend-card:visited,\n.bilibili-live-player-ending-panel-recommend-card:hover,\n.bilibili-live-player-ending-panel-recommend-card:active,\n.bilibili-live-player-ending-panel-recommend-card:focus {\n  color: #444;\n  font-size: 12px;\n}\n.bilibili-live-player-ending-panel-recommend-card-pic {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n.bilibili-live-player-ending-panel-recommend-card-pic-label {\n  position: absolute;\n  top: 4px;\n  right: 5px;\n  height: 16px;\n  line-height: 16px;\n  width: 48px;\n  padding: 1px 4px;\n  color: #fff;\n  -webkit-border-radius: 2px;\n  -moz-border-radius: 2px;\n  border-radius: 2px;\n}\n.bilibili-live-player-ending-panel-recommend-card-pic-recommend {\n  background: #FB7272;\n}\n.bilibili-live-player-ending-panel-recommend-card-pic-record {\n  background: #4fc1e9;\n}\n.bilibili-live-player-ending-panel-recommend-card-pic img {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n.bilibili-live-player-ending-panel-recommend-card-mask {\n  background-repeat: no-repeat;\n  background-position: 50px 50px;\n  position: absolute;\n  z-index: 2;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  -webkit-border-radius: 6px;\n  -moz-border-radius: 6px;\n  border-radius: 6px;\n  -webkit-transition: background 0.1s ease-in-out;\n  -moz-transition: background 0.1s ease-in-out;\n  -ms-transition: background 0.1s ease-in-out;\n  -o-transition: background 0.1s ease-in-out;\n  transition: background 0.1s ease-in-out;\n}\n.bilibili-live-player-ending-panel-recommend-card-content {\n  width: 100%;\n  position: absolute;\n  height: 50px;\n  bottom: -20px;\n  z-index: 3;\n  background-image: linear-gradient(-180deg, rgba(0, 0, 0, 0) 0%, #000000 100%);\n  color: #fff;\n  -webkit-transition: bottom 0.3s ease-in-out;\n  -moz-transition: bottom 0.3s ease-in-out;\n  -ms-transition: bottom 0.3s ease-in-out;\n  -o-transition: bottom 0.3s ease-in-out;\n  transition: bottom 0.3s ease-in-out;\n}\n.bilibili-live-player-ending-panel-recommend-card-user,\n.bilibili-live-player-ending-panel-recommend-card-info {\n  height: 16px;\n  position: relative;\n  line-height: 16px;\n}\n.bilibili-live-player-ending-panel-recommend-card-user {\n  margin-top: 8px;\n}\n.bilibili-live-player-ending-panel-recommend-card-face {\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  left: 6px;\n  border: 1px solid #fff;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  top: -20px;\n  overflow: hidden;\n}\n.bilibili-live-player-ending-panel-recommend-card-face img {\n  width: 100%;\n}\n.bilibili-live-player-ending-panel-recommend-card-title {\n  padding: 0 8px ;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.bilibili-live-player-ending-panel-recommend-card-info {\n  padding: 6px 8px;\n  color: #969696;\n}\n.bilibili-live-player-ending-panel-recommend-card-uname,\n.bilibili-live-player-ending-panel-recommend-card-online {\n  float: left;\n}\n.bilibili-live-player-ending-panel-recommend-card-uname .bilibili-live-player-ending-panel-recommend-card-icon,\n.bilibili-live-player-ending-panel-recommend-card-online .bilibili-live-player-ending-panel-recommend-card-icon {\n  display: inline-block;\n  height: 12px;\n  margin-right: 5px;\n  top: 0;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  width: 100%;\n}\n.bilibili-live-player-ending-panel-recommend-card-uname .bilibili-live-player-ending-panel-recommend-card-icon:before,\n.bilibili-live-player-ending-panel-recommend-card-online .bilibili-live-player-ending-panel-recommend-card-icon:before {\n  margin-right: 4px;\n}\n.bilibili-live-player-ending-panel-recommend-card-uname {\n  width: 60%;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.bilibili-live-player-ending-panel-recommend-card-online {\n  float: right;\n}\n.bilibili-live-player-ending-panel-info {\n  display: none;\n}\n@media (min-width: 1200px) {\n  .bilibili-live-player[data-player-state="web-fullscreen"] .bilibili-live-player-ending-panel-container,\n  .bilibili-live-player[data-player-state="fullscreen"] .bilibili-live-player-ending-panel-container {\n    width: 808px;\n  }\n}\n.bilibili-live-player-error-panel {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  z-index: 18;\n  background: #000;\n  cursor: default;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-message {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  max-width: 80%;\n  display: inline-block;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  font-size: 16px;\n  color: #eee;\n  line-height: 24px;\n  text-align: center;\n  padding: 10px;\n  cursor: default;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-operation {\n  display: block;\n  font-size: 13px;\n  color: #fff;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect {\n  display: inline-block;\n  position: relative;\n  margin: 0 3px;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload:link,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect:link,\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload:visited,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect:visited,\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload:active,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect:active,\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload:focus,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect:focus {\n  color: #fd9ccc;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload:hover,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect:hover {\n  color: #fda6d2;\n}\n.bilibili-live-player-error-panel[data-error-type="message"] .bilibili-live-player-error-message {\n  display: block;\n}\n.bilibili-live-player-error-panel[data-error-type="message"] .bilibili-live-player-error-image {\n  display: none;\n}\n.bilibili-live-player-error-panel[data-error-type="image"] .bilibili-live-player-error-message {\n  display: none;\n}\n.bilibili-live-player-error-panel[data-error-type="image"] .bilibili-live-player-error-image {\n  display: block;\n  width: 384px;\n  height: 274px;\n  background: url(\'https://s1.hdslb.com/bfs/static/blive/live-assets/player/libs/images/reload.png\') no-repeat 0 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-left: -192px;\n  margin-top: -147px;\n}\n.bilibili-live-player-forbidden-panel {\n  position: absolute;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: #f5f5f5;\n}\n.bilibili-live-player-forbidden-panel-content {\n  width: 480px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.bilibili-live-player-forbidden-panel-image {\n  width: 300px;\n  height: 270px;\n  margin: 0 auto 20px;\n  background: url(\'https://static.hdslb.com/live-static/swf/resource/shieldIP.png\') no-repeat 0 0;\n  background-size: 300px 270px;\n}\n.bilibili-live-player-forbidden-panel-text {\n  margin: 0;\n  line-height: 30px;\n  text-align: center;\n  color: #666;\n  font-size: 14px;\n}\n.bilibili-live-player-forbidden-panel-mail:link,\n.bilibili-live-player-forbidden-panel-mail:visited,\n.bilibili-live-player-forbidden-panel-mail:active,\n.bilibili-live-player-forbidden-panel-mail:hover {\n  color: #23ADE5;\n  text-decoration: underline;\n}\n.bilibili-live-player-gfs-staple {\n  position: relative;\n  text-align: right;\n  background-color: #191919;\n  padding-right: 20px;\n}\n.bilibili-live-player-gfs-staple a {\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.bilibili-live-player-gfs-group {\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 10px;\n  font-size: 12px;\n}\n.bilibili-live-player-gfs-gossip {\n  position: relative;\n  margin-right: 16px;\n}\n.bilibili-live-player-gfs-gossip a,\n.bilibili-live-player-gfs-gift a {\n  margin: 3px;\n  width: 34px;\n  height: 34px;\n  border-radius: 50%;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n  overflow: visible;\n}\n.bilibili-live-player-gfs-package {\n  position: relative;\n  margin-left: 24px;\n  margin-right: 24px;\n  color: #fff;\n}\n.bilibili-live-player-gfs-package > a {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.bilibili-live-player-gfs-package i {\n  display: inline-block;\n  vertical-align: middle;\n  width: 22px;\n  height: 20px;\n}\n.bilibili-live-player-gfs-package span {\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 6px;\n}\n.bilibili-live-player-gfs-package div {\n  position: absolute;\n  top: 10px;\n  right: -10px;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: #f25d8e;\n  -webkit-animation: splashing cubic-bezier(0.22, 0.58, 0.12, 0.98) 3s infinite;\n  -moz-animation: splashing cubic-bezier(0.22, 0.58, 0.12, 0.98) 3s infinite;\n  -ms-animation: splashing cubic-bezier(0.22, 0.58, 0.12, 0.98) 3s infinite;\n  -o-animation: splashing cubic-bezier(0.22, 0.58, 0.12, 0.98) 3s infinite;\n  animation: splashing cubic-bezier(0.22, 0.58, 0.12, 0.98) 3s infinite;\n}\n.bilibili-live-player-gfs-pword {\n  position: relative;\n  background: url('+_+") no-repeat center;\n  background-size: contain;\n}\n.bilibili-live-player-gfs-emoji {\n  position: relative;\n  background: url("+b+') no-repeat center;\n  background-size: contain;\n}\n.bilibili-live-player-gfs-float {\n  position: absolute;\n}\n.bilibili-live-player-gfs-pword-panel,\n.bilibili-live-player-gfs-emoji-panel {\n  position: absolute;\n  bottom: 44px;\n  font-size: 13px;\n  text-align: left;\n  border-radius: 5px;\n  box-shadow: 0 0 2em 0.1em rgba(0, 0, 0, 0.15);\n  background-color: #fff;\n  z-index: 99;\n  -webkit-animation: move-in-left cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -moz-animation: move-in-left cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -ms-animation: move-in-left cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -o-animation: move-in-left cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  animation: move-in-left cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n}\n.bilibili-live-player-gfs-pword-panel a,\n.bilibili-live-player-gfs-emoji-panel a {\n  margin: 0;\n  width: auto;\n  height: auto;\n  line-height: 17px;\n  -webkit-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -moz-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -ms-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -o-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n}\n.bilibili-live-player-gfs-pword-panel a:hover,\n.bilibili-live-player-gfs-emoji-panel a:hover {\n  color: #4fc1e9;\n}\n.bilibili-live-player-gfs-pword-panel a:active,\n.bilibili-live-player-gfs-emoji-panel a:active {\n  border-radius: 5px;\n  color: #fff;\n  background-color: #4fc1e9;\n  -webkit-transition: none;\n  -moz-transition: none;\n  -ms-transition: none;\n  -o-transition: none;\n  transition: none;\n}\n.bilibili-live-player-gfs-pword-panel {\n  left: -77px;\n  width: 176px;\n  height: 200px;\n  padding: 10px;\n  overflow: hidden;\n}\n.bilibili-live-player-gfs-pword-wrap {\n  width: 170px;\n  height: auto;\n}\n.bilibili-live-player-gfs-pword-wrap a {\n  display: block;\n  padding: 4px 5px;\n  border-bottom: 1px solid #ddd;\n  border-radius: 0;\n}\n.bilibili-live-player-gfs-emoji-panel {\n  left: -24px;\n  padding: 10px;\n  width: 340px;\n}\n.bilibili-live-player-gfs-emoji-panel a {\n  padding: 3px 5px;\n  border-radius: 5px;\n}\n.bilibili-live-player-gfs-give-float {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.4);\n  z-index: 5000;\n}\n.bilibili-live-player-gfs-give-wrap {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  padding: 20px;\n  width: 240px;\n  height: 255px;\n  font-size: 12px;\n  border-radius: 5px;\n  background-color: #fff;\n  box-shadow: 0 0 5em 0.5em rgba(0, 0, 0, 0.2);\n  -webkit-animation: move-in-bottom cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -moz-animation: move-in-bottom cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -ms-animation: move-in-bottom cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -o-animation: move-in-bottom cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  animation: move-in-bottom cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n}\n.bilibili-live-player-gfs-give-wrap.animate_scale-out {\n  -webkit-animation: scale-out cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s forwards;\n  -moz-animation: scale-out cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s forwards;\n  -ms-animation: scale-out cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s forwards;\n  -o-animation: scale-out cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s forwards;\n  animation: scale-out cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s forwards;\n}\n.bilibili-live-player-gfs-give-wrap h2 {\n  margin-top: 0;\n  margin-bottom: 20px;\n  font-size: 20px;\n  font-weight: normal;\n  color: #4fc1e9;\n}\n.bilibili-live-player-gfs-give-close {\n  position: absolute;\n  right: -20px;\n  top: -20px;\n  width: 30px;\n  height: 30px;\n  border: 5px solid #fff;\n  border-radius: 50%;\n  cursor: pointer;\n  background: #4fc1e9 url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAIAAAC0tAIdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM1MDg4N0Q5QjhERDExRTU5MUQyRjM4MDgzOThGRUI4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM1MDg4N0RBQjhERDExRTU5MUQyRjM4MDgzOThGRUI4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzUwODg3RDdCOEREMTFFNTkxRDJGMzgwODM5OEZFQjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzUwODg3RDhCOEREMTFFNTkxRDJGMzgwODM5OEZFQjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz60gZGeAAABx0lEQVR42mySSy8DURzFZ27nUZ2Z1qMijXhXsLBh08TCRtjZICTCSmLFgk/hAyC2oguRiCDCRuKRsKqIsCjxVtKiZDrTTjudcSbTNEonmcW998w5//ObS8+GPmZaPR6ObD6rqw8K9e+ZaJJ6fM6zz/Tc1TdRdVMzTMFB91e7+nwlf6Sj9UKvr4QndMYwsSSRZHYxLD8ousDQQ7VCeymblwYqeEg5QuF07dGKJXjDcgYLWTcreDJYKzgdNDZrXI6ResHDknfNWL5NPKnZnBrPcUzbjagZg2ov5Sb9EnaG68Q6gUkZ5sazEoqnbRmTzw3eK17e0V3l7Kp0ulmCzzDpSUzbfknmNeR3p6Ub+eIrzRKqs5zDuI+Kvv5UQKlAncqa+2+phG7VRw2Uscctru4o48YaRImxWooMDSB24yJqQBhvFL08gethFDFUm5sbqHEVUUM61eIBBEU3V+4SC9fy5bdVAPagXqBG3IRfapYYENyJqHuvSTgH7xQEgDeowyunhnS6xQ1eiD6IJsHRPsAv23pRwRuB8LILEFyagNfKOoqm5sPy7ylBGrwBCF7jDaKlxkI3qNN3DbD/X0BsnsfTuFEssbx/BBgAyyDFMrTdG4YAAAAASUVORK5CYII=") center no-repeat;\n  -webkit-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.3s;\n  -moz-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.3s;\n  -ms-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.3s;\n  -o-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.3s;\n  transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.3s;\n  z-index: 200;\n}\n.bilibili-live-player-gfs-give-close:hover {\n  -webkit-transform: rotate(180deg) scale(1.1);\n  -moz-transform: rotate(180deg) scale(1.1);\n  -ms-transform: rotate(180deg) scale(1.1);\n  -o-transform: rotate(180deg) scale(1.1);\n}\n.bilibili-live-player-gfs-give-gif {\n  float: left;\n  margin-right: 15px;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background-size: cover;\n}\n.bilibili-live-player-gfs-give-info {\n  float: left;\n}\n.bilibili-live-player-gfs-give-name {\n  margin-bottom: 15px;\n  font-size: 15px;\n}\n.bilibili-live-player-gfs-give-cost > div {\n  float: left;\n  margin-right: 10px;\n}\n.bilibili-live-player-gfs-give-cost i {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 5px;\n  width: 20px;\n  height: 20px;\n  background: url("https://static.hdslb.com/live-static/common/images/live-icon/live-icon.png") no-repeat;\n}\n.bilibili-live-player-gfs-give-cost span {\n  display: inline-block;\n  vertical-align: middle;\n}\n.bilibili-live-player-gfs-give-cost-gold i {\n  background-position: -80px 0;\n}\n.bilibili-live-player-gfs-give-cost-silver i {\n  background-position: -100px 0;\n}\n.bilibili-live-player-gfs-give-type {\n  display: inline-block;\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n.bilibili-live-player-gfs-give-type input {\n  margin: 0 5px;\n  display: inline-block;\n  vertical-align: middle;\n}\n.bilibili-live-player-gfs-give-number {\n  margin-bottom: 10px;\n  text-align: center;\n}\n.bilibili-live-player-gfs-give-number span {\n  display: inline-block;\n  margin: 5px 10px;\n  padding: 4px 10px;\n  width: 35px;\n  border: 1px solid #aaa;\n  border-radius: 5px;\n  cursor: pointer;\n}\n.bilibili-live-player-gfs-give-number span:hover {\n  border-color: #4fc1e9;\n}\n.bilibili-live-player-gfs-give-number span:active {\n  color: #fff;\n  border-color: #4fc1e9;\n  background-color: #4fc1e9;\n}\n.bilibili-live-player-gfs-give-counter {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 12px;\n  padding: 2px 8px;\n  width: 130px;\n  height: 25px;\n  border: 1px solid #aaa;\n  border-radius: 5px;\n  background-color: #fff;\n}\n.bilibili-live-player-gfs-give-counter:focus {\n  border-color: #4fc1e9;\n}\n.bilibili-live-player-gfs-give-confirm {\n  display: inline-block;\n  vertical-align: middle;\n  padding: 0 20px;\n  height: 30px;\n  line-height: 30px;\n  font-size: 12px;\n  font-family: "微软雅黑", sans-serif;\n  border: none;\n  border-radius: 5px;\n  overflow: visible;\n  color: #fff;\n  background-color: #4fc1e9;\n  box-sizing: border-box;\n  cursor: pointer;\n  -webkit-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -moz-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -ms-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -o-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n}\n.bilibili-live-player-gfs-give-confirm:hover {\n  background-color: #61c7eb;\n}\n.bilibili-live-player-gfs-message-panel {\n  position: absolute;\n  right: 0;\n  bottom: 20%;\n  max-height: 50%;\n  overflow: hidden;\n  z-index: 5100;\n}\n.bilibili-live-player-gfs-message-panel span {\n  display: block;\n  position: relative;\n  right: 0;\n  margin-top: 3px;\n  padding: 1em 1.5em;\n  border-radius: 3px 0 0 3px;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.5);\n  -webkit-transition: right 0.5s ease-in-out;\n  -moz-transition: right 0.5s ease-in-out;\n  -ms-transition: right 0.5s ease-in-out;\n  -o-transition: right 0.5s ease-in-out;\n  transition: right 0.5s ease-in-out;\n}\n.bilibili-live-player-gfs-message-panel span.animate_move-out {\n  right: -100%;\n}\n.bilibili-live-player-danmaku-gift {\n  display: inline-block;\n}\n.bilibili-live-player-danmaku-gift > span {\n  display: inline-block;\n  background: no-repeat 0 0;\n  background-size: 100% 100%;\n}\n.bilibili-live-player-danmaku-gift .gift-danmaku-2 {\n  height: 35px;\n  width: 23px;\n  background-image: url('+m+");\n}\n.bilibili-live-player-danmaku-gift .gift-danmaku-3 {\n  height: 35px;\n  width: 23px;\n  background-image: url("+E+");\n}\n.bilibili-live-player-danmaku-gift .gift-danmaku-6 {\n  height: 35px;\n  width: 23px;\n  background-image: url("+y+');\n}\n.bilibili-live-player-video-block-container {\n  color: #fff;\n  font-size: 12px;\n}\n.bilibili-live-player-video-block-container .video-block-header {\n  height: 20px;\n  font-size: 14px;\n  position: relative;\n}\n.bilibili-live-player-video-block-container .video-block-header-title {\n  color: #aaa;\n}\n.bilibili-live-player-video-block-container .video-block-header-close {\n  position: absolute;\n  display: inline-block;\n  right: 0;\n  top: 0;\n  cursor: pointer;\n  font-size: 14px;\n  color: #aaa;\n  -webkit-transition: color 0.3s ease-in-out;\n  -moz-transition: color 0.3s ease-in-out;\n  -ms-transition: color 0.3s ease-in-out;\n  -o-transition: color 0.3s ease-in-out;\n  transition: color 0.3s ease-in-out;\n}\n.bilibili-live-player-video-block-container .video-block-header-close:hover {\n  color: #f6f6f6;\n}\n.bilibili-live-player-video-block-container .video-block-footer {\n  height: 24px;\n}\n.bilibili-live-player-video-block-container .video-block-group {\n  position: relative;\n}\n.bilibili-live-player-video-block-container .video-block-title {\n  color: #aaa;\n  height: 20px;\n  line-height: 20px;\n}\n.bilibili-live-player-video-block-container .video-block-content {\n  margin: 10px 0;\n  position: relative;\n}\n.bilibili-live-player-video-block-container .video-block-keyword-input {\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  padding: 4px 6px;\n  background: transparent;\n  color: #fff;\n  height: 24px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 186px;\n  border: 1px solid #aaa;\n  -webkit-transition: box-shadow 0.3s ease-in-out;\n  -moz-transition: box-shadow 0.3s ease-in-out;\n  -ms-transition: box-shadow 0.3s ease-in-out;\n  -o-transition: box-shadow 0.3s ease-in-out;\n  transition: box-shadow 0.3s ease-in-out;\n}\n.bilibili-live-player-video-block-container .video-block-keyword-input:focus {\n  outline: none;\n  -webkit-box-shadow: 0 0 2px #aaa;\n  -moz-box-shadow: 0 0 2px #aaa;\n  box-shadow: 0 0 2px #aaa;\n}\n.bilibili-live-player-video-block-container .video-block-btn {\n  display: inline-block;\n  position: absolute;\n  right: 0;\n  top: 0;\n  height: 24px;\n  background: #4fc1e9;\n  width: 70px;\n  line-height: 24px;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  overflow: hidden;\n  -webkit-transition: background 0.3s ease-in-out;\n  -moz-transition: background 0.3s ease-in-out;\n  -ms-transition: background 0.3s ease-in-out;\n  -o-transition: background 0.3s ease-in-out;\n  transition: background 0.3s ease-in-out;\n}\n.bilibili-live-player-video-block-container .video-block-btn:hover {\n  background: #1a9ecc;\n}\n.bilibili-live-player-video-block-container .video-block-btn .blpui-btn.text-btn {\n  color: #fff;\n}\n.bilibili-live-player-video-block-container .video-block-btn .blpui-btn.text-btn span {\n  font-size: 12px;\n}\n.bilibili-live-player-video-block-container .video-block-btn .blpui-btn.text-btn:hover {\n  color: #fff;\n}\n.bilibili-live-player-video-block-container .video-block-warning-info {\n  color: #e67e22;\n}\n.bilibili-live-player-video-block-container .video-block-select-all {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.bilibili-live-player-video-block-container .video-block-list-container {\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  margin-top: 10px;\n  border: 1px solid #aaa;\n  height: 120px;\n  overflow: hidden;\n  padding: 6px 0;\n  -webkit-transition: box-shadow 0.3s ease-in-out;\n  -moz-transition: box-shadow 0.3s ease-in-out;\n  -ms-transition: box-shadow 0.3s ease-in-out;\n  -o-transition: box-shadow 0.3s ease-in-out;\n  transition: box-shadow 0.3s ease-in-out;\n}\n.bilibili-live-player-video-block-container .video-block-list-container:hover {\n  -webkit-box-shadow: 0 0 2px #aaa;\n  -moz-box-shadow: 0 0 2px #aaa;\n  box-shadow: 0 0 2px #aaa;\n}\n.bilibili-live-player-video-block-container .video-block-list-item {\n  height: 20px;\n  line-height: 20px;\n  position: relative;\n  cursor: pointer;\n  -webkit-transition: background 0.3s ease-in-out;\n  -moz-transition: background 0.3s ease-in-out;\n  -ms-transition: background 0.3s ease-in-out;\n  -o-transition: background 0.3s ease-in-out;\n  transition: background 0.3s ease-in-out;\n}\n.bilibili-live-player-video-block-container .video-block-list-item-text {\n  padding: 0 50px 0 10px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  cursor: pointer;\n  display: block;\n}\n.bilibili-live-player-video-block-container .video-block-list-item-checkbox {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  right: 26px;\n  top: 0;\n}\n.bilibili-live-player-video-block-container .video-block-list-item:hover {\n  background: #444444;\n}\n.bilibili-live-player-video-block-container .video-block-select {\n  display: inline-block;\n  height: 20px;\n  margin-right: 8px;\n  float: left;\n}\n.bilibili-live-player-video-block-container .video-block-select.video-block-time {\n  width: 60px;\n}\n.bilibili-live-player-video-block-container .video-block-select.video-block-level {\n  width: 126px;\n}\n.bilibili-live-player-video-block-container .video-block-info {\n  float: left;\n  margin-top: 10px;\n  color: #f6f6f6;\n}\n.bilibili-live-player-video-block-container .video-block-info .video-block-info-text {\n  margin-right: 10px;\n}\n.bilibili-live-player-video-block-container .video-block-info .video-block-info-text,\n.bilibili-live-player-video-block-container .video-block-info .video-block-info-btn {\n  float: left;\n}\n.bilibili-live-player-video-block-container .video-block-info .video-block-info-btn {\n  height: 12px;\n  line-height: 12px;\n}\n.bilibili-live-player-video-block-container .video-block-info .video-block-info-btn .blpui-btn.text-btn > span {\n  font-size: 12px;\n  color: #4fc1e9;\n}\n.bilibili-live-player-video-block-container .video-block-info .video-block-info-btn:hover .blpui-btn.text-btn > span {\n  color: #1a9ecc;\n}\n.bilibili-live-player-video-block-container .mCSB_inside > .mCSB_container {\n  margin-right: 0 !important;\n}\n.bilibili-live-player-report-msg {\n  color: #4fc1e9;\n  font-size: 12px;\n  line-height: 2;\n}\n.bilibili-live-player-report-uname {\n  font-size: 12px;\n  color: #666;\n  line-height: 2;\n}\n.bilibili-live-player-report-select-input {\n  height: 32px;\n  position: relative;\n  border: 1px solid #e3e8ec;\n  font-size: 12px;\n  background: #fff;\n  cursor: pointer;\n  border-radius: 4px;\n  margin: 10px 0 25px;\n}\n.bilibili-live-player-report-select-wrap {\n  position: absolute;\n  height: 34px;\n  width: 360px;\n}\n.bilibili-live-player-report-select-wrap:hover .bilibili-live-player-report-icon::after {\n  transform-origin: center;\n  transform: rotate(-135deg);\n  transition: transform 0.3s;\n}\n.bilibili-live-player-report-icon {\n  display: inline-block;\n  width: 40px;\n  height: 30px;\n  margin-right: 20px;\n}\n.bilibili-live-player-report-icon::after {\n  display: inline-block;\n  content: " ";\n  height: 6px;\n  width: 6px;\n  border-width: 0 2px 2px 0;\n  border-color: #999999;\n  border-style: solid;\n  transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n  transform-origin: center;\n  transition: transform 0.3s;\n  position: absolute;\n  top: 50%;\n  right: 10px;\n  margin-top: -4px;\n}\n.bilibili-live-player-report-curt {\n  padding-left: 8px;\n  height: 32px;\n  line-height: 32px;\n  color: #646c7a;\n}\n.bilibili-live-player-report-ul {\n  display: none;\n  position: relative;\n  top: -27px;\n  width: 358px;\n  height: 160px;\n  padding: 0;\n  margin: 0;\n  font-size: inherit;\n  border: 1px solid #ddd;\n  border-top: 0;\n  background: #fff;\n  overflow-y: auto;\n  -webkit-box-shadow: 0 1px 2px 0 rgba(105, 115, 133, 0.22);\n  box-shadow: 0 1px 2px 0 rgba(105, 115, 133, 0.22);\n  border-radius: 0 0 4px 4px;\n  z-index: 1;\n  cursor: pointer;\n}\n.bilibili-live-player-report-ul li {\n  padding: 10px 0 10px 8px;\n  color: #999;\n  font-size: 12px;\n  height: 24px;\n  line-height: 24px;\n}\n.bilibili-live-player-report-ul li:hover {\n  background: #eef9fd;\n}\n.bilibili-live-player[data-player-state="web-fullscreen"] .bilibili-live-player-video-block {\n  bottom: 86px;\n}\n.bilibili-live-player[data-player-state="fullscreen"] .bilibili-live-player-video-block {\n  bottom: 86px;\n}\n@media (max-width: 620px) {\n  .bilibili-live-player[data-player-state="fullscreen"] .bilibili-live-player-video-controller-right {\n    display: none;\n  }\n}\n.bilibili-live-player[data-in-operation="true"] .bilibili-live-player-video-operable-container {\n  z-index: 7;\n}\n.bilibili-live-player[data-live-state="block"] .bilibili-live-player-ending-panel,\n.bilibili-live-player[data-live-state="preparing"] .bilibili-live-player-ending-panel,\n.bilibili-live-player[data-live-state="close"] .bilibili-live-player-ending-panel,\n.bilibili-live-player[data-live-state="end"] .bilibili-live-player-ending-panel {\n  z-index: 17;\n}\n.bilibili-live-player[data-live-state="block"] .bilibili-live-player-video-area,\n.bilibili-live-player[data-live-state="preparing"] .bilibili-live-player-video-area,\n.bilibili-live-player[data-live-state="close"] .bilibili-live-player-video-area,\n.bilibili-live-player[data-live-state="end"] .bilibili-live-player-video-area {\n  z-index: auto;\n}\n.bilibili-live-player[data-live-state="block"] .bilibili-live-player-video-operable-container,\n.bilibili-live-player[data-live-state="preparing"] .bilibili-live-player-video-operable-container,\n.bilibili-live-player[data-live-state="close"] .bilibili-live-player-video-operable-container,\n.bilibili-live-player[data-live-state="end"] .bilibili-live-player-video-operable-container {\n  z-index: 21;\n  height: 100px;\n}\n.bilibili-live-player[data-live-state="block"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="preparing"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="close"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="end"] .bilibili-live-player-video-danmaku {\n  z-index: 20;\n  height: 120px;\n}\n.bilibili-live-player[data-live-state="block"] .bilibili-live-player-video-logo,\n.bilibili-live-player[data-live-state="preparing"] .bilibili-live-player-video-logo,\n.bilibili-live-player[data-live-state="close"] .bilibili-live-player-video-logo,\n.bilibili-live-player[data-live-state="end"] .bilibili-live-player-video-logo {\n  z-index: 22;\n}\n.bilibili-live-player[data-live-state="block"][data-mini-type="true"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="preparing"][data-mini-type="true"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="close"][data-mini-type="true"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="end"][data-mini-type="true"] .bilibili-live-player-video-danmaku {\n  display: none;\n}\n.bilibili-live-player[data-live-state="pre-round"] .bilibili-live-player-video-logo,\n.bilibili-live-player[data-live-state="round"] .bilibili-live-player-video-logo {\n  background-image: url('+v+');\n  background-size: 78px 50px;\n  opacity: 0.8;\n  width: 78px;\n  height: 50px;\n}\n.bilibili-live-player[data-live-state="error"] .bilibili-live-player-video-logo {\n  display: none;\n}\n.bilibili-live-player[data-live-state="error"] .bilibili-live-player-video-controller {\n  opacity: 0;\n}\n.bilibili-live-player[data-controller-state="hide"] .bilibili-live-player-video-controller {\n  opacity: 0;\n  -webkit-transform: translate(0, 5px);\n  -moz-transform: translate(0, 5px);\n  -ms-transform: translate(0, 5px);\n  -o-transform: translate(0, 5px);\n  transform: translate(0, 5px);\n}\n.bilibili-live-player[data-controller-state="hide"] .bilibili-live-player-video-round-title {\n  opacity: 1;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player[data-controller-state="hide"] .blp-plugin-tip {\n  display: none;\n}\n.bilibili-live-player[data-controller-state="show"] .bilibili-live-player-video-controller {\n  opacity: 1;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player[data-controller-state="show"] .bilibili-live-player-video-round-title {\n  opacity: 0;\n  -webkit-transform: translate(0, 5px);\n  -moz-transform: translate(0, 5px);\n  -ms-transform: translate(0, 5px);\n  -o-transform: translate(0, 5px);\n  transform: translate(0, 5px);\n}\n.bilibili-live-player[data-cursor-state="hide"][data-player-state="fullscreen"],\n.bilibili-live-player[data-cursor-state="hide"][data-player-state="web-fullscreen"] {\n  cursor: none;\n}\n.bilibili-live-player[data-video-state="playing"] .bilibili-live-player-video-pause {\n  display: none;\n}\n.bilibili-live-player[data-video-state="playing"] .bilibili-live-player-video-loading {\n  display: block;\n}\n.bilibili-live-player[data-video-state="paused"] .bilibili-live-player-video-pause {\n  display: block;\n}\n.bilibili-live-player[data-video-state="paused"] .bilibili-live-player-video-loading {\n  display: none;\n}\n.bilibili-live-player[data-video-loading-state="show"] .bilibili-live-player-video-loading {\n  display: block;\n}\n.bilibili-live-player[data-video-loading-state="hide"] .bilibili-live-player-video-loading {\n  display: none;\n}\n.bilibili-live-player[data-video-logo-state="false"] .bilibili-live-player-video-logo {\n  display: none;\n}\n.bilibili-live-player[data-video-logo-state="true"] .bilibili-live-player-video-logo {\n  display: block;\n}\n.bilibili-live-player[data-video-feedback-state="false"] .bilibili-live-player-video-controller-feedback-btn {\n  display: none;\n}\n.bilibili-live-player[data-video-feedback-state="true"] .bilibili-live-player-video-controller-feedback-btn {\n  display: block;\n}\n.bilibili-live-player[data-video-recommend-state="false"] .bilibili-live-player-ending-panel-recommend {\n  display: none;\n}\n.bilibili-live-player[data-video-recommend-state="true"] .bilibili-live-player-ending-panel-recommend {\n  display: block;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-duration-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-feedback-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-web-fullscreen-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-fullscreen-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-hide-danmaku-container,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-block-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-quality-btn {\n  display: none;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-hide-danmaku-container {\n  width: 0;\n  height: 0;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n.bilibili-live-player[data-player-type="player-home"][data-controller-state="show"] .bilibili-live-player-video-round-title {\n  opacity: 1;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player[data-danmaku-visibility="false"] .bilibili-live-player-video-gift {\n  visibility: hidden;\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-logo,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-pause,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-gift,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-controller,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-event-log-container,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-info-container,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-ending-panel-tips,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-round-title,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-ending-panel-recommend {\n  display: none;\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-ending-panel-container {\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-ending-panel-info {\n  display: block;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  top: 50%;\n  -webkit-transform: translate(0, -50%);\n  -moz-transform: translate(0, -50%);\n  -ms-transform: translate(0, -50%);\n  -o-transform: translate(0, -50%);\n  transform: translate(0, -50%);\n  position: relative;\n  letter-spacing: 1px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-round-counter {\n  width: 100%;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  -webkit-transform: translate(0, -50%);\n  -moz-transform: translate(0, -50%);\n  -ms-transform: translate(0, -50%);\n  -o-transform: translate(0, -50%);\n  transform: translate(0, -50%);\n  margin: 0;\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-round-counter p {\n  font-size: 16px;\n  line-height: 36px;\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-round-counter p span.bilibili-live-player-video-round-counter-span {\n  font-size: 30px;\n}\n.bilibili-live-player[data-player-type="player-activity"] .bilibili-live-player-video-controller-feedback-btn,\n.bilibili-live-player[data-player-type="player-activity"] .bilibili-live-player-video-controller-block-btn,\n.bilibili-live-player[data-player-type="player-activity"] .bilibili-live-player-video-controller-web-fullscreen-btn {\n  display: none;\n}\n.bilibili-live-player[data-player-type="player-activity"] .bilibili-live-player-video-controller-enter-the-room-btn {\n  display: inline-block;\n}\n.bilibili-live-player[data-pre-rendered="true"] .bilibili-live-player-loading-panel {\n  display: none;\n}\n.bilibili-live-player[data-auto-play-state="false"] {\n  cursor: pointer;\n}\n.bilibili-live-player[data-auto-play-state="false"]:after {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n  z-index: 99;\n  cursor: pointer;\n}\n.bilibili-live-player[data-auto-play-state="false"] .bilibili-live-player-video-loading {\n  display: none;\n}\n.bilibili-live-player[data-auto-play-state="false"] .bilibili-live-player-video-danmaku {\n  background: #000;\n  background: rgba(0, 0, 0, 0.2);\n}\n.bilibili-live-player[data-auto-play-state="false"] .bilibili-live-player-video-pause {\n  position: absolute;\n  z-index: 9999;\n  top: 50%;\n  left: 50%;\n  display: block;\n  opacity: 1;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.bilibili-live-player[data-enter-the-room="2"] .bilibili-live-player-enter-tips {\n  display: block;\n  opacity: 0;\n  background: rgba(0, 0, 0, 0.4);\n  border: 1px solid #23ADE5;\n  color: #23ADE5;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.bilibili-live-player[data-enter-the-room="2"]:hover .bilibili-live-player-enter-tips {\n  opacity: 1;\n}\n.bilibili-live-player[data-enter-the-room="2"]:hover .bilibili-live-player-enter-tips:hover {\n  color: #FFF;\n  background: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-enter-tips {\n  background: rgba(0, 0, 0, 0.4);\n  border: 1px solid #23ADE5;\n  color: #23ADE5;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-area {\n  padding-bottom: 48px;\n  box-sizing: border-box;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-danmaku {\n  position: relative;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video {\n  top: -100%;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-pause {\n  bottom: 35px;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-enter-tips {\n  display: block;\n  bottom: 40px;\n  width: 144px;\n  border-radius: 8px;\n  font-size: 16px;\n  height: 56px;\n  line-height: 56px;\n  box-sizing: border-box;\n  padding: 0;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-enter-tips:hover {\n  color: #FFF;\n  background: #23ADE5;\n  opacity: 1;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller {\n  opacity: 1;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-container {\n  height: 48px;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-content {\n  padding: 0 2px 0 10px;\n  top: 15px;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-switch-line-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-switch-quality-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-reload-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-hide-danmaku-btn {\n  display: none;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-enter-the-room-btn {\n  display: inline-block;\n  line-height: normal;\n  position: absolute;\n  right: 0;\n  margin: 0 12px;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-enter-the-room-btn > .blpui-btn {\n  padding: 0 8px;\n  height: 24px;\n  line-height: 24px;\n  margin-top: -3px;\n  background-color: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-left {\n  position: absolute;\n  z-index: 11;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-right {\n  float: none;\n  padding-left: 116px;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-switch-player-btn {\n  display: inline-block;\n}\n.bilibili-live-player[data-player-type="player-home"] .blpui-btn.icon-btn:hover > i {\n  color: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-home"] .blpui-btn.text-btn:hover,\n.bilibili-live-player[data-player-type="player-home"] .blpui-btn.text-btn.active {\n  color: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-home"] .blpui-slider-span.slider-span-active:after {\n  right: 0;\n  background: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-home"] .blpui-slider-span > span {\n  background: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-activity"][data-send-activity="true"] .bilibili-live-player-send-container {\n  z-index: 16;\n  height: 44px;\n  bottom: 0;\n  position: absolute;\n  width: 100%;\n}\n.bilibili-live-player[data-player-type="player-activity"][data-send-activity="true"] .bilibili-live-player-video-danmaku {\n  width: auto;\n  height: auto;\n  right: 0;\n  bottom: 44px;\n}\n.bilibili-live-player[data-player-type="player-activity"][data-send-activity="true"] .bilibili-live-player-video-area {\n  padding-bottom: 44px;\n  box-sizing: border-box;\n}\n.bilibili-live-player[data-player-type="player-activity"][data-send-activity="true"] .bilibili-live-player-video-controller {\n  bottom: 44px;\n}\n.bilibili-live-player-send-container {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 44px;\n  background-color: #191919;\n  text-align: center;\n  z-index: 13;\n}\n.bilibili-live-player-send-container-wrapper {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0 10px;\n  height: 72%;\n  margin-top: 6px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n}\n.bilibili-live-player-send-container-input-not-log-in {\n  width: 100%;\n}\n.bilibili-live-player-send-container-input-not-log-in > span {\n  color: #aaa;\n}\n.bilibili-live-player-send-container-input-not-log-in > a {\n  color: #f25d8e;\n}\n.bilibili-live-player-send-container-input-wrapper {\n  display: flex;\n  flex: 1;\n  height: 100%;\n  align-items: center;\n  padding: 0 5px;\n  background-color: #fff;\n}\n.bilibili-live-player-send-container-input {\n  display: none;\n  width: 100%;\n  border: none;\n  background-color: transparent;\n  font-size: inherit;\n  box-sizing: border-box;\n}\n.bilibili-live-player-send-container-button-wrapper {\n  flex: 0 0 70px;\n  width: 100%;\n  height: 100%;\n  line-height: 35px;\n  color: #fff;\n  background: #4fc1e9;\n  cursor: pointer;\n}\n.blp-plugin-tip {\n  position: absolute;\n  background: #333;\n  border-color: #333;\n  color: #fff;\n  padding: 6px;\n  z-index: 19;\n  font-size: 12px;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  cursor: default;\n}\n.blp-plugin-tip.text-tip {\n  top: -999px;\n  left: -999px;\n  pointer-events: none;\n}\n.blp-plugin-tip.html-tip {\n  bottom: 100%;\n  left: 50%;\n  -webkit-transform: translate3d(-50%, -4px, 0);\n  -moz-transform: translate3d(-50%, -4px, 0);\n  -ms-transform: translate3d(-50%, -4px, 0);\n  -o-transform: translate3d(-50%, -4px, 0);\n  transform: translate3d(-50%, -4px, 0);\n  min-width: 60px;\n  background: rgba(0, 0, 0, 0.7);\n  border-color: rgba(0, 0, 0, 0.7);\n  display: none;\n  line-height: 1.4;\n  -webkit-box-shadow: 0 0 4px #484849;\n  -moz-box-shadow: 0 0 4px #484849;\n  box-shadow: 0 0 4px #484849;\n}\n.blp-plugin-tip.html-tip:after {\n  content: \'\';\n  position: absolute;\n  top: 100%;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n  left: 0;\n}\n.blp-plugin-tip-arrow {\n  width: 6px;\n  height: 3px;\n  background: inherit;\n  -webkit-border-radius: 0 0 8px 8px;\n  -moz-border-radius: 0 0 8px 8px;\n  border-radius: 0 0 8px 8px;\n  position: absolute;\n  bottom: -3px;\n  left: 50%;\n  margin-left: -4px;\n}\n.html-tip-parent:hover .blp-plugin-tip.html-tip {\n  display: block;\n}\n.bilibili-live-player {\n  /*\n  ------------------------------------------------------------------------------------------------------------------------\n  1. BASIC STYLE\n  ------------------------------------------------------------------------------------------------------------------------\n  */\n  /*\n  ------------------------------------------------------------------------------------------------------------------------\n  2. VERTICAL SCROLLBAR\n  y-axis\n  ------------------------------------------------------------------------------------------------------------------------\n  */\n  /* non-visible scrollbar */\n  /* RTL direction/left-side scrollbar */\n  /* scrollbar position: outside */\n  /* RTL direction/left-side scrollbar (scrollbar position: outside) */\n  /*\n  ------------------------------------------------------------------------------------------------------------------------\n  5. TRANSITIONS\n  ------------------------------------------------------------------------------------------------------------------------\n  */\n  /*\n  ------------------------------------------------------------------------------------------------------------------------\n  6. SCROLLBAR COLORS, OPACITY AND BACKGROUNDS\n  ------------------------------------------------------------------------------------------------------------------------\n  */\n  /*\n  ----------------------------------------\n  6.1 THEMES\n  ----------------------------------------\n  */\n  /* default theme ("light") */\n}\n.bilibili-live-player .mCustomScrollbar {\n  -ms-touch-action: pinch-zoom;\n  touch-action: pinch-zoom;\n  /* direct pointer events to js */\n}\n.bilibili-live-player .mCustomScrollbar.mCS_no_scrollbar,\n.bilibili-live-player .mCustomScrollbar.mCS_touch_action {\n  -ms-touch-action: auto;\n  touch-action: auto;\n}\n.bilibili-live-player .mCustomScrollBox {\n  /* contains plugin\'s markup */\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  max-width: 100%;\n  outline: none;\n  direction: ltr;\n}\n.bilibili-live-player .mCSB_container {\n  /* contains the original content */\n  overflow: hidden;\n  width: auto;\n  height: auto;\n}\n.bilibili-live-player .mCSB_inside > .mCSB_container {\n  margin-right: 30px;\n}\n.bilibili-live-player .mCSB_container.mCS_no_scrollbar_y.mCS_y_hidden {\n  margin-right: 0;\n}\n.bilibili-live-player .mCS-dir-rtl > .mCSB_inside > .mCSB_container {\n  /* RTL direction/left-side scrollbar */\n  margin-right: 0;\n  margin-left: 30px;\n}\n.bilibili-live-player .mCS-dir-rtl > .mCSB_inside > .mCSB_container.mCS_no_scrollbar_y.mCS_y_hidden {\n  margin-left: 0;\n}\n.bilibili-live-player .mCSB_scrollTools {\n  /* contains scrollbar markup (draggable element, dragger rail, buttons etc.) */\n  position: absolute;\n  width: 16px;\n  height: auto;\n  left: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n}\n.bilibili-live-player .mCSB_outside + .mCSB_scrollTools {\n  right: -26px;\n}\n.bilibili-live-player .mCS-dir-rtl > .mCSB_inside > .mCSB_scrollTools,\n.bilibili-live-player .mCS-dir-rtl > .mCSB_outside + .mCSB_scrollTools {\n  /* RTL direction/left-side scrollbar */\n  right: auto;\n  left: 0;\n}\n.bilibili-live-player .mCS-dir-rtl > .mCSB_outside + .mCSB_scrollTools {\n  left: -26px;\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_draggerContainer {\n  /* contains the draggable element and dragger rail markup */\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: auto;\n}\n.bilibili-live-player .mCSB_scrollTools a + .mCSB_draggerContainer {\n  margin: 20px 0;\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_draggerRail {\n  width: 2px;\n  height: 100%;\n  margin: 0 auto;\n  -webkit-border-radius: 16px;\n  -moz-border-radius: 16px;\n  border-radius: 16px;\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger {\n  /* the draggable element */\n  cursor: pointer;\n  width: 100%;\n  height: 30px;\n  /* minimum dragger height */\n  z-index: 1;\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar {\n  /* the dragger element */\n  position: relative;\n  width: 4px;\n  height: 100%;\n  margin: 0 auto;\n  -webkit-border-radius: 16px;\n  -moz-border-radius: 16px;\n  border-radius: 16px;\n  text-align: center;\n}\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded .mCSB_dragger_bar,\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_dragger .mCSB_dragger_bar {\n  width: 12px;\n  /* auto-expanded scrollbar */\n}\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail {\n  width: 8px;\n  /* auto-expanded scrollbar */\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonUp,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown {\n  display: block;\n  position: absolute;\n  height: 20px;\n  width: 100%;\n  overflow: hidden;\n  margin: 0 auto;\n  cursor: pointer;\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown {\n  bottom: 0;\n}\n.bilibili-live-player .mCSB_scrollTools,\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonUp,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonLeft,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonRight {\n  -webkit-transition: opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  -moz-transition: opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  -o-transition: opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  transition: opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n}\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger_bar,\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerRail,\n.bilibili-live-player .mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger_bar,\n.bilibili-live-player .mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerRail {\n  -webkit-transition: width 0.2s ease-out 0.2s, height 0.2s ease-out 0.2s, margin-left 0.2s ease-out 0.2s, margin-right 0.2s ease-out 0.2s, margin-top 0.2s ease-out 0.2s, margin-bottom 0.2s ease-out 0.2s, opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  -moz-transition: width 0.2s ease-out 0.2s, height 0.2s ease-out 0.2s, margin-left 0.2s ease-out 0.2s, margin-right 0.2s ease-out 0.2s, margin-top 0.2s ease-out 0.2s, margin-bottom 0.2s ease-out 0.2s, opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  -o-transition: width 0.2s ease-out 0.2s, height 0.2s ease-out 0.2s, margin-left 0.2s ease-out 0.2s, margin-right 0.2s ease-out 0.2s, margin-top 0.2s ease-out 0.2s, margin-bottom 0.2s ease-out 0.2s, opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  transition: width 0.2s ease-out 0.2s, height 0.2s ease-out 0.2s, margin-left 0.2s ease-out 0.2s, margin-right 0.2s ease-out 0.2s, margin-top 0.2s ease-out 0.2s, margin-bottom 0.2s ease-out 0.2s, opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n}\n.bilibili-live-player .mCSB_scrollTools {\n  opacity: 0.75;\n  filter: "alpha(opacity=75)";\n  -ms-filter: "alpha(opacity=75)";\n}\n.bilibili-live-player .mCS-autoHide > .mCustomScrollBox > .mCSB_scrollTools,\n.bilibili-live-player .mCS-autoHide > .mCustomScrollBox ~ .mCSB_scrollTools {\n  opacity: 0;\n  filter: "alpha(opacity=0)";\n  -ms-filter: "alpha(opacity=0)";\n}\n.bilibili-live-player .mCustomScrollbar > .mCustomScrollBox > .mCSB_scrollTools.mCSB_scrollTools_onDrag,\n.bilibili-live-player .mCustomScrollbar > .mCustomScrollBox ~ .mCSB_scrollTools.mCSB_scrollTools_onDrag,\n.bilibili-live-player .mCustomScrollBox:hover > .mCSB_scrollTools,\n.bilibili-live-player .mCustomScrollBox:hover ~ .mCSB_scrollTools,\n.bilibili-live-player .mCS-autoHide:hover > .mCustomScrollBox > .mCSB_scrollTools,\n.bilibili-live-player .mCS-autoHide:hover > .mCustomScrollBox ~ .mCSB_scrollTools {\n  opacity: 1;\n  filter: "alpha(opacity=100)";\n  -ms-filter: "alpha(opacity=100)";\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.75);\n  filter: "alpha(opacity=75)";\n  -ms-filter: "alpha(opacity=75)";\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.85);\n  filter: "alpha(opacity=85)";\n  -ms-filter: "alpha(opacity=85)";\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.9);\n  filter: "alpha(opacity=90)";\n  -ms-filter: "alpha(opacity=90)";\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonUp {\n  background-position: 0 0;\n  /*\n    sprites locations\n    light: 0 0, -16px 0, -32px 0, -48px 0, 0 -72px, -16px -72px, -32px -72px\n    dark: -80px 0, -96px 0, -112px 0, -128px 0, -80px -72px, -96px -72px, -112px -72px\n    */\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown {\n  background-position: 0 -20px;\n  /*\n    sprites locations\n    light: 0 -20px, -16px -20px, -32px -20px, -48px -20px, 0 -92px, -16px -92px, -32px -92px\n    dark: -80px -20px, -96px -20px, -112px -20px, -128px -20px, -80px -92px, -96px -92px, -112 -92px\n    */\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonLeft {\n  background-position: 0 -40px;\n  /*\n    sprites locations\n    light: 0 -40px, -20px -40px, -40px -40px, -60px -40px, 0 -112px, -20px -112px, -40px -112px\n    dark: -80px -40px, -100px -40px, -120px -40px, -140px -40px, -80px -112px, -100px -112px, -120px -112px\n    */\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonRight {\n  background-position: 0 -56px;\n  /*\n    sprites locations\n    light: 0 -56px, -20px -56px, -40px -56px, -60px -56px, 0 -128px, -20px -128px, -40px -128px\n    dark: -80px -56px, -100px -56px, -120px -56px, -140px -56px, -80px -128px, -100px -128px, -120px -128px\n    */\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonUp:hover,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown:hover,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonLeft:hover,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonRight:hover {\n  opacity: 0.75;\n  filter: "alpha(opacity=75)";\n  -ms-filter: "alpha(opacity=75)";\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonUp:active,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown:active,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonLeft:active,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonRight:active {\n  opacity: 0.9;\n  filter: "alpha(opacity=90)";\n  -ms-filter: "alpha(opacity=90)";\n}\n/* theme: "minimal", "minimal-dark" */\n.mCSB_outside + .mCS-minimal.mCSB_scrollTools_vertical,\n.mCSB_outside + .mCS-minimal-dark.mCSB_scrollTools_vertical {\n  right: 0;\n  margin: 12px 0;\n}\n.mCustomScrollBox.mCS-minimal + .mCSB_scrollTools.mCSB_scrollTools_horizontal,\n.mCustomScrollBox.mCS-minimal + .mCSB_scrollTools + .mCSB_scrollTools.mCSB_scrollTools_horizontal,\n.mCustomScrollBox.mCS-minimal-dark + .mCSB_scrollTools.mCSB_scrollTools_horizontal,\n.mCustomScrollBox.mCS-minimal-dark + .mCSB_scrollTools + .mCSB_scrollTools.mCSB_scrollTools_horizontal {\n  bottom: 0;\n  margin: 0 12px;\n}\n/* RTL direction/left-side scrollbar */\n.mCS-dir-rtl > .mCSB_outside + .mCS-minimal.mCSB_scrollTools_vertical,\n.mCS-dir-rtl > .mCSB_outside + .mCS-minimal-dark.mCSB_scrollTools_vertical {\n  left: 0;\n  right: auto;\n}\n.mCS-minimal.mCSB_scrollTools .mCSB_draggerRail,\n.mCS-minimal-dark.mCSB_scrollTools .mCSB_draggerRail {\n  background-color: transparent;\n}\n.mCS-minimal.mCSB_scrollTools_vertical .mCSB_dragger,\n.mCS-minimal-dark.mCSB_scrollTools_vertical .mCSB_dragger {\n  height: 50px;\n}\n.mCS-minimal.mCSB_scrollTools_horizontal .mCSB_dragger,\n.mCS-minimal-dark.mCSB_scrollTools_horizontal .mCSB_dragger {\n  width: 50px;\n}\n.mCS-minimal.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.2);\n  filter: "alpha(opacity=20)";\n  -ms-filter: "alpha(opacity=20)";\n}\n.mCS-minimal.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,\n.mCS-minimal.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.5);\n  filter: "alpha(opacity=50)";\n  -ms-filter: "alpha(opacity=50)";\n}\n/* theme: "minimal-dark" - Custom Defined */\n.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar {\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.2);\n  filter: "alpha(opacity=20)";\n  -ms-filter: "alpha(opacity=20)";\n}\n.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar {\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.5);\n  filter: "alpha(opacity=50)";\n  -ms-filter: "alpha(opacity=50)";\n}\n.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,\n.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar {\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.5);\n  filter: "alpha(opacity=50)";\n  -ms-filter: "alpha(opacity=50)";\n}\n/* ---------------------------------------- */\n.relative {\n  position: relative;\n}\n.bilibili-live-player-context-menu-container {\n  position: absolute;\n  z-index: 99999;\n  min-width: 80px;\n  border: 1px solid #e2e2e2;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 0 5px #e2e2e2;\n  -moz-box-shadow: 0 0 5px #e2e2e2;\n  box-shadow: 0 0 5px #e2e2e2;\n  opacity: 0;\n  text-shadow: 0 0 #e2e2e2;\n  -moz-transition: opacity 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -webkit-transition: opacity 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: opacity 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  left: -9999px;\n  top: -9999px;\n  padding: 3px;\n}\n.bilibili-live-player-context-menu-container > ul {\n  display: block;\n  padding: 0;\n}\n.bilibili-live-player-context-menu-container > ul > li {\n  position: relative;\n}\n.bilibili-live-player-context-menu-container > ul > li a {\n  padding: 3px 20px 3px 10px;\n  display: block;\n  width: 200px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-align: left;\n  height: 22px;\n  line-height: 22px;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  font-size: 12px;\n  white-space: nowrap;\n  color: #444;\n}\n.bilibili-live-player-context-menu-container > ul > li a:hover,\n.bilibili-live-player-context-menu-container > ul > li a.hover {\n  background: #ddd;\n}\n.bilibili-live-player-context-menu-container > ul > li a[data-disabled="1"],\n.bilibili-live-player-context-menu-container > ul > li a.disabled {\n  color: #aaa;\n  cursor: default;\n}\n.bilibili-live-player-context-menu-container > ul > li a[data-disabled="1"]:hover,\n.bilibili-live-player-context-menu-container > ul > li a.disabled:hover {\n  background: transparent;\n}\n.bilibili-live-player-context-menu-container > ul > li a.hidden {\n  display: none;\n}\n.bilibili-live-player-context-menu-container > ul > li.context-menu-division a {\n  height: 1px;\n  width: 210px;\n  background: #e2e2e2;\n  margin: 1px auto;\n  padding: 0 6px;\n}\n.bilibili-live-player-context-menu-container > ul > li.context-menu-title a {\n  cursor: default;\n  font-size: 12px;\n}\n.bilibili-live-player-context-menu-container > ul > li.context-menu-title a:hover {\n  background: transparent;\n}\n.bilibili-live-player-context-menu-container > ul > li > ul {\n  position: absolute;\n  left: 100%;\n  margin-left: -11px;\n  top: -1px;\n  min-width: 80px;\n  z-index: 10;\n  background: #fff;\n  border-radius: 3px;\n  width: 0;\n  height: 0;\n  opacity: 0;\n  color: transparent;\n  overflow: hidden;\n}\n.bilibili-live-player-context-menu-container > ul > li > ul a {\n  width: 120px;\n}\n.bilibili-live-player-context-menu-container > ul > li > ul a .color {\n  display: none;\n  width: 14px;\n  height: 14px;\n  margin-left: 20px;\n  vertical-align: top;\n  margin-top: 4px;\n  border: 1px solid #fff;\n}\n.bilibili-live-player-context-menu-container > ul > li > ul a:hover .color,\n.bilibili-live-player-context-menu-container > ul > li > ul a.hover .color {\n  display: inline-block;\n}\n.bilibili-live-player-context-menu-container > ul > li.context-menu-submenu:hover > a {\n  background: #ddd;\n}\n.bilibili-live-player-context-menu-container > ul > li.context-menu-submenu:hover > ul {\n  -webkit-transition: margin-left 0.3s ease-in-out;\n  -moz-transition: margin-left 0.3s ease-in-out;\n  -ms-transition: margin-left 0.3s ease-in-out;\n  -o-transition: margin-left 0.3s ease-in-out;\n  transition: margin-left 0.3s ease-in-out;\n  width: auto;\n  height: auto;\n  opacity: 1;\n  left: 100%;\n  margin-left: -1px;\n  color: #444;\n  z-index: 11;\n  -webkit-box-shadow: 0 0 5px #e2e2e2;\n  -moz-box-shadow: 0 0 5px #e2e2e2;\n  box-shadow: 0 0 5px #e2e2e2;\n  border: 1px solid #e2e2e2;\n}\n.bilibili-live-player-context-menu-container > ul > li .context-menu-right-arrow {\n  position: absolute;\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  right: 4px;\n  top: 10px;\n}\n.bilibili-live-player-context-menu-container > ul > li .context-menu-right-arrow:before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: 4px solid transparent;\n  border-left-color: #444;\n  opacity: 0.8;\n}\n.bilibili-live-player-context-menu-container.black {\n  background: rgba(28, 28, 28, 0.9);\n  border: none;\n  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n}\n.bilibili-live-player-context-menu-container.black > ul > li a {\n  color: #eee;\n}\n.bilibili-live-player-context-menu-container.black > ul > li a span {\n  color: #eee;\n}\n.bilibili-live-player-context-menu-container.black > ul > li a:hover,\n.bilibili-live-player-context-menu-container.black > ul > li a.hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n.bilibili-live-player-context-menu-container.black > ul > li a[data-disabled="1"],\n.bilibili-live-player-context-menu-container.black > ul > li a.disabled {\n  color: #777;\n  cursor: default;\n}\n.bilibili-live-player-context-menu-container.black > ul > li a[data-disabled="1"]:hover,\n.bilibili-live-player-context-menu-container.black > ul > li a.disabled:hover {\n  background: transparent;\n}\n.bilibili-live-player-context-menu-container.black > ul > li.context-menu-division a {\n  background: #aaa;\n}\n.bilibili-live-player-context-menu-container.black > ul > li.context-menu-title a:hover {\n  background: transparent;\n}\n.bilibili-live-player-context-menu-container.black > ul > li > ul {\n  background: rgba(28, 28, 28, 0.9);\n}\n.bilibili-live-player-context-menu-container.black > ul > li.context-menu-submenu:hover > a {\n  background: rgba(255, 255, 255, 0.1);\n}\n.bilibili-live-player-context-menu-container.black > ul > li.context-menu-submenu:hover > ul {\n  color: #eee;\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n  border: none;\n}\n.bilibili-live-player-context-menu-container.black > ul > li .context-menu-right-arrow:before {\n  border-left-color: #eee;\n}\n.bilibili-live-player-context-menu-container.active {\n  opacity: 1;\n}\n.bilibili-live-player-context-menu-container.left-sub-menu > ul > li > ul {\n  -webkit-transform: translate(-100%, 0);\n  -moz-transform: translate(-100%, 0);\n  -ms-transform: translate(-100%, 0);\n  -o-transform: translate(-100%, 0);\n  transform: translate(-100%, 0);\n  margin-left: 11px;\n  left: 0;\n}\n.bilibili-live-player-context-menu-container.left-sub-menu > ul > li.context-menu-submenu:hover > ul {\n  margin-left: 1px;\n  left: 0;\n}\n.blp-plugin-modal {\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  position: absolute;\n  top: 100px;\n  left: 0;\n  padding: 15px;\n  z-index: 99;\n  display: none;\n  background: #ffffff;\n}\n.blp-plugin-modal.active {\n  display: block;\n}\n.blp-plugin-modal-header {\n  font-size: 16px;\n  color: #4fc1e9;\n  height: 26px;\n  line-height: 20px;\n}\n.blp-plugin-modal-body {\n  margin: 10px 0 ;\n  font-size: 14px;\n}\n.blp-plugin-modal-footer {\n  text-align: center;\n  position: relative;\n}\n.blp-plugin-modal-btn {\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  border: none;\n  display: inline-block;\n  margin: 0 2px;\n  font-size: 14px;\n  padding: 6px 10px;\n  cursor: pointer;\n  outline: none;\n}\n.blp-plugin-modal-btn.submit-btn {\n  color: #fff;\n  background: #4fc1e9;\n}\n.blp-plugin-modal-btn.submit-btn:hover {\n  background: #61c7eb;\n}\n.blp-plugin-modal-btn.cancel-btn {\n  color: #4fc1e9;\n  background: #e0f4fb;\n}\n.blp-plugin-modal-btn.cancel-btn:hover {\n  background: #ceeef9;\n}\n.blp-plugin-modal-close {\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  top: 9px;\n  right: 9px;\n  cursor: pointer;\n  -webkit-border-radius: 100%;\n  -moz-border-radius: 100%;\n  border-radius: 100%;\n  -webkit-transition: transform 0.3s ease-in-out;\n  -moz-transition: transform 0.3s ease-in-out;\n  -ms-transition: transform 0.3s ease-in-out;\n  -o-transition: transform 0.3s ease-in-out;\n  transition: transform 0.3s ease-in-out;\n  display: none;\n}\n.blp-plugin-modal-close:hover {\n  -webkit-transform: rotate(180deg);\n  -moz-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  -o-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.blp-plugin-modal-close:before {\n  content: \'\';\n  position: absolute;\n  width: 22px;\n  height: 22px;\n  left: 4px;\n  top: 4px;\n  -webkit-border-radius: 100%;\n  -moz-border-radius: 100%;\n  border-radius: 100%;\n}\n.blp-plugin-modal-close i {\n  font-size: 14px;\n  color: #999;\n  position: absolute;\n  z-index: 10;\n  text-align: center;\n  top: 9px;\n  left: 9px;\n}\n.blp-plugin-modal-close.active {\n  display: block;\n}\n.bilibili-live-player-video-info-container {\n  background: rgba(28, 28, 28, 0.8);\n  border-radius: 4px;\n  color: #fff;\n  font-family: "Noto Sans CJK SC DemiLight", Roboto, "Segoe UI", Tahoma, Arial, Helvetica, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  left: 10px;\n  position: absolute;\n  top: 10px;\n  z-index: 99;\n  padding: 15px 36px 15px 15px;\n  display: none;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-close {\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  z-index: 49;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-close:link,\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-close:visited,\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-close:hover,\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-close:active {\n  color: #ddd;\n  font-size: 13px;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel {\n  position: relative;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel span {\n  display: inline-block;\n  font-weight: normal;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel .info-line {\n  height: 18px;\n  line-height: 18px;\n  min-width: 290px;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel .info-line .info-title {\n  width: 100px;\n  text-align: right;\n  font-size: 12px;\n  font-weight: 500;\n  margin-right: 10px;\n  text-indent: -99em;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel .info-line .info-graph {\n  margin-right: 10px;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel .info-line .info-graph svg {\n  position: relative;\n  top: 2px;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel .info-line .info-data {\n  font-size: 12px;\n  font-weight: normal;\n}\n.bilibili-live-player-video-info-container.active {\n  display: block;\n}\n.bilibili-live-player-event-log-container {\n  display: none;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  z-index: 99;\n  background: rgba(28, 28, 28, 0.8);\n  border-radius: 4px;\n  font-family: "Noto Sans CJK SC DemiLight", Roboto, "Segoe UI", Tahoma, Arial, Helvetica, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  padding: 15px 0 15px 15px;\n  width: 240px;\n  height: 310px;\n}\n.bilibili-live-player-event-log-container.active {\n  display: block;\n  overflow-y: scroll;\n}\n.bilibili-live-player-event-log-container .mCSB_inside > .mCSB_container {\n  margin-right: 10px;\n}\n.bilibili-live-player-event-log-container .mCSB_scrollTools {\n  transition: opacity 0.15s linear, background-color 0.15s linear;\n}\n.bilibili-live-player-event-log-container p {\n  color: #fff;\n  white-space: nowrap;\n  font-size: 12px;\n  line-height: 18px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0;\n}\n.bilibili-live-player-event-log-container p.bilibili-live-player-event-log-info {\n  color: #fff;\n}\n.bilibili-live-player-event-log-container p.bilibili-live-player-event-log-warning {\n  color: #f5b23d;\n}\n.bilibili-live-player-event-log-container p.bilibili-live-player-event-log-error {\n  color: #f25d8e;\n}\n.bilibili-live-player-event-log-container .bilibili-live-player-event-log-duration {\n  color: #00b498;\n  margin-left: 4px;\n}\n.bilibili-live-player-event-log-container .bilibili-live-player-event-log-panel {\n  width: 230px;\n}\n.bilibili-live-player-event-log-container .bilibili-live-player-event-log-close {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n  z-index: 49;\n  color: #ddd;\n  font-size: 13px;\n}\n',""])},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var o=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),a=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[i].concat(a).concat([o]).join("\n")}var r;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(n[a]=!0)}for(o=0;o<e.length;o++){var r=e[o];null!=r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports="data:font/ttf;base64,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"},function(e,t){e.exports="data:font/woff;base64,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"},function(e,t){e.exports="data:image/svg+xml;base64,bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArICIyMzAyZWVjYzNlM2ZmZWVhNTE1MWRkZTRhMDI5OTQ3Ni5zdmciOw=="},function(e,t){e.exports="data:application/vnd.ms-fontobject;base64,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"},function(e,t){e.exports="data:font/ttf;base64,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"},function(e,t){e.exports="data:font/woff;base64,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"},function(e,t){e.exports="data:image/svg+xml;base64,bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArICIzM2VlZTRkY2M4ZGMxYzcxMTgyYjYzNzM3NTljNGY4Zi5zdmciOw=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAArCAYAAAC3i5y2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowYmUxY2QyZC1hZTM1LTQ3ZWYtOTk2NS02ZDUzNWNiMzZmZDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkQ0MDZBNzBERDVBMTFFN0EzODRDNTYzRkIwODY3RTQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkQ0MDZBNkZERDVBMTFFN0EzODRDNTYzRkIwODY3RTQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MGJlMWNkMmQtYWUzNS00N2VmLTk5NjUtNmQ1MzVjYjM2ZmQzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjBiZTFjZDJkLWFlMzUtNDdlZi05OTY1LTZkNTM1Y2IzNmZkMyIvPiA8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"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/gif;base64,R0lGODlhIAAgALMIADc3N5eXl3l5eVdXV9PT0+3t7bS0tCcnJ////wAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2Q0ZCQUZCNUYyQjQxMUUzOTM2QUNDMkEwQjMwNkZENiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2Q0ZCQUZCNkYyQjQxMUUzOTM2QUNDMkEwQjMwNkZENiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZDRkJBRkIzRjJCNDExRTM5MzZBQ0MyQTBCMzA2RkQ2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZDRkJBRkI0RjJCNDExRTM5MzZBQ0MyQTBCMzA2RkQ2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEBQgACAAsAAAAACAAIAAABHcQyUnrqThrevr+X3eBpOWVGZCJWgECMMZiRf3BMXdStX3jFlqvhFNtei5U7uNDOZ/QqHRKlRKuWMlgy4VivwSueOAFa8fVtHrN3ggEJIPB+X5/5PJSHQ7Czz97GQEYfoB2GAGJhHmAGomDhFSPbRKTlJZtmJlOEQAh+QQFCAAIACwAAAAAIAAgAAAEdxDJSWupOGta+v5fd4Gk5ZXZkYkaAR4wxmJE/cExd1K1feMWWq+EU216LlTu40M5n9CodEqVGq5YCWDLhWK/Bq4Y4AVrx9W0es3eDAakQMD5fn/k8lIdDsLPP3sZAhh+gHYYAomEeYAaiYOEVI9tEpOUlm2YmU4RACH5BAUIAAgALAAAAAAgACAAAAR3EMlJK6k4a0r6/l93gaTllVmRiZoBFjDGYkb9wTF3UrV94xZar4RTbXouVO7jQzmf0Kh0SpUGrljJYcuFYr8BrvjgBWvH1bR6zd4AACSBwPl+f+TyUh0Ows8/exkDGH6AdhgDiYR5gBqJg4RUj20Sk5SWbZiZThEAIfkEBQgACAAsAAAAACAAIAAABHcQyUmrqThravr+X3eBpOWVGZGJWgASMMZiQf3BMXdStX3jFlqvhFNtei5U7uNDOZ/QqHRKlQquWElhy4VivwKuuOAFa8fVtHrN3hwOpMHA+X5/5PJSHQ7Czz97GQAYfoB2GACJhHmAGomDhFSPbRKTlJZtmJlOEQAh+QQFCAAIACwAAAAAIAAgAAAEdxDJSWuoOGsa+v5fd4Gk5ZWZkYmaABowxmJC/cExd1K1feMWWq+EU216LlTu40M5n9CodEqVDq5YCWHLhWK/A66Y4AVrx9W0es3eFAokAMD5fn/k8lIdDsLPP3sZBxh+gHYYB4mEeYAaiYOEVI9tEpOUlm2YmU4RACH5BAUIAAgALAAAAAAgACAAAAR3EMlJq6g4ayr6/l93gaTllVmQidoABjDGYkP9wTF3UrV94xZar4RTbXouVO7jQzmf0Kh0SpUCrliJYcuFYr8ArtjgBWvH1bR6zd4QCKTDwfl+f+TyUh0Ows8/exkFGH6AdhgFiYR5gBqJg4RUj20Sk5SWbZiZThEAIfkEBQgACAAsAAAAACAAIAAABHcQyUnrqDhrOvr+X3eBpOWVmZCJGgAKMMZiQP3BMXdStX3jFlqvhFNtei5U7uNDOZ/QqHRKlR6uWElgy4VivweuOOAFa8fVtHrN3hgMpELB+X5/5PJSHQ7Czz97GQQYfoB2GASJhHmAGomDhFSPbRKTlJZtmJlOEQAh+QQFCAAIACwAAAAAIAAgAAAEdxDJSSuoOGsK+v5fd4Gk5ZXZkInaAQ4wxmJH/cExd1K1feMWWq+EU216LlTu40M5n9CodEqVFq5YiWDLhWK/Ba5Y4AVrx9W0es3eBAIkAsH5fn/k8lIdDsLPP3sZBhh+gHYYBomEeYAaiYOEVI9tEpOUlm2YmU4RADs="},function(e,t){e.exports="data:image/gif;base64,R0lGODlhWgBaALMOAHR0dAICAnd3dwEBAXh4eAMDAwkJCQ0NDQsLCxwcHA4ODggICHl5eQAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiYWE1ODg5ZS1jN2RmLTRmZmUtYjkzOS0wMmVkMTZhNmNjZDIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0I2ODI2NjA1NzhGMTFFNkEyMEVDNzhEOUY1RkQxRjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0I2ODI2NUY1NzhGMTFFNkEyMEVDNzhEOUY1RkQxRjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjljYjgzNjY2LWYxYWUtNGMyZi1hMGEwLThhODJmYjIxM2U0MyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmU1NDE3YzFmLTllODAtMTE3OS04NjdiLWUy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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAADo6zjiAAAD3ElEQVRYha2YW4hWVRTHf9/JptTRacZb2jRBKGGNTBfLMLKsrKwHRymCIihIujARMRVF9RAZ1LwU9ZoQFCEZ1kRagV0kX9LpIaLEnJoazdBKh4nQlPj1sM/XnM6c2zfTHzacvfa67ctae+2DyiTabPVh9RP1kHpSva0RHRETx3rgG2AJ0Ad0AW8DUxpR0hBzAn3ADcAKYG+C/hvQ+n870AYcSfTXAzfGxkdSvL8D8xpxoGwLHgJ6Ev0OYAPQnWEc4GvCVlRHwQG5Vj2hvp+gbVSfKZCZrx5RT80Ym5klk6domjqk3qGOxP1W9Vf1jJKTvVNdl0HvVTdUdaBX3RJ/b1YfU+9U36oQWreou9QoRX9HPZ4O0zwl36uXxd/nqgfUH9R7KzgQqV+ojyZotXj1utXD6oIiBy5Vv03RFqhPqIsrOIC6UP0l3kJiucH4+zn1zTpvTU2fyycJodfb0GkejyXAu8BOYD/QDtwFTCfkjpuBr+phWEsILgMGJmkcxkLyJ+A+4POY/ifwEvAI8O8WrE4s3161q+JS19tKw72QNz7V/4ZhqyFcZ0aEbPhswvO5wFCDs/0L2EF+FjwGjCb6R4HPgHURYa8uIaRXgJYUcxUcAM4HtgLTKsp8BKwijsshdVi9yIBGlh91jmOokivqkbEvAhYCmwmn/4PYu5k5Xnfm0JOH+Fbg7gorMAh0RMB84CDwOnBWbOREhsDVwKs5yi5I9fsIW1mEk8DBiDDbwzHxb0KRcTzFXANeJoTo9RnKHkz1ZxNu0jKM1h34o4RxDeGwAmwElsbfHXF/bYbM/ZTXG6NTCIlhRgljcjbtwG7CNjUVyJwJXAl8WsDTEhGqmLkFTLMI1U8aRcbrWFkyPicCvgPOK2C6nPLKKQ+LC8ZagOYI2AVcUcB4zgSNQ3F9uBwYiIAvCaF4dg5jLYdeBeOu2gRuArZHhNDbAtyew7hvEg4M5tCbCAlrUz0tXqj+rJ6WkTJPV486MazNScP3qB+aqoj61cdzBJ6egPHdjq8LMRS4P6rL0w4sMtRtizKEmtSPGzA+onbmTOZF9Y16Pz3Yow7EXqbHZhhWqQzDjhW06dYdz74tz4Fa7N1Ww95nKVmjbje8hJPYoz6lNufIrTCs8LIkPYuxSd1keHLPylGGOt1wp3ep8wr4MDxUDqnXpMfyBE5RX4iX67oS5UWtWX0l1rM0i6dMwWpDtdRveC80YrhH3a++ZmLP0y3rXZDGVMKT/AHCDdhPqPX3EP4HHCP8E2gHLgZWEWqGHcDzlJT4VRxIopNw919FuMDaYgdHgGFCMfMesI3yGgOAfwC5HdcOsKX4dAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAADw0lEQVRYhc2YT2hdVRCHv5ek/qnJa6OmglBt4kZtxU3SVQXRV6KS6E4tXbQiIoouu44LsRvBjVCKoC6CpaKrLFpd1baBEooRtU2gaKkUtG0MtYZiaeRzcecmNy/3vXdveUYHhnuY8zszc+ecOXPOqaiUpH5gGNgBPAI8CPRE35/ABWAGOAl8BZwvo7xS0KFO4EXgLeAh4ChwDDgTBq8FrhoObwWeBJ4BfgI+BD4H/m5pSW3FNXVGnVRfUNcVGJPyuhgzGTpqrcY067xDPaieV0dLONGIR0PXwdCdi+toELg+4DjQCzwOTBSZ1xY0Ebp6Q3df0SnrU2fVd9VKGyJTz5XQPRu2mk7ZevWUuv9fcKSe94et9Vl5fZZ9RJIpLwOl94OSVAE+AxaA1/KmrBaLrroG0Um5qv5sJvvSjg71rO3JplvJvhm100yWvQTM055sKksTwBzJxrsUoZMmG9haRyfl5002T1D71d/UroKDe9QdancTTHdgegrq7AofBjpI6s1RYLFAeF8HLgIngO+B7hxMNzAdmIvAmwX0LgJHgGHUcXVvgb/Y52p6Kgf3dA5uXwH9e9Rx1Gl1qAX4UfVmnZFf1d4cbG+EP0s3Q0czG4Pqt6hz6r0hrKhjJot8dwZ8oM7AuMvb/pB6Onh7yDYFJksHMvp2h40xl8vTPervqDfU20M4XPdX94X8XEZ+wZUJMJXpO5WRdwU2pXMhv9+V0R4O+W3qjXQfyisTlUz7gUz7G1YmwF2Zdk+mvRjYeh1ND2kdJMfOVNHXwDvAJLAHuBTy65kxvXU6NjZoA9ydaf8V30vA3rAxFjYJHxbSRT1o8wWXnZbr6uaQ11xNO6Nvc2BTmmphY1Cd7gDOAtuahZHkPJzSnfF3nwJf5mC/iL7JwObpyKOtwJmK+gawHXilCbgK/MDKtVSGfgEeY/kykEefAFOoAxYrHUPqfM4UaVKtZxr0zdt6n1sqHamgaHHdoh5SF8LYnPqBukHdqL6vXom+hcBuKaB3RXFF3RVOFSmEKbcqrmV0nQgflhzqjJCPlFTUDh4xc0DLdtRMjpP/xRE23SpWHfI/JknVXbeYTWXpEMmm++qSpM7jtbwGvWfONSgP+L+6KKa8yeQ4cbjNa6oaOk+HjVWYRnf7y8ATwFXgO2CkDetlJHRdJXlbupyLKvBXOyO8x03uUGWfY0Zj7KyZbGrEZR+s3gYGSA7kx4AfSV7M/gjcBpIXtW0kD1bPsfxgdZgCD1ZFHcpSP/AsSdgfJim41ei7RlJIZ0me9I5Q8knvH4+/Pgzvp3tFAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAjCAYAAAB/wZEbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUREMzhDNDZGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUREMzhDNDdGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1REQzOEM0NEZFMkQxMUU2ODdCMUY3Mzk1OTA4NkRDQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1REQzOEM0NUZFMkQxMUU2ODdCMUY3Mzk1OTA4NkRDQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjxgwxUAAAZHSURBVHja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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAjCAYAAAB/wZEbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUREMzhDNDJGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUREMzhDNDNGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMjNBRjQ0OUZFMjUxMUU2ODdCMUY3Mzk1OTA4NkRDQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMjNBRjQ0QUZFMjUxMUU2ODdCMUY3Mzk1OTA4NkRDQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvCaFn4AAAbJSURBVHja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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAjCAYAAACQA/olAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUREMzhDNEFGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUREMzhDNEJGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1REQzOEM0OEZFMkQxMUU2ODdCMUY3Mzk1OTA4NkRDQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1REQzOEM0OUZFMkQxMUU2ODdCMUY3Mzk1OTA4NkRDQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsMLxy0AAAZGSURBVHja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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAyCAYAAADySu2nAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYzNjREOTRDNDdEQTExRTZCNDRDQjJDN0YyNDlFRjM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjYzNjREOTRENDdEQTExRTZCNDRDQjJDN0YyNDlFRjM4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjM2NEQ5NEE0N0RBMTFFNkI0NENCMkM3RjI0OUVGMzgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjM2NEQ5NEI0N0RBMTFFNkI0NENCMkM3RjI0OUVGMzgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6d3mI0AAAOgUlEQVR42uxb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"},function(e,t,i){var n,o,a={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),l=function(e){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),s=null,A=0,c=[],d=i(51);function p(e,t){for(var i=0;i<e.length;i++){var n=e[i],o=a[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(b(n.parts[r],t))}else{var l=[];for(r=0;r<n.parts.length;r++)l.push(b(n.parts[r],t));a[n.id]={id:n.id,refs:1,parts:l}}}}function u(e,t){for(var i=[],n={},o=0;o<e.length;o++){var a=e[o],r=t.base?a[0]+t.base:a[0],l={css:a[1],media:a[2],sourceMap:a[3]};n[r]?n[r].parts.push(l):i.push(n[r]={id:r,parts:[l]})}return i}function h(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),c.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(e.insertAt.before,i);i.insertBefore(t,o)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return i.nc}();n&&(e.attrs.nonce=n)}return _(t,e.attrs),h(e,t),t}function _(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function b(e,t){var i,n,o,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var r=A++;i=s||(s=g(t)),n=y.bind(null,i,r,!1),o=y.bind(null,i,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",_(t,e.attrs),h(e,t),t}(t),n=function(e,t,i){var n=i.css,o=i.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(n=d(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(r),l&&URL.revokeObjectURL(l)}.bind(null,i,t),o=function(){f(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(t),n=function(e,t){var i=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),o=function(){f(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=u(e,t);return p(i,t),function(e){for(var n=[],o=0;o<i.length;o++){var r=i[o];(l=a[r.id]).refs--,n.push(l)}e&&p(u(e,t),t);for(o=0;o<n.length;o++){var l;if(0===(l=n[o]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete a[l.id]}}}};var m,E=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function y(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var a=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?i+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,i){"use strict";function n(e){var t=a([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]]).filter(function(t){return t.rule&&t.rule.test(e)})[0];return t?t.name:null}function o(e){var t=a([["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/]]);if(!e)return null;var i=t.map(function(t){var i=t.rule.exec(e),n=i&&i[1].split(/[._]/).slice(0,3);return n&&n.length<3&&(n=n.concat(1===n.length?[0,0]:[0])),i&&{name:t.name,version:n.join("."),versionMajor:parseInt(n[0],10)}}).filter(Boolean)[0]||null;return i&&(i.os=n(e)),i}function a(e){return e.map(function(e){return{name:e[0],rule:e[1]}})}Object.defineProperty(t,"__esModule",{value:!0}),t.detect=function(){return"undefined"!=typeof navigator?o(navigator.userAgent):null},t.detectOS=n,t.parseUserAgent=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={UV:0,ERROR_PLAYING:101,ERROR_CONNECTING_WEBSOCKET:102,ERROR_SENDING_DANMAKU:103,ERROR_FIRST_PLAYING:104,ERROR_PROTOCOL_DOWNGRADE:105,ERROR_FETCH_STREAM:347,EXPERIENCE_FIRST_LOADED:201,EXPERIENCE_BUFFERING_SLOWLY:202,EXPERIENCE_FIRST_LOADED_META_DATA_TIME:203,EXPERIENCE_FIRST_SCREEN_TIME:204,EXPERIENCE_FIRST_INIT_TIME:401,EXPERIENCE_FIRST_PLAYER:402,EXPERIENCE_FIRST_PLAYURL:403,EXPERIENCE_FIRST_LOAD:404,EXPERIENCE_FIRST_AUDIO_FRAME_DECODED:3104,EXPERIENCE_FIRST_VEDIO_FRAME_DECODED:3105,STATISTICS_PLAYER_LOADED:300,STATISTICS_PLAY:301,STATISTICS_PAUSE:302,STATISTICS_VOLUME:303,STATISTICS_UNMUTE:304,STATISTICS_MUTE:305,STATISTICS_RELOAD:306,STATISTICS_BLOCK:307,STATISTICS_SETTING:308,STATISTICS_SHOW_DANMAKU:309,STATISTICS_HIDE_DANMAKU:310,STATISTICS_FONT_SIZE:311,STATISTICS_OPACITY:312,STATISTICS_WEB_FULLSCREEN:313,STATISTICS_EXIT_WEB_FULLSCREEN:314,STATISTICS_FULLSCREEN:315,STATISTICS_EXIT_FULLSCREEN:316,STATISTICS_MAIN_LINE:317,STATISTICS_BACKUP_LINE1:318,STATISTICS_BACKUP_LINE2:319,STATISTICS_BACKUP_LINE3:320,STATISTICS_PLAYURL_FAILED:321,STATISTICS_EXIT_WEB_FULLSCREEN_BY_ESC:323,STATISTICS_EXIT_FULLSCREEN_BY_ESC:324,STATISTICS_SYSTEM_ANNOUNCEMENT:325,STATISTICS_LUCKY_MONEY:326,STATISTICS_DANMAKU_DENSITY:327,STATISTICS_ENDED_ATTENTION:328,STATISTICS_ENDED_FEED:329,STATISTICS_RECOMMEND_ROOM:330,STATISTICS_SENT_GIFT:331,STATISTICS_OPEN_GIFT_PACKAGE:332,STATISTICS_SENDING_HOT_WORDS:333,STATISTICS_SHOW_CONTEXT_MENU:334,STATISTICS_SCRIPT_LOADED_TIME:340,STATISTICS_INITIALIZED_TO_LOAD_PLAYURL:341,STATISTICS_PLAYURL_LOADED:342,STATISTICS_VIDEO_LOADED_META_DATA:343,STATISTICS_VIDEO_BUFFERING:344,STATISTICS_VIDEO_BUFFERING_TIME:345,STATISTICS_PLAYING_TIME:346,STATISTICS_PLAYING_ERROR_WITH_CODE:347,STATISTICS_REUSE_PLAYURL_TIME:348,STATISTICS_ROOM_INIT_API_LOAD_TIME:349,STATISTICS_PAGE_INIT_TIME:350,STATISTIC_HOST_SERVER_LOADED:351,STATISTIC_DANMU_CONFIG_LOADED:352,STATISTIC_ROOM_SILENT_LOADED:353,STATISTIC_SHIELD_INFO_LOADED:354,STATISTIC_PLAY_DELAY:355,STATISTIC_CHASING_THRESHOLD:356,STATISTIC_PLAYER_RECEIVED_BYTES:3101,STATISTIC_HTTP_RECEIVED_BYTES:3102,STATISTIC_HTTP_CONNECTION_TIME:3103,STATISTIC_CLICK_VIDEO_CLIP:5001,STATISTIC_OPEN_CLIP_PAGE_FAIL_NO_VIDEO:5002,STATISTIC_OPEN_CLIP_PAGE_FAIL_NO_DATA:5003,STATISTIC_OPEN_CLIP_PAGE_SUCCESS:5004,STATISTIC_GET_CLIP_DATA_FAIL_NO_VIDEO:5005,STATISTIC_GET_CLIP_DATA_FAIL_NO_DATA:5006,STATISTIC_GET_CLIP_DATA_SUCCESS:5007,OPEN_MASK:4001,CLOSE_MASK:4002,SEI_TYPE_ERROR:4003,MASK_VERSION_ERROR:4004,GET_PATH_LINETO:4005,GET_PATH_CURVETO:4006,MASK_UNHANDLE_KEY:4007,MASK_TYPE_ERROR:4008,STATISTICS_BUFFERING_SLOW_NETWORK_SPEED:6001,STATISTICS_BUFFERING_LACK_OF_PERFORMANCE:6002,STATISTICS_BUFFERING_LACK_OF_OTHERS:6003}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PLAYER_INITIALIZED:"initialized",PLAYER_INITIALIZED_TIME_OUT:"initialized_time_out",RESOLVED_PLAYER_API_SUCCESSFULLY:"api_player_done",RESOLVED_PLAYER_API_FAILED:"api_player_error",FAILED_TO_GET_THE_PLAYER_API:"api_player_fail",RESOLVED_USER_INFO_API_SUCCESSFULLY:"apis_user_done",RESOLVED_USER_INFO_API_FAILED:"apis_user_error",FAILED_TO_GET_THE_USER_INFO_API:"apis_user_fail",RESOLVED_PLAY_URL_SUCCESSFULLY:"api_playurl_done",RESOLVED_PLAY_URL_FAILED:"api_playurl_error",FAILED_TO_GET_THE_PLAYURL:"api_playurl_fail",RESOLVED_ROUND_PLAY_URL_SUCCESSFULLY:"api_round_playurl_done",RESOLVED_ROUND_PLAY_URL_FAILED:"api_round_playurl_error",FAILED_TO_GET_THE_ROUND_PLAYURL:"api_round_playurl_fail",RESOLVED_CURRENT_PLAY_URL_SUCCESSFULLY:"current_playurl_done",RESOLVED_CURRENT_PLAY_URL_FAILED:"current_playurl_error",ON_PLAYER_RELOADING:"reloading",PLAYER_RELOAD_SUCCESSFULLY:"reload_done",PLAYER_RELOAD_FAILED:"reload_fail",VIDEO_LOAD_START:"video_load_start",VIDEO_LOADED_META_DATA:"video_loaded_meta_data",FIRST_VIDEO_LOADED_META_DATA:"first_video_loaded_meta_data",VIDEO_TIME_UPDATE:"video_time_update",VIDEO_CAN_PLAY:"video_can_play",VIDEO_ENDED:"video_ended",SWITCH_LINE:"switch_line",SWITCH_QUALITY:"switch_quality",CONTROLLER_ACTIVATE_LINE:"controller_activate_line",CONTROLLER_ACTIVATE_QUALITY:"controller_activate_quality",ON_LIVE:"live",ON_PRE_ROUND:"pre_round",ON_ROUND:"round",ON_PREPARING:"preparing",ON_ERROR:"error",ON_ERROR_RETRYING:"error_retrying",ON_ERROR_RETRYING_FAILED:"error_retrying_failed",ON_ERROR_RETRY_FAILED:"error_retry_failed",ON_ERROR_RETRY_SUCCESSFULLY:"error_retry_done",ON_ERROR_RETRY_CANCELED:"error_retry_canceled",TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC:"try_to_fix_the_picture_is_not_sync",PLAYER_RESIZE:"player_resize",HOME_ENTER_THE_ROOM:"home_enter_the_room",CREATE_PLAYER_SUCCESS:"create_player_success",GET_MASK_DATA:"get_mask_data",DANMAKU_STATUS_CHANGE:"danmaku_status_change"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PLAY:"播放",PAUSE:"暂停",RELOAD:"重新载入",FEEDBACK:"问题反馈",LINE_MAIN:"主线",LINE_BACKUP:"备线",LINE_CONTEXT_MENU_INFO:"观看卡顿？切换备线试试",BLOCK_SETTING:"屏蔽设置",CONTROLLER_OPACITY:"透明度",CONTROLLER_SCALE:"字号缩放",CONTROLLER_DENSITY:"同屏密度",DURATION_LIVE:"直播持续时间",DURATION_ROUND:"视频时间",WEB_FULLSCREEN:"网页全屏",WEB_FULLSCREEN_EXIT:"退出网页全屏",FULLSCREEN:"全屏模式",FULLSCREEN_EXIT:"退出全屏",QUALITY_DEFAULT:"默认",QUALITY_SD:"低清",QUALITY_HD:"清晰",QUALITY_FHD:"高清",QUALITY_SOURCE:"原画",DANMAKU_SHOW:"显示弹幕",DANMAKU_HIDE:"隐藏弹幕",DANMAKU_REPORT:"举报选中弹幕",DANMAKU_BLOCK:"屏蔽此用户的弹幕",DANMAKU_ADD_TO_BLOCK_LIST:"添加进黑名单",DANMAKU_COPY:"复制弹幕",DANMAKU_LINK_SPACE:"去TA的个人空间",DANMAKU_AUTO_DENSITY:"自动调节密度",DANMAKU_ZZMASK:"zz 弹幕蒙版",VIDEO_INFO:"视频统计信息",PLAYER_INFO:"播放器日志信息",PLAYER_INFO_SHOW:"显示日志",PLAYER_INFO_COPY:"复制日志",PLAYER_INFO_DOWNLOAD:"下载日志",LAB:"实验室",VIDEO_CLIP:"视频剪辑（beta）",HTML5_PLAYER:"HTML5播放器",FLASH_PLAYER:"Flash播放器",FEEDBACK_PLAYER:"意见反馈",ENTER_THE_ROOM:"进入直播间",AUTO_PLAY_MUTED:"您正在使用静音播放",AUTO_PLAY_MUTED_PAUSE:"您观看的直播已暂停"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),o=function(){function e(e){this.container=e,this.initialize()}return e.prototype.getTemplate=function(){return this.template},e.prototype.initialize=function(){try{var e="bilibili-live-player",t=this.container;if(t.find("."+e).length)n.default.log("DOM pre-rendered detected.");else{var o=i(14);t.html(o({prefix:e}))}this.template={wrap:t.find("."+e),video_wrap:t.find("."+e+"-video-area"),state_wrap:t.find("."+e+"-state-area"),gift_wrap:t.find("."+e+"-video-gift"),danmaku_wrap:t.find("."+e+"-video-danmaku"),video:t.find("."+e+"-video"),block_wrap:t.find("."+e+"-video-block"),controller_wrap:t.find("."+e+"-video-controller"),send_wrap:t.find("."+e+"-video-send"),loading_wrap:t.find("."+e+"-loading-panel"),ending_wrap:t.find("."+e+"-ending-panel"),enter_wrap:t.find("."+e+"-enter-tips"),operable_wrap:t.find("."+e+"-video-operable-container")},n.default.log("Template initialized.")}catch(e){n.default.log("Template initialize error."+e,2)}},e}();t.default=o},function(e,t){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=i(2),a=i(0),r=i(16),l="bilibili-live-player-video-controller",s=function(){function e(e,t,i){this._player=e,this._container=t,this._playerWrap=i,this._qualityOptionsBtnList=[],this.reloadDebounceFunc=n.default.debounce(this.reloadClick.bind(this),1e3,!0),this._lineOptions=[],this._qualityOptions=[],this._danmakuAutoDensityStatus=!0,this._SWITCH_QUALITY_AUTO_REMOVE_TIME=3,this._SWITCH_QUALITY_MAX_TIME=30,this.state={onSetting:!1},this._initialize()}return e.getTooltipHtml=function(e,t){void 0===e&&(e=2),void 0===t&&(t=!1);for(var i="",n=0,o=e;n<o;n++)i+='<div class="'+l+"-html-tooltip-option\n                                "+(t&&"large-option")+'"></div>';return i},e.prototype.play=function(){this._videoBtn.options({value:a.default.V_PLAY,title:a.CONFIG_STRING.PAUSE,icon:"live-icon-pause"})},e.prototype.pause=function(){this._videoBtn.options({value:a.default.V_PAUSE,title:a.CONFIG_STRING.PLAY,icon:"live-icon-play"})},e.prototype.set=function(e,t){switch(o.default.log("Danmaku set "+e+" - "+t),e){case"opacity":this.state.onSetting=!0,this._danmakuOpacitySlider.setValue(t);break;case"scale":this.state.onSetting=!0,this._danmakuScaleSlider.setValue(t);break;case"density":this.state.onSetting=!0,this._danmakuDensitySlider.setValue(t),this._player.state.danmakuDensity=t;break;case"autoDensity":this.state.onSetting=!0,this._danmakuDensityCheckbox.setValue(!!t)}},e.prototype.end=function(){this.reset()},e.prototype.destroy=function(){window.clearTimeout(this._REFRESH_TIME_OUT),window.clearTimeout(this._autoHide),this.destroyContextMenuLine(),this._container.remove()},e.prototype.volume=function(e){e>=0&&e<=1&&this._volumeBtn.set("volume",e)},e.prototype.destroyContextMenuLine=function(){return this.lineItemId&&(this._player.plugins.contextMenu&&this._player.plugins.contextMenu.delete(this.lineItemId),this.lineItemId=""),this},e.prototype.destroyLine=function(){return this._lineBtn&&this._lineBtn.options({value:a.CONFIG_STRING.LINE_MAIN,tooltip:"",tooltipHtml:$("")}).disable(),this},e.prototype.resetLine=function(){var e=this;o.default.log("Controller reset line.");var t=this._player,i=t.state.playURLList,n=this._lineBtn,s=[],A={},c=(t.plugins.contextMenu,a.CONFIG_STRING.LINE_MAIN),d="";if(i.length>1){for(var p=0,u=i.length;p<u;p++){var h=i[p],f=""+a.CONFIG_STRING.LINE_BACKUP+p;0===p&&(f=a.CONFIG_STRING.LINE_MAIN),A[p]={active:!1,text:f,url:h.url},d+='<div class="'+l+'-line-option" ></div>'}n.enable().options({value:c,tooltip:"html",tooltipHtml:$(d),onClick:function(){t.track(a.TRACK.STATISTICS_MAIN_LINE)}},function(){var i=n.element().find("."+l+"-line-option");i.each(function(n,o){var l=A[n],c=l.text,d=l.active;s.push(new r.default("button",i.eq(n),{title:c,text:c,type:"text-btn",value:c,active:d,onClick:function(i,o){if(!o.isActive()){e._player.state.lastOpState=a.default.LAST_OP_STATE_SWITCH_LINE,t.event.emit(a.EVENT.SWITCH_LINE,n);var r=a.TRACK.STATISTICS_MAIN_LINE;switch(n){case a.default.LIVE_B1URL:r=a.TRACK.STATISTICS_BACKUP_LINE1;break;case a.default.LIVE_B2URL:r=a.TRACK.STATISTICS_BACKUP_LINE2;break;case a.default.LIVE_B3URL:r=a.TRACK.STATISTICS_BACKUP_LINE3}t.track(r)}}}))})}),this._lineOptions=s,this._isHomePlayer||this._initContextMenuUrl()}else n.options({value:a.CONFIG_STRING.LINE_MAIN,tooltip:"",tooltipHtml:$("")}).disable()},e.prototype.resetDurationTime=function(){o.default.log("Controller reset duration time."),this._startTime=this._player.config.startTime,this._refreshDurationTime(this._startTime,this._durationBtn)},e.prototype.initializeQuality=function(){var t=this,i=this._player,n=i.state,o=n.qualityList,s=o&&o.length,A=this._template,c=i.components.template.wrap;if(s>1){if(!this._qualityOptionsBtnList.length){var d,p=[],u="";n.qualityList.forEach(function(e){var t=e.desc,i=e.qn,o=!1;i===n.quality&&(u=t,o=!0),p.push({index:0,text:t,type:i,active:o,value:i})}),d=e.getTooltipHtml(s),this._qualityBtn=new r.default("button",A._qualityBtn,{title:u,text:u,type:"text-btn",tooltip:"html",tooltipHtml:$(d),tooltipArrow:!0,tooltipAppendTo:c},function(e){var i=A._qualityBtn.find("."+l+"-html-tooltip-option");p=p.sort(function(e,t){return t.value-e.value}),i.each(function(i,n){var o=p[i];o.index=i,t._qualityOptionsBtnList.push(new r.default("button",$(n),{value:o.value,title:o.text,text:o.text,type:"text-btn",active:o.active,onClick:function(e,i){i.isActive()||(t._player.state.lastOpState=a.default.LAST_OP_STATE_SWITCH_QUALITY,t._player.event.emit(a.EVENT.SWITCH_QUALITY,o))},parentUI:e}))})})}}else{var h=o&&o[0]&&o[0].desc;this._qualityBtn=new r.default("button",A._qualityBtn,{title:"当前直播间不支持清晰度切换",text:h,type:"text-btn",tooltip:"tip",tooltipArrow:!1,tooltipAppendTo:c})}return this},e.prototype.initLive=function(){this._durationBtn.option("title",a.CONFIG_STRING.DURATION_LIVE),!this.state.initLine&&this.resetLine(),this.state.initLine=!0,!this.state.initQuality&&this.initializeQuality(),this.state.initQuality=!0},e.prototype.initRound=function(){this._durationBtn.option("title",a.CONFIG_STRING.DURATION_ROUND),clearTimeout(this._REFRESH_TIME_OUT)},e.prototype.reloadRound=function(e){this._refreshDurationTime(e.time,this._durationBtn,!0)},e.prototype.autoDanmakuDensity=function(e){if(void 0===e&&(e=this._danmakuAutoDensityStatus),this._danmakuAutoDensityStatus!==e&&(this._danmakuAutoDensityStatus=e),this._danmakuAutoDensityStatus){var t=this._player.components.template.wrap,i=t.width(),n=t.height(),o=Math.floor(i/a.default.DANMAKU_AVERAGE_WIDTH)*Math.floor(n/a.default.DANMAKU_AVERAGE_HEIGHT)||1;o>80&&(o=o<=100?81:o<=500?80+Math.floor(o/100):0),this._danmakuDensitySlider.setValue(o)}},e.prototype.setPlayerState=function(e){switch(e){case a.default.P_NORMAL:this._webFullscreenBtn.options({value:0,icon:"live-icon-web-fullscreen",title:a.CONFIG_STRING.WEB_FULLSCREEN}),this._fullscreenBtn.options({value:0,icon:"live-icon-fullscreen",title:a.CONFIG_STRING.FULLSCREEN});break;case a.default.P_WEB_FULLSCREEN:this._webFullscreenBtn.options({value:1,icon:"live-icon-exit-web-fullscreen",title:a.CONFIG_STRING.WEB_FULLSCREEN_EXIT}),this._fullscreenBtn.options({value:0,icon:"live-icon-fullscreen",title:a.CONFIG_STRING.FULLSCREEN});break;case a.default.P_FULLSCREEN:this._webFullscreenBtn.options({value:0,icon:"live-icon-web-fullscreen",title:a.CONFIG_STRING.WEB_FULLSCREEN}),this._fullscreenBtn.options({value:1,icon:"live-icon-exit-fullscreen",title:a.CONFIG_STRING.FULLSCREEN_EXIT})}},e.prototype.showDanmaku=function(e){void 0===e&&(e=!0);var t=this._hideDanmakuBtn,i=this._player,n=this._template;e?(t.options({icon:"live-icon-danmaku-on",title:a.CONFIG_STRING.DANMAKU_HIDE,value:0}),n._hideDanmakuContainer.show(),i.toggleDanmakuVisibility(!0),i.track(a.TRACK.STATISTICS_SHOW_DANMAKU)):(t.options({icon:"live-icon-danmaku-off",title:a.CONFIG_STRING.DANMAKU_SHOW,value:1}),n._hideDanmakuContainer.hide(),i.toggleDanmakuVisibility(!1),i.track(a.TRACK.STATISTICS_HIDE_DANMAKU))},e.prototype.reset=function(){this._lineOptions=[],this.state.initLine=!1,this.state.initQuality=!1,this.destroyLine().destroyContextMenuLine()},e.prototype.getControllerDanmakuScale=function(){return(this._danmakuScaleSlider&&this._danmakuScaleSlider.getValue()||0)/100||1},e.prototype.mute=function(e){void 0===e&&(e=!0),this._volumeBtn.mute(e)},e.prototype._initialize=function(){var e=this._container;this._isHomePlayer=this._player.config.useType===a.default.PLAYER_HOME;var t=this.getControllableAttribute();if(e.find("."+l+"-container").length){if(o.default.log("Dom Controller pre-rendered detected."),this._player.config.useType===a.default.PLAYER_ACTIVITY)try{var n=e.find("."+l+"-container");for(var r in t)t.hasOwnProperty(r)&&n.attr(r,t[r])}catch(e){}}else{var s=i(15);e.html(s({prefix:a.PREFIX,cAttribute:t,danmakuOpacityName:a.CONFIG_STRING.CONTROLLER_OPACITY,danmakuScaleName:a.CONFIG_STRING.CONTROLLER_SCALE,danmakuDensityName:a.CONFIG_STRING.CONTROLLER_DENSITY,orderList:[1,2,3,4,5,6,7,8,9,10]}))}return this._template={_container:e.find("."+l+"-container"),_startBtn:e.find("."+l+"-start-btn"),_durationBtn:e.find("."+l+"-duration-btn"),_volumeBtn:e.find("."+l+"-volume-btn"),_qualityBtn:e.find("."+l+"-switch-quality-btn"),_changePlayerBtn:e.find("."+l+"-switch-player-btn"),_lineBtn:e.find("."+l+"-switch-line-btn"),_reloadBtn:e.find("."+l+"-reload-btn"),_feedbackBtn:e.find("."+l+"-feedback-btn"),_blockBtn:e.find("."+l+"-block-btn"),_hideDanmakuBtn:e.find("."+l+"-hide-danmaku-btn"),_webFullscreenBtn:e.find("."+l+"-web-fullscreen-btn"),_fullscreenBtn:e.find("."+l+"-fullscreen-btn"),_enterTheRoomBtn:e.find("."+l+"-enter-the-room-btn"),_hideDanmakuContainer:e.find("."+l+"-hide-danmaku-container"),_danmakuOpacitySlider:e.find(".danmaku-opacity-slider"),_danmakuScaleSlider:e.find(".danmaku-scale-slider"),_danmakuDensitySlider:e.find(".danmaku-density-slider"),_danmakuAutoAdjustCheckbox:e.find(".danmaku-density-checkbox"),_danmakuZzmaskCheckbox:e.find(".danmaku-zzmask-checkbox")},this.state={initLine:!1,initQuality:!1},this._player.config.useType===a.default.PLAYER_ACTIVITY&&(this._template._webFullscreenBtn.remove(),"false"===t["data-enable-fullscreen"]&&this._template._fullscreenBtn.remove()),this._initializeUI()._bindEvents(),o.default.log("Controller Initialized."),this},e.prototype._initializeUI=function(){var e=this,t=this._player,i=this._template,o=this._playerWrap;this._videoBtn=new r.default("button",i._startBtn,{title:a.CONFIG_STRING.PLAY,text:a.CONFIG_STRING.PLAY,type:"icon-btn",value:a.default.V_PLAY,icon:"live-icon-play",tooltip:"tip",tooltipAppendTo:o,onClick:function(){e._startBtnHandler()}}),this._durationBtn=new r.default("button",i._durationBtn,{title:a.CONFIG_STRING.DURATION_LIVE,text:"00:00",type:"text-btn",value:0,noHover:!0,tooltip:"tip",tooltipAppendTo:o});var l=this._isHomePlayer?a.STATE_STRING.LOCAL_STORAGE_VOLUME_HOME:a.STATE_STRING.LOCAL_STORAGE_VOLUME,s=parseFloat(n.default.getLocalStorage(l)),A=s>=0?Math.abs(+s):.9;A=A>1?.9:A,this._volumeBtn=new r.default("volume",i._volumeBtn,{value:A,tooltipAppendTo:o,onClick:function(e,i){i.getValue()?t.track(a.TRACK.STATISTICS_UNMUTE):t.track(a.TRACK.STATISTICS_MUTE)},onChange:function(e){t.setVolume(e),0!==e&&t.getVideoMutedState()&&t.changeVideoMutedState(),t.getVideoMutedState()||n.default.setLocalStorage(l,e.toString())},onMouseUp:function(){t.track(a.TRACK.STATISTICS_VOLUME)}}),this._lineBtn=new r.default("button",i._lineBtn,{title:a.CONFIG_STRING.LINE_MAIN,text:a.CONFIG_STRING.LINE_MAIN,type:"text-btn",value:0,tooltip:"",tooltipHtml:$(""),tooltipArrow:!0,tooltipAppendTo:o,onChange:function(){}}),this._reloadBtn=new r.default("button",i._reloadBtn,{title:a.CONFIG_STRING.RELOAD,text:a.CONFIG_STRING.RELOAD,type:"icon-btn",icon:"live-icon-reload",tooltip:"tip",tooltipAppendTo:o,onClick:function(){e.reloadDebounceFunc()}}),this._feedbackBtn=new r.default("button",i._feedbackBtn,{title:a.CONFIG_STRING.FEEDBACK,text:a.CONFIG_STRING.FEEDBACK,type:"icon-btn",icon:"live-icon-feedback",tooltip:"tip",tooltipAppendTo:o,onClick:function(){e._player.setPlayerStatus(a.default.P_NORMAL),n.default.fireEventCallback(e._player.callbackMap.feedBackClick)}}),this._blockBtn=new r.default("button",i._blockBtn,{title:a.CONFIG_STRING.BLOCK_SETTING,text:a.CONFIG_STRING.BLOCK_SETTING,type:"icon-btn",icon:"live-icon-shield",tooltip:"tip",tooltipAppendTo:o,onClick:function(){t.setPlayerStatus(a.default.P_NORMAL),n.default.fireEventCallback(e._player.callbackMap.blockSettingClick),t.track(a.TRACK.STATISTICS_SETTING)}}),this._hideDanmakuBtn=new r.default("button",i._hideDanmakuBtn,{value:0,title:a.CONFIG_STRING.DANMAKU_HIDE,text:a.CONFIG_STRING.DANMAKU_HIDE,type:"icon-btn",icon:"live-icon-danmaku-on",tooltip:"tip",tooltipAppendTo:o,onClick:function(e,n){n.getValue()?(n.options({icon:"live-icon-danmaku-on",title:a.CONFIG_STRING.DANMAKU_HIDE,value:0}),i._hideDanmakuContainer.show(),t.toggleDanmakuVisibility(!0),t.track(a.TRACK.STATISTICS_SHOW_DANMAKU)):(n.options({icon:"live-icon-danmaku-off",title:a.CONFIG_STRING.DANMAKU_SHOW,value:1}),i._hideDanmakuContainer.hide(),t.toggleDanmakuVisibility(!1),t.track(a.TRACK.STATISTICS_HIDE_DANMAKU))}}),this._danmakuOpacitySlider=new r.default("slider",i._danmakuOpacitySlider,{value:100,type:"horizontal",percentage:!0,precision:10,suffix:"%",showValue:!0,onChange:function(i){t.components.danmaku.opacity(i/100),e._fire("opacity",i)},onMouseUp:function(){t.track(a.TRACK.STATISTICS_OPACITY)}}),this._danmakuScaleSlider=new r.default("slider",i._danmakuScaleSlider,{value:100,type:"horizontal",minValue:10,maxValue:200,precision:10,suffix:"%",showValue:!0,onChange:function(t){e._player.components.danmaku.fontSize(t/100),e._fire("scale",t)},onMouseUp:function(){t.track(a.TRACK.STATISTICS_FONT_SIZE)}}),this._danmakuDensitySlider=new r.default("slider",i._danmakuDensitySlider,{value:80,type:"horizontal",minValue:1,maxValue:86,showValue:!0,specialValue:{81:"100",82:"200",83:"300",84:"400",85:"500",86:"弹幕超频"},onChange:function(i){e._player.components.danmaku.density(i),t.state.danmakuDensity=i,e._fire("density",i)},onMouseUp:function(){t.track(a.TRACK.STATISTICS_DANMAKU_DENSITY)}}),this._danmakuDensityCheckbox=new r.default("checkbox",i._danmakuAutoAdjustCheckbox,{id:"bilibili_live_player_danmaku_adjust_checkbox",checked:!0,label:a.CONFIG_STRING.DANMAKU_AUTO_DENSITY,onChange:function(t){n.default.log("checkbox changed...",t),e._fire("autoDensity",!!t)}}),this._webFullscreenBtn=new r.default("button",i._webFullscreenBtn,{value:0,title:a.CONFIG_STRING.WEB_FULLSCREEN,text:a.CONFIG_STRING.WEB_FULLSCREEN,type:"icon-btn",icon:"live-icon-web-fullscreen",tooltip:"tip",tooltipAppendTo:o,tooltipAutoHidden:!0,onClick:function(e,i){i.getValue()?t.setPlayerStatus(a.default.P_NORMAL).track(a.TRACK.STATISTICS_EXIT_WEB_FULLSCREEN):t.setPlayerStatus(a.default.P_WEB_FULLSCREEN).track(a.TRACK.STATISTICS_WEB_FULLSCREEN)}}),this._fullscreenBtn=new r.default("button",i._fullscreenBtn,{value:0,title:a.CONFIG_STRING.FULLSCREEN,text:a.CONFIG_STRING.FULLSCREEN,type:"icon-btn",icon:"live-icon-fullscreen",tooltip:"tip",tooltipAppendTo:o,tooltipAutoHidden:!0,onClick:function(e,i){i.getValue()?t.setPlayerStatus(a.default.P_NORMAL).track(a.TRACK.STATISTICS_EXIT_FULLSCREEN):t.setPlayerStatus(a.default.P_FULLSCREEN).track(a.TRACK.STATISTICS_FULLSCREEN)}});var c=this._isHomePlayer?"btn":"text-btn";return this._enterRoomBtn=new r.default("button",i._enterTheRoomBtn,{title:a.CONFIG_STRING.ENTER_THE_ROOM,text:a.CONFIG_STRING.ENTER_THE_ROOM,theme:"blue",type:c,onClick:function(){var i;if(e._isHomePlayer)t.event.emit(a.EVENT.HOME_ENTER_THE_ROOM,((i={}).cid=t.config.cid,i.type=a.default.ENTER_TIPS_TYPE_CONTROLLER,i));else{var n="//live.bilibili.com/"+e._player.config.rid;window.open(n),e._player.stop()}}}),t.addInitCallback(function(){t.setVolume(A),e._createChangePlayerBtn()}),this},e.prototype._refreshDurationTime=function(e,t,i){var o,a=this;void 0===i&&(i=!1),"number"==typeof e?(e<0&&(e=0),o=0===e?0:i?Math.floor(e):Math.floor(Date.now()/1e3-e)):o=isNaN(new Date(e).getTime())?0:Math.floor((Date.now()-new Date(e).getTime())/1e3);var r=Math.floor(o/3600),l=Math.floor((o-3600*r)/60),s=o%60,A="00:00";A=r?r+":"+n.default.convertNumber(l)+":"+n.default.convertNumber(s):n.default.convertNumber(l)+":"+n.default.convertNumber(s),t.options({value:o,text:A}),i||(clearTimeout(this._REFRESH_TIME_OUT),this._REFRESH_TIME_OUT=setTimeout(function(){a._refreshDurationTime(e,t,i)},1e3))},e.prototype._startBtnHandler=function(){var e=this._player;switch(e.getVideoStatus()){case a.default.V_PLAY:e.pause().track(a.TRACK.STATISTICS_PAUSE);break;case a.default.V_PAUSE:e.play().track(a.TRACK.STATISTICS_PLAY),this._player.config.useType===a.default.PLAYER_HOME&&e.load()}},e.prototype._lineSelectedHandler=function(){var e=this._lineBtn.getValue();this._lineBtn.option("text",e),this._lineOptions.forEach(function(t){e===t.getValue()?t.active():t.deactivate()})},e.prototype._initContextMenuUrl=function(){var e=this,t=this._player,i=t.state.playURLList,n=t.plugins.contextMenu;if(o.default.log("Init Context Menu URL."),this.destroyContextMenuLine(),i&&i.length>1){var r=[{type:"submenu",text:a.CONFIG_STRING.LINE_CONTEXT_MENU_INFO,submenu:[]}];i.forEach(function(i,n){r[0].submenu.push({type:"function",className:"bilibili-live-player-change-line-item",icon:"blp-icon-check",text:0===n?a.CONFIG_STRING.LINE_MAIN:""+a.CONFIG_STRING.LINE_BACKUP+n,click:function(){e._player.state.lastOpState=a.default.LAST_OP_STATE_SWITCH_LINE,t.event.emit(a.EVENT.SWITCH_LINE,n)}})}),this.lineItemId=n&&n.unshift(r).id,n&&n.active(this.lineItemId,0)}},e.prototype._createChangePlayerBtn=function(){var t=this,i=this._player,o=this._template,s=i.components.template.wrap,A=e.getTooltipHtml();i.config.changeMode?(n.default.getLocalStorage("HTML5_CHANGE_PLAYER_TIP")||o._changePlayerBtn.addClass("blp-red-tip"),this._changePlayerBtn=new r.default("button",o._changePlayerBtn,{title:a.CONFIG_STRING.HTML5_PLAYER,text:a.CONFIG_STRING.HTML5_PLAYER,type:"text-btn",tooltip:"html",tooltipHtml:$(A),tooltipArrow:!0,tooltipAppendTo:s},function(e){var s=o._changePlayerBtn.find("."+l+"-html-tooltip-option"),A=[{text:a.CONFIG_STRING.HTML5_PLAYER,onClick:function(){},active:!0},{text:a.CONFIG_STRING.FLASH_PLAYER,onClick:function(){i.setPlayerStatus(a.default.P_NORMAL),n.default.setLocalStorage("HTML5_CHANGE_PLAYER_TIP","1"),setTimeout(function(){n.default.fireEventCallback(t._player.callbackMap.fullscreenChange,!1),n.default.callFunctionAsynchronously(window.EmbedPlayer&&window.EmbedPlayer.loader)},300)},active:!1}];s.each(function(t,i){new r.default("button",s.eq(t),{type:"text-btn",text:A[t].text,title:A[t].text,active:A[t].active,onClick:A[t].onClick,parentUI:e})})})):o._changePlayerBtn.remove()},e.prototype._bindEvents=function(){var e=this,t=this._player,i=t.config.namespace;this._autoHide=window.setTimeout(function(){e._player.components.template.wrap.attr("data-controller-state","hide")},3e3),$(document).off("keydown"+i).on("keydown"+i,function(e){var i=t.getPlayerStatus();a.default.KEYCODE_ESC===e.keyCode&&a.default.P_NORMAL!==i&&t.setPlayerStatus(a.default.P_NORMAL).track(a.default.P_FULLSCREEN===i?a.TRACK.STATISTICS_EXIT_FULLSCREEN_BY_ESC:a.TRACK.STATISTICS_EXIT_WEB_FULLSCREEN_BY_ESC)}),this._container.off("click"+i).on("click"+i,function(){window.clearTimeout(e._autoHide)}),this._bindCustomEvents()},e.prototype._bindCustomEvents=function(){var e=this;this._player.event.on(a.EVENT.CONTROLLER_ACTIVATE_LINE,function(t){e._lineOptions.forEach(function(e){e.deactivate()});var i=e._lineOptions[t]&&e._lineOptions[t].active().getValue(),n=e._player.plugins.contextMenu;e._lineBtn&&e._lineBtn.option("text",i),n&&e.lineItemId&&n.active(e.lineItemId,t)}).on(a.EVENT.CONTROLLER_ACTIVATE_QUALITY,function(t){var i=a.CONFIG_STRING.QUALITY_SOURCE;e._qualityOptionsBtnList.forEach(function(e){e.getValue()===t?(e.active(),i=e.option("text")):e.deactivate()}),e._qualityBtn&&e._qualityBtn.option("text",i)})},e.prototype.reloadClick=function(){var e=this._player;e.state.lastOpState=a.default.LAST_OP_STATE_SWITCH_RELOAD,e.event.emit(a.EVENT.ON_PLAYER_RELOADING,!0),n.default.fireEventCallback(this._player.callbackMap.reload),n.default.fireEventCallback(this._player.callbackMap.switchLine,this._player.state.playURLIndex),e.track(a.TRACK.STATISTICS_RELOAD)},e.prototype._fire=function(e,t){n.default.fireEventCallback(this._player.callbackMap.set,{component:"danmaku",action:e,data:t})},e.prototype.getControllableAttribute=function(){var e=this._player.config.controllable.controller,t={};for(var i in e){if(e.hasOwnProperty(i))t["data-enable-"+i.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})]=""+e[i]}return t},e}();t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o={type:"tip",appendTo:$(document.body),position:"top-center",title:"Tooltip",html:"",autoRemove:!0},a=function(){function e(e,t){this._container=e,this._options=$.extend({},o,t||{}),this._initialize()}return e.prototype.hide=function(){this._tip&&this._tip.remove(),this._tip=void 0},e.prototype.refresh=function(){this._options.title=this._container.attr("data-title"),this._tip&&this._tip.find(">span.text-tip-span").text(this._options.title),this._tip&&this._refreshPos(this._lastE)},e.prototype.destroy=function(){this._options=void 0,this._tip.remove()},e.prototype._initialize=function(){return"html"===this._options.type.toLowerCase()&&this._create(),this._bindEvents(),this},e.prototype._create=function(){switch(this._options.type.toLowerCase()){case"tip":this._createTextTip();break;case"html":this._createHtmlTip()}return this},e.prototype._createTextTip=function(){var e=this._options;this._tip=$("<div>").addClass("blp-plugin-tip text-tip no-select").html('<span class="text-tip-span">'+e.title+"</span>").appendTo(e.appendTo),e.arrow&&this._createArrow(this._tip)},e.prototype._createHtmlTip=function(){var e=this._options;this._tip=$("<div>").addClass("blp-plugin-tip html-tip no-select").append(e.html).appendTo(this._container),this._container.addClass("html-tip-parent"),e.arrow&&this._createArrow(this._tip)},e.prototype._createArrow=function(e){$('<span class="blp-plugin-tip-arrow">').appendTo(e)},e.prototype._bindEvents=function(){var e=this,t=this._container;"tip"===this._options.type?t.on("mousemove",function(t){e._lastE=t,e.show(t)}).on("mouseleave",function(){e.hide()}):"html"===this._options.type&&t.on("mouseenter",function(e){}).on("mouseleave",function(){})},e.prototype.show=function(e){return this._tip||this._create(),this._refreshPos(e),this},e.prototype._refreshPos=function(e){var t=this._getPos(e);this._tip.css({top:t.y,left:t.x})},e.prototype._getPos=function(e){var t,i,o=this._container.offset(),a=o.left,r=o.top,l=(this._container.outerWidth(),this._container.outerHeight(),$(document.body)),s=this._options.appendTo,A=this._tip.outerWidth(),c=this._tip.outerHeight(),d=0,p=0;if(l!==s){var u=s.offset();d=u.left,p=u.top}switch(this._options.arrow&&(c+=6),this._options.position){case"top-center":t=a-A/2-d,i=r-c-p}return{x:t+n.default.getRelativePos(e,this._container).x,y:i-2}},e}();t.default=a},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(5),r=i(17),l=i(18),s=i(0),A=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._state=s.default.VOLUME_ON,n._lastLevel=.9,n._lastMutedLevel=-1,n._mutedState=!1,n._snippet=['<div class="'+a.default.prefix+'-volume-btn-container clearfix">','<div class="'+a.default.prefix+'-volume-btn"></div>','<div class="'+a.default.prefix+'-volume-slider"></div>',"</div>"],n._initialize(),n}return o(t,e),t.prototype.set=function(e,t){"volume"===e&&(this._setVolumeLevel(t),this._volumeSlider.setVerticalValue(t))},t.prototype.mute=function(e){void 0===e&&(e=!0),this._mutedState!==e&&(this._mutedState=!!e,this._lastMutedLevel=e?this.getValue():-1,this._state=e?s.default.VOLUME_ON:s.default.VOLUME_OFF,this._volumeBtnClickHandler(!0))},t.prototype._triggerChange=function(){"function"==typeof this._options.onChange&&this._options.onChange(this.value)},t.prototype._initialize=function(){return this._create(),this._setInitialized(),this},t.prototype._create=function(){var e=this,t=this._container;return t.html(this._snippet.join("")),this._template={_btnWarp:t.find("."+a.default.prefix+"-volume-btn"),_sliderWarp:t.find("."+a.default.prefix+"-volume-slider")},this._state=this.value?s.default.VOLUME_ON:s.default.VOLUME_OFF,this._volumeBtn=new r.default(this._template._btnWarp,{value:this.value,title:this.value?"静音":"取消静音",text:this.value?"静音":"取消静音",type:"icon-btn",icon:this.value?"live-icon-un-mute":"live-icon-mute",tooltip:"tip",tooltipAppendTo:this._options.tooltipAppendTo,onClick:function(t){e._volumeBtnClickHandler(),"function"==typeof e._options.onClick&&e._options.onClick(t,e)}}),this._volumeSlider=new l.default(this._template._sliderWarp,{value:this.value,type:"vertical",onChange:function(t){e._setVolumeLevel(t)},onMouseUp:this._options.onMouseUp}),this},t.prototype._bindEvents=function(){return this},t.prototype._volumeBtnClickHandler=function(e){switch(void 0===e&&(e=!1),this._state){case s.default.VOLUME_ON:this._setVolumeLevel(0),this._lastLevel=this._volumeSlider.getValue(),this._volumeSlider.setVerticalValue(0),this._volumeBtn.option("title","取消静音");break;case s.default.VOLUME_OFF:var t=this._lastLevel;e&&this._lastMutedLevel>=0&&(t=this._lastMutedLevel),this._setVolumeLevel(t),this._volumeSlider.setVerticalValue(t),this._volumeBtn.option("title","静音")}},t.prototype._setVolumeLevel=function(e){e>0?(this.value=e,this._state=s.default.VOLUME_ON,this._mutedState=!1,this._volumeBtn.options({value:e,icon:"live-icon-un-mute",title:"静音"})):(this.value=0,this._state=s.default.VOLUME_OFF,this._volumeBtn.options({value:e,icon:"live-icon-mute",title:"取消静音"}))},t}(a.default);t.default=A},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(5),r=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._initialize(),n}return o(t,e),t.prototype._triggerChange=function(){"function"==typeof this._options.onChange&&this._options.onChange(this.value)},t.prototype.checked=function(e){void 0===e&&(e=!0),this._template._checkbox.prop("checked",!!e)},t.prototype.fire=function(e){switch(e){case"click":this._template._checkbox.trigger("click")}},t.prototype.setValue=function(e){this.value=e,this.checked(!!e)},t.prototype._initialize=function(){this._create()._initStatus()._bindEvents()._setInitialized()},t.prototype._create=function(){var e,t=this._container,i=this._options,n=i.id||"";return e='<div class="'+a.default.prefix+'-checkbox-container">\n                    <label>\n                        <input id="'+n+'" type="checkbox" class="'+a.default.prefix+'-checkbox">\n                        <span class="'+a.default.prefix+'-checkbox-span no-select">'+i.label+"</span>\n                    </label>\n                </div>",t.html(e),this._template={_checkbox:t.find("."+a.default.prefix+"-checkbox"),_label:t.find("."+a.default.prefix+"-checkbox-span")},this},t.prototype._bindEvents=function(){var e=this,t=this._template._checkbox;return t.on("change",function(){e.value=t.prop("checked")?1:0}),this},t.prototype._initStatus=function(){return this._options.checked&&this._template._checkbox.prop("checked",!0),this},t}(a.default);t.default=r},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(5),r=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._activeStatus=0,n._initialize(),n}return o(t,e),t.prototype.setValue=function(e){this._changeSelected(e)},t.prototype._triggerChange=function(){"function"==typeof this._options.onChange&&this._options.onChange(this.value)},t.prototype._initialize=function(){this._create()._initStatus()._bindEvents()._setInitialized()},t.prototype._create=function(){var e=this._options,t=this._container,i="";return e.options&&e.options instanceof Array?(i='<div class="'+a.default.prefix+'-select-container black">\n                        <div class="'+a.default.prefix+'-select-checked"></div>\n                            <ul class="'+a.default.prefix+'-select-ul">',e.options.forEach(function(e){i+='<li class="'+a.default.prefix+'-select-li" data-value="'+e.value+'">'+e.text+"</li>"}),i+="</ul></div>",t.html(i),this._template={_container:t.find("."+a.default.prefix+"-select-container"),_selected:t.find("."+a.default.prefix+"-select-checked"),_ul:t.find("."+a.default.prefix+"-select-ul")}):console.error("options arguments error..."),this},t.prototype._initStatus=function(){return this._options.selected>=0&&this._changeSelected(this._options.selected),this},t.prototype._bindEvents=function(){var e=this,t=this._template,i=t._ul,n=t._container;return n.on("mouseenter",function(){n.addClass("active")}).on("mouseleave",function(){n.removeClass("active")}),i.on("click","li",function(t){var i=$(t.target),n=parseInt(i.attr("data-value").toString(),10);e._activeStatus!==n&&e._changeSelected(n,i)}),this},t.prototype._changeSelected=function(e,t){var i,n=this._template,o=n._container;o.find("."+a.default.prefix+"-select-li.active").removeClass("active"),(i=t||o.find("."+a.default.prefix+'-select-li[data-value="'+e+'"]')).addClass("active"),this._activeStatus=e,this.value=e,n._selected.html(i.html()),o.removeClass("active")},t}(a.default);t.default=r},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var i,n,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),r=i(0),l=i(1),s=i(2),A=i(19),c=i(13),d=function(){function e(e,t){this._player=e,this._options=t,this._SERVER_CALLBACK_QUEUE=[],this._RENDER_INTERVAL_TIME=2e3,this._TRACK_WS_CONNECT_ERROR_STATUS=!0,this.state={onlineCount:0,blockTypeList:[]}}return e.prototype.init=function(){this._initialize(),this._renderServerCallback()},e.prototype.destroy=function(){window.clearTimeout(this._TIMEOUT_SERVER_CALLBACK),window.clearTimeout(this._TIMEOUT_SERVER_CALLBACK_ADD),this._ws&&this._ws.destroy()},e.prototype.initHeartBeatReply=function(){this._heartBeatReply()},e.prototype._initialize=function(){var e=this;if(s.default.log("WebSocket Initializing.."),this._player.state.destroying)s.default.log("WebSocket Abort..");else{this._ws&&(s.default.log("Clear old WebSocket.."),this._ws.destroy());var t=this._player.config,i=t.protocol.websocket,n=t.server,o=t.hostList,l=t.protocol.port,A=t.socketToken;if(n){var c=i+"//"+n+":"+l+"/sub";this._ws=window.DanmakuWebSocket&&new window.DanmakuWebSocket({url:c,urlList:o.map(function(e){return i+"//"+e+":"+l+"/sub"}),rid:t.rid,uid:t.uid,protover:t.protover||0,retry:!0,retryInterval:0,customAuthParam:[{type:"string",key:"platform",value:"web"},{type:"string",key:"clientver",value:a.default.VERSION().version},{type:"number",key:"type",value:2},{type:"string",key:"key",value:A}],onOpen:function(){s.default.log("WebSocket On Open. rid:"+t.rid)},onClose:function(){s.default.log("WebSocket On Close.")},onError:function(){s.default.log("WebSocket On Error.",2)},onInitialized:function(){s.default.log("WebSocket Initialized.")},onReceivedMessage:function(t){e._messageReply(t)},onHeartBeatReply:function(t){e._heartBeatReply(t)},onReceiveAuthRes:function(t){e.handleAuthRes(t)},onListConnectError:function(){s.default.log("WebSocket On List Connect Error.",2),e._TRACK_WS_CONNECT_ERROR_STATUS&&(e._TRACK_WS_CONNECT_ERROR_STATUS=!1,e._player.track(r.TRACK.ERROR_CONNECTING_WEBSOCKET))},fallback:function(){s.default.log("WebSocket Supporting Error.",2)}})}}},e.prototype._messageReply=function(t){var i=this,n=this._player,o=n.config,a=n.state,s=o.rnd.toString(),d=!0;if(t instanceof Array)t.forEach(function(e){i._messageReply(e)});else if(t&&t instanceof Object){t.msg;if(o.useType===r.default.PLAYER_HOME&&-1===e.HOME_PLAYER_MSG.indexOf(t.cmd))return;var p=this.checkCmdPermission(t.cmd),u=p.type,h=p.shouldIgnore;switch(p.hasCheckNum&&(t.cmd=u),t.cmd){case r.STATE_STRING.WS_MESSAGE_DANMAKU:var f=t.info,g={mode:f[0][1],size:f[0][2],color:f[0][3],dmid:f[0][5],text:f[1],ignore:parseInt(f[2][0],10)===o.uid&&f[0][5].toString()===s,type:parseInt(f[0][9],10)||0},_={stime:-1,mode:g.mode,size:g.size,color:g.color,date:l.default.getTimeNow(!0),uid:f[2][0],dmid:g.dmid,text:g.text,uname:f[2][1],user:{level:f[4][0],rank:f[2][5],verify:!!f[2][6]},checkInfo:{ts:f[9].ts,ct:f[9].ct},type:g.type};if(d=!1,h.danmaku){(d=!h.callback)&&(d=!n.checkDanmakuBlockStatus(_));break}g.ignore||(d=!n.checkDanmakuBlockStatus(_))&&n.addDanmaku(_),h.callback&&(d=!1),f=null,g=null,_=null;break;case r.STATE_STRING.WS_MESSAGE_SEND_GIFT:this._player.state.onMini&&(d=!1);var b=t.data,m=[];m[r.default.DANMAKU_GIFT_666]="666",m[r.default.DANMAKU_GIFT_233]="233",m[r.default.DANMAKU_GIFT_FFF]="FFF",o.uid===b.uid&&s===b.rnd.toString()&&(d=!1),b.giftType&&d&&n.addDanmaku({stime:-1,mode:1,size:25,color:16777215,date:l.default.getTimeNow(!0),uid:b.uid,text:m[b.giftId],html:A.default.getSendGiftHtml(parseInt(b.giftId,10),parseInt(b.num,10))});break;case r.STATE_STRING.WS_MESSAGE_LIVE:if(!a.isStopPlayback){if(n.getLiveStatus()===r.default.L_STATUS_LIVE)return;n.resetStartTime(),n.state.lastOpState=r.default.LAST_OP_STATE_WS_LIVE,n.event.emit(r.EVENT.ON_LIVE),n.playingStatusSync()}break;case r.STATE_STRING.WS_MESSAGE_ROUND:a.isStopPlayback||n.event.emit(r.EVENT.ON_ROUND);break;case r.STATE_STRING.WS_MESSAGE_PREPARING:a.isStopPlayback||(n.changeUrlGuid(),n.refreshPausedTime(!1),n.refreshPlayingTime(!0),t.round?n.event.emit(r.EVENT.ON_PRE_ROUND,300):n.event.emit(r.EVENT.ON_PREPARING));break;case r.STATE_STRING.WS_MESSAGE_END:a.isStopPlayback||(n.setLiveStatus(r.default.L_END),n.end());break;case r.STATE_STRING.WS_MESSAGE_CLOSE:a.isStopPlayback||(n.setLiveStatus(r.default.L_CLOSE),n.end());break;case r.STATE_STRING.WS_MESSAGE_BLOCK:n.setLiveStatus(r.default.L_BLOCK),n.end();break;case r.STATE_STRING.WS_MESSAGE_REFRESH:a.isStopPlayback||(n.state.lastOpState=r.default.LAST_OP_STATE_WS_REFRESH,n.reload(r.default.LIVE_URL,4,!0));break;case r.STATE_STRING.WS_ROOM_LIMIT:setTimeout(function(){n&&n.requestRoomInit(function(e){e.code===c.default.ROOM_AREA_LIMIT_CODE&&n.forbidden(!1,e.msg)})},1e3*(t.delay_range||60));break;case r.STATE_STRING.WS_PK_PRE:case r.STATE_STRING.WS_PK_END:case r.STATE_STRING.WS_PK_SETTLE:n.state.forceBufferTimeout=2e3;break;case r.STATE_STRING.WS_PK_MIC_END:n.state.forceBufferTimeout=2e3,setTimeout(function(){n.state.forceBufferTimeout=0},2e4)}t.cmd!==r.STATE_STRING.WS_MESSAGE_DANMAKU&&t.cmd!==r.STATE_STRING.WS_MESSAGE_SEND_GIFT&&(t.cmd,r.STATE_STRING.WS_MESSAGE_WELCOME),t.cmd===r.STATE_STRING.WS_MESSAGE_SEND_GIFT&&(d=!0),d&&this._addServerCallbackSmoothly(t)}},e.prototype._addServerCallbackSmoothly=function(e){switch(e.cmd){case r.STATE_STRING.WS_MESSAGE_DANMAKU:case r.STATE_STRING.WS_MESSAGE_SEND_GIFT:case r.STATE_STRING.WS_MESSAGE_WELCOME:this._player.getVisibilityStatus()?this._SERVER_CALLBACK_QUEUE.push(e):l.default.fireEventCallback(this._player.callbackMap.receiveMessage,e);break;default:l.default.fireEventCallback(this._player.callbackMap.receiveMessage,e)}},e.prototype._renderServerCallback=function(){var e=this;if(this._SERVER_CALLBACK_QUEUE.length){var t=this._getCurrentServerCallbackQueue(),i=this._RENDER_INTERVAL_TIME/t.length;this._callServerCallback(t,i)}this._TIMEOUT_SERVER_CALLBACK=window.setTimeout(function(){e._renderServerCallback()},this._RENDER_INTERVAL_TIME)},e.prototype._callServerCallback=function(e,t){var i=this;if(void 0===t&&(t=this._RENDER_INTERVAL_TIME),e.length){var n=e.splice(0,1)[0];l.default.fireEventCallback(this._player.callbackMap.receiveMessage,n),this._TIMEOUT_SERVER_CALLBACK_ADD=window.setTimeout(function(){i._callServerCallback(e,t)},t)}},e.prototype.handleAuthRes=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:if(0===e.length||!e[0])return[3,4];switch(e[0].code){case r.default.WS_AUTH_TOKEN_ERROR:return[3,1]}return[3,3];case 1:return[4,this._player.getDanmuKuInfo()];case 2:return t.sent(),this.destroy(),this._initialize(),[3,4];case 3:return[3,4];case 4:return[2]}})})},e.prototype._getCurrentServerCallbackQueue=function(){var e=[];return this._SERVER_CALLBACK_QUEUE.forEach(function(t){e.push($.extend({},t))}),this._SERVER_CALLBACK_QUEUE=[],e},e.prototype._heartBeatReply=function(e){e&&(this.state.onlineCount=e.count),l.default.fireEventCallback(this._player.callbackMap.receiveOnlineCount,this.state.onlineCount)},e.prototype.checkCmdPermission=function(e){var t={danmaku:!1,callback:!1},i=!1;if("[object String]"!==Object.prototype.toString.call(e))return{shouldIgnore:t,hasCheckNum:i,type:""};var n=e.split(":"),o=n[0];if(1!==n.length)switch(i=!0,parseInt(n[4],10)){case 0:t.danmaku=!1,t.callback=!1;break;case 1:t.danmaku=!1,t.callback=!0;break;case 2:t.danmaku=!0,t.callback=!1;break;case 3:t.danmaku=!0,t.callback=!0}return{type:o,shouldIgnore:t,hasCheckNum:i}},e.HOME_PLAYER_MSG=[r.STATE_STRING.WS_MESSAGE_DANMAKU,r.STATE_STRING.WS_ROOM_LIMIT],e}();t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(6),o=i(8),a=i(65),r=i(66),l=i(70),s=i(71),A=i(20),c=i(73),d=function(){function e(e){this.config=n.default.assign({container:document.getElementById("player"),bold:!0,duration:4.5,danmakuNumber:500,fontBorder:0,fontFamily:'SimHei, "Microsoft JhengHei"',fontSize:1,fullScreenSync:!1,offsetTop:0,offsetBottom:0,opacity:1,preventShade:!1,speedPlus:1,type:"div",videoSpeed:1,visible:!0,isRecycling:!1,isLive:!1,danmakuFilter:function(e){return!0},danmakuInserting:function(e){},containerUpdating:function(e){},listUpdating:function(e){},countUpdating:function(e){},timeSyncFunc:function(){return window.performance.now()}},e),this.container=this.config.container,this.paused=!0,this.danmakuArray=[],this.time=0,this.timeZero=0,this.pauseTime=0,this.startTime=(new Date).getTime(),this.visualArray=new o.default,this.timeLine=new a.default,this.setType(),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}return e.prototype.addTimely=function(e){var t=this.renderDanmaku(e);-1===e.stime?this.manager&&this.manager.start(t,!0):(this.timeLine.insert(t),t.border&&this.manager&&this.manager.start(t,!0))},e.prototype.addAll=function(e){for(var t=this,i=0,n=e.length;i<n;i++)e[i]=this.renderDanmaku(e[i]);var o=new Worker(c.default);o.postMessage(e),o.onmessage=function(i){if(t.timeLine.length>0)for(var n=0,a=e.length;n<a;n++)t.timeLine.insert(e[n]);else t.timeLine.push.apply(t.timeLine,i.data);o.terminate()}},e.prototype.renderDanmaku=function(e){return n.default.assign({},e,{border:e.border||!1,borderColor:e.borderColor||6750207,on:!1})},e.prototype.setType=function(e,t){this.config.devicePR=2,e=e||this.config.type;var i=this.config.container,n={div:"div",css:"section",canvas:"canvas"};if(i.tagName.toLowerCase()!==n[e]){var o=i.getAttribute("class"),a=i.getAttribute("id"),r=i.parentNode,l=i.offsetWidth,s=i.offsetHeight;r.removeChild(i),this.manager&&this.manager.destroy();var A=t||document.createElement(n[e]);r.appendChild(A),A.setAttribute("class",o),A.width=l*this.config.devicePR,A.height=s*this.config.devicePR,a&&A.setAttribute("id",a),this.config.container=A,this.manager=this.createManager(e),this.config.containerUpdating(i)}else this.manager||(this.manager=this.createManager(e))},e.prototype.count=function(){return this.danmakuArray?this.danmakuArray.length:0},e.prototype.createManager=function(e){var t;switch(e){case"div":t=new r.default(this);break;case"canvas":t=new l.default(this);break;case"css":t=new s.default(this);break;default:t=new r.default(this)}return t},e.prototype.danmakuType=function(e){if(!e)return this.config.type;if(e===this.config.type)return e;switch(e){case"div":this.option("type","div");break;case"canvas":this.option("type","canvas");break;default:this.option("type","div")}return e},e.prototype.exportDanmaku=function(e){var t=document.createElement("canvas"),i=t.getContext("2d");this.config.devicePR=2,t.width=this.config.width*this.config.devicePR,t.height=this.config.height*this.config.devicePR,t.style.width=this.config.width,t.style.height=this.config.height;for(var n=!1,o=0;o<this.visualArray.length;o++){var a=this.visualArray[o],r=new A.default(a.textData,this.config,0).textRender(a.textData,this.config);6===a.textData.mode&&(n=!0);var l=a._x*this.config.devicePR,s=a._y*this.config.devicePR;i.drawImage(r.bitmap,n?this.config.width-l-r.width||0:l,s,r.width,r.height)}return t},e.prototype.play=function(e){var t=this;this.paused&&(this.paused=!1,this.timeZero=this.pauseTime,this.startTime=(new Date).getTime(),this.pauseTime=0,window.requestAnimationFrame(function(){t.nextFrame(e)}))},e.prototype.pause=function(){if(!this.paused){this.paused=!0;var e=(new Date).getTime();this.pauseTime=this.timeZero+e-this.startTime}},e.prototype.toggle=function(){this.paused?this.play():this.pause()},e.prototype.seek=function(e,t){this.clear(),this.timeZero=1e3*e,this.startTime=(new Date).getTime(),this.paused?(this.play(t?e:0),this.pause()):this.play(t?e:0)},e.prototype.add=function(e){e.canvas&&e.canvas.length<1||(-1===e.stime&&(e.stime=this.config.timeSyncFunc()/1e3+.1),this.addTimely(e),this.config.isLive||(this.danmakuArray.push(e),"function"==typeof this.config.listUpdating&&this.config.listUpdating(this.danmakuArray),"function"==typeof this.config.countUpdating&&this.config.countUpdating(this.danmakuArray.length)))},e.prototype.remove=function(e){if(this.manager){for(var t=0;t<this.danmakuArray.length;t++)e===this.danmakuArray[t].dmid&&this.danmakuArray.splice(t,1);this.manager.remove(e)}},e.prototype.multipleAdd=function(e){if(e&&e.length){this.danmakuArray=this.danmakuArray.concat(e);for(var t=0;t<e.length;t++)this.timeLine.insert(e[t]);"function"==typeof this.config.listUpdating&&this.config.listUpdating(this.danmakuArray),"function"==typeof this.config.countUpdating&&this.config.countUpdating(this.danmakuArray.length)}},e.prototype.searchAreaDanmaku=function(e,t){e=(e||0)*this.config.devicePR,t=(t||0)*this.config.devicePR;for(var i=[],n=this.visualArray.length-1;n>=0;n--){var o=this.visualArray[n];o.textData&&6===o.textData.mode?e>=o.x-o._x-o.width-5&&e<=o.x-o._x+5&&t>=o._y-5&&t-o.height<=o._y+5&&i.push(o):e>=o._x-5&&e<=o._x+o.width+5&&t>=o._y-5&&t-o.height<=o._y+5&&i.push(o)}return i},e.prototype.option=function(e,t){if(e&&void 0!==t)switch(e){case"container":if(1===arguments.length)return this.config.container;if(!t||"object"!=typeof t||1!==t.nodeType||"string"!=typeof t.nodeName)return;return void this.setType(this.config.type,t);case"type":if(1===arguments.length)return this.config.type;this.setType(t),this.seek(this.time/1e3,!0);break;case"fontfamily":if(1===arguments.length)return this.config.fontFamily;this.manager&&(this.manager.config.fontFamily=t);break;case"bold":if(1===arguments.length)return this.config.bold;this.manager&&(this.manager.config.bold=t);break;case"preventshade":if(1===arguments.length)return this.config.preventShade;this.manager&&(this.manager.config.preventShade=t);break;case"speedplus":if(1===arguments.length)return this.config.speedPlus;this.manager&&(this.manager.config.speedPlus=t);break;case"fontsize":if(1===arguments.length)return this.config.fontSize;this.manager&&(this.manager.config.fontSize=t);break;case"fullscreensync":if(1===arguments.length)return this.config.fullScreenSync;this.manager&&(this.manager.config.fullScreenSync=t);break;case"danmakunumber":if(1===arguments.length)return this.config.danmakuNumber;this.manager&&(this.manager.config.danmakuNumber=t);break;case"duration":if(1===arguments.length)return this.config.duration;this.manager&&(this.manager.config.duration=t);break;case"fontborder":if(1===arguments.length)return this.config.fontBorder;this.manager&&(this.manager.config.fontBorder=t);break;case"visible":if(1===arguments.length)return this.config.visible;this.manager&&(this.manager.config.visible=t);break;case"videospeed":if(1===arguments.length)return this.config.videoSpeed;this.manager&&(this.manager.config.videoSpeed=t);break;case"opacity":if(1===arguments.length)return this.config.opacity;this.manager&&(this.manager.config.opacity=t);break;default:this.manager&&this.manager.option(e,t)}},e.prototype.nextFrame=function(e){var t=this,i=(new Date).getTime();if(this.time=this.timeZero+(i-this.startTime)*this.config.videoSpeed,"function"==typeof this.config.timeSyncFunc){var n=this.config.timeSyncFunc();(Math.abs(n-this.time)>1e3||isNaN(this.time))&&(this.time=n,this.timeZero=n,this.startTime=i)}!isNaN(this.time)&&this.manager&&this.visible()&&(this.manager.onTime(this.time/1e3,e),this.manager.render(this.time/1e3,this.paused,e)),this.paused||window.requestAnimationFrame(function(){t.nextFrame()})},e.prototype.visible=function(e){return 0===arguments.length?this.config.visible:(this.config.visible!==e&&(this.config.visible=e,!this.config.visible&&this.manager&&this.manager.clearVisualList()),e)},e.prototype.resize=function(){this.manager&&this.manager.resize()},e.prototype.clear=function(){this.manager.clearVisualList()},e.prototype.destroy=function(){this.pause(),this.clear()},e.prototype.reload=function(){this.timeLine=new a.default,this.visualArray=new o.default},e.VERSION=function(){return{version:"1.10.4"}},e}();t.default=d},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(i){var n=e.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n.fnCompare=i||t.fnCompareDefault,n}return o(t,e),t.fnCompareDefault=function(e,t){return e.stime-t.stime},t.prototype.insert=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0;i<e.length;)this.binsert(e[i],this.fnCompare),i++;return this},t.prototype.remove=function(e){for(var t=this.bsearch(e,this.fnCompare);t>=0;){if(this[t]===e)return this.splice(t,1),!0;t--}return!1},t.prototype.getItemsByRange=function(e,t,i){void 0===i&&(i=!1);var n=this.bsearch(e,this.fnCompare),o=this.bsearch(t,this.fnCompare);return i&&n>0&&(this.splice(0,n),o-=n,n=0),i?this.splice(n,o-n):this.getItemsByIndexRange(n,o)},t.prototype.getItemsByIndexRange=function(e,t){var i=[];if(t<=e)return i;for(;e<t&&e<this.length;)i.push(this[e]),e++;return i},t}(i(8).default);t.default=a},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),r=i(69),l=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.getText=function(e,t){var i;return this.config.devicePR=1,this.config.isRecycling&&this.recyclingDivList.length&&(i=this.recyclingDivList.splice(0,1)[0]),new r.default(e,this.config,t?t-e.stime:0,i)},t}(a.default);t.default=l},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(68),r=function(){function e(e){this.config=e}return e.prototype.onStart=function(e){this.spaceManager.add(e),e.manager=this},e.prototype.onEnd=function(e,t){this.spaceManager.remove(e),e.manager=null,e.free()},e}(),l={1:function(e){function t(t){var i=e.call(this,t)||this;return i.spaceManager=new a.default(t,!0),i}return o(t,e),t.prototype.onUpdate=function(e,t){return!(!e.paused&&e.rest<(+new Date-e.pauseTime)/1e3)&&(e._x=e.getX(t),e._y=e.y,!0)},t.prototype.onEnd=function(e,t){return this.spaceManager.remove(e),e.manager=null,e.free(t)},t}(r),4:function(e){function t(t){var i=e.call(this,t)||this;return i.spaceManager=new a.default(t),i}return o(t,e),t.prototype.onUpdate=function(e,t){return!(e.end<t)&&(e._x=e.x,e._y=this.config.height*(this.config.preventShade?.85:1)-(this.config.offsetBottom||0)-e.y-e.height+(this.config.offsetTop||0),!0)},t}(r),5:function(e){function t(t){var i=e.call(this,t)||this;return i.spaceManager=new a.default(t),i}return o(t,e),t.prototype.onUpdate=function(e,t){return!(e.end<t)&&(e._x=e.x,e._y=e.y,!0)},t}(r),6:function(e){function t(t){var i=e.call(this,t)||this;return i.spaceManager=new a.default(t,!0),i}return o(t,e),t.prototype.onUpdate=function(e,t){return!(e.end<t)&&(e._x=e.getX(t),e._y=e.y,!0)},t.prototype.onEnd=function(e,t){return this.spaceManager.remove(e),e.manager=null,e.free(t)},t}(r),x:function(e){function t(t){var i=e.call(this,t)||this;return i.spaceManager=new a.default(t,!0),i}return o(t,e),t.prototype.onUpdate=function(e,t){return!(!e.paused&&e.rest<(+new Date-e.pauseTime)/1e3)&&(e._x=e.getX(t),e._y=e.y,!0)},t}(r)};t.default=function(e){var t={};for(var i in l)l.hasOwnProperty(i)&&(t[i]=new l[i](e));return t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(8),o=function(){function e(e,t){this.config=e,this.scroll=t,this.lists=[]}return e.prototype.clean=function(){this.lists=[]},e.prototype.add=function(e){this.scroll?e.x=this.config.width:e.x=(this.config.width-e.width)/2,e.height>=this.config.height*(this.config.preventShade?.85:1)-(this.config.offsetTop||0)-(this.config.offsetBottom||0)?e.setY(0,-1):this.setY(e,0)},e.prototype.remove=function(e){-1!==e.index&&void 0!==this.lists[e.index]&&this.lists[e.index].bremove(e)},e.prototype.vCheck=function(e,t,i){var n,o,a=e+t.height;if(this.scroll){var r=t.x+t.width;for(n=0;n<this.lists[i].length;n++)if(o=this.lists[i][n]){if(e<(this.config.offsetTop||0))return!1;if(!(o.y>a||o.bottom<e)){if(o.getRight(t.start)<t.x||o.getX(t.start)>r){if(o.end<=t.middle)continue;return!1}return!1}}}else for(n=0;n<this.lists[i].length;n++)if(!(((o=this.lists[i][n]).y>a||o.bottom<e)&&e>=(this.config.offsetTop||0)))return!1;return!0},e.prototype.setY=function(e,t){var i=this.config.offsetTop||0,o=!1;void 0!==e.textData.offsetTop&&(o=!0,i=e.textData.offsetTop||0),this.lists.length<=t&&this.lists.push(new n.default);var a=this.lists[t];if(0===a.length)return e.setY(i,t),void a.push(e);if(this.vCheck(i,e,t)||o)return e.setY(i,t),void this.insert(a,e);for(var r=0;r<a.length;r++){var l=a[r];if(l){if((i=l.bottom+1)+e.height>this.config.height*(this.config.preventShade?.85:1)-(this.config.offsetBottom||0)){this.config.isLive&&(e.y=-100,e.x=-100);break}if(this.vCheck(i,e,t))return e.setY(i,t),void this.insert(a,e)}}!this.config.isLive&&this.setY(e,t+1)},e.prototype.insert=function(e,t){e.binsert(t,function(e,t){return t&&e?e.bottom-t.bottom:0})},e}();t.default=o},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(6),r=function(e){function t(t,i,n,o){return void 0===n&&(n=0),e.call(this,t,i,n,o)||this}return o(t,e),t.prototype.textRender=function(e,t){var i,n=[],o=a.default.getHexColor(this.GetOutlineColor(e));n[0]="1px 0 1px "+o+",0 1px 1px "+o+",0 -1px 1px "+o+",-1px 0 1px "+o,n[1]="0px 0px 1px "+o+",0 0 1px "+o+",0 0 1px "+o,n[2]="1px 1px 2px "+o+",0 0 1px "+o;var r=!0;this.recyclingDiv?(r=!1,(i=this.recyclingDiv).innerHTML=""):(i=document.createElement("div")).className="bilibili-danmaku",e.divClassName&&(i.className=i.className+" "+e.divClassName);var l="-webkit-touch-callout: none; -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none;position: absolute; white-space: pre; pointer-events: none;-webkit-perspective:500px;display:none;will-change: transform;";e.text&&(i.innerText=e.text.replace(/\r/g,"\r\n")),e.html?i.innerHTML=e.html:(l+="font-size: "+e.size*t.fontSize*(t.fullScreenSync?this.parent.getBoundingClientRect().height/440:1)+"px; ",l+="color: "+a.default.getHexColor(e.color)+" ;",l+="font-family: "+t.fontFamily+", Arial, Helvetica, sans-serif; ",l+="font-weight: "+(t.bold?"bold":"normal")+"; ",l+="line-height: 1.125 ;",l+="opacity: "+(t.opacity<.1?.1:t.opacity)+"; ",l+="text-shadow: "+n[t.fontBorder]+"; "),6===e.mode?l+="right: "+(this.config.width-1)+"px; ":l+="left: "+(this.config.width-1)+"px; ",e.border&&(l+="border: 1px solid "+a.default.getHexColor(e.borderColor)+"; ",l+="padding-left: 1px; padding-right: 1px"),l+="filter: glow(color=#000000,strength=3)",i.style.cssText=l,r&&this.parent.appendChild(i),i.style.display="inline-block";var s=i.getBoundingClientRect();return{bitmap:i,width:s.width,height:s.height}},t.prototype.render=function(e,t){var i,n;if(6===this.textData.mode&&(n=!0),this.startTime||(this.startTime=+new Date),!this.running){if(this.running=!0,this.element.style.top=t+"px",this.pauseTime=+new Date,4===this.textData.mode||5===this.textData.mode)return this.element.style.left="50%",void(this.element.style.marginLeft=-this.width/2+"px");if(1===this.textData.mode||6===this.textData.mode||"x"===this.textData.mode)for(n?this.element.style.right=e+"px":this.element.style.left=e+"px",i=0;i<this.browserPrefix.length;i++)this.element.style.cssText+=this.browserPrefix[i]+"transform: translateX("+(n?1:-1)*(this.config.width+this.width)+"px) translateY(0px) translateZ(0px);"+this.browserPrefix[i]+"transition: "+this.browserPrefix[i]+"transform "+this.rest+"s linear;"}if((1===this.textData.mode||6===this.textData.mode||"x"===this.textData.mode)&&this.paused)for(this.paused=!1,this.pauseTime=+new Date,i=0;i<this.browserPrefix.length;i++)this.element.style.cssText+=this.browserPrefix[i]+"transform: translateX("+(n?1:-1)*(this.parentWidth+this.width)+"px) translateY(0px) translateZ(0px);"+this.browserPrefix[i]+"transition: "+this.browserPrefix[i]+"transform "+this.rest+"s linear;"},t.prototype.pause=function(e,t){var i,n;if(this.running||(this.running=!0,this.element.style.top=t+"px",this.pauseTime=+new Date),1===this.textData.mode||6===this.textData.mode||"x"===this.textData.mode)for(6===this.textData.mode&&(n=!0),this.paused=!0,this.pauseTime&&(this.rest=this.rest-(+new Date-this.pauseTime)/1e3),this.pauseTime=+new Date,i=0;i<this.browserPrefix.length;i++)this.element.style.cssText+=this.browserPrefix[i]+"transform: translateX("+(n?1:-1)*(this.parentWidth-e)+"px) translateY(0px) translateZ(0px);"+this.browserPrefix[i]+"transition: "+this.browserPrefix[i]+"transform 0s linear;";else if(4===this.textData.mode||5===this.textData.mode)return this.element.style.left="50%",void(this.element.style.marginLeft=-this.width/2+"px")},t.prototype.textFree=function(e){this.parent.removeChild(e)},t}(i(10).default);t.default=r},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(6),r=i(9),l=i(20),s=function(e){function t(t){var i=e.call(this,t)||this;return i.paused=!1,i}return o(t,e),t.prototype.getText=function(e,t){return new l.default(e,this.config,t?t-e.stime:0)},t.prototype.resize=function(){this.config.width=(this.container.offsetWidth||680)*this.config.devicePR,this.config.height=(this.container.offsetHeight||420)*this.config.devicePR,!this.container||this.container.width===this.config.width&&this.container.height===this.config.height||(this.container.width=this.config.width,this.container.height=this.config.height,e.prototype.isPause.call(this)&&this.fresh())},t.prototype.beforeRender=function(e){if(this.paused&&!e)return this.paused=e,!0;this.paused=e,this.container.getContext("2d").clearRect(0,0,this.config.width,this.config.height)},t.prototype.afterRender=function(){a.default.browser.version.safari&&(this.container.style.webkitUserSelect="initial"===this.container.style.webkitUserSelect?"none":"initial")},t.prototype.fresh=function(){var e;for(e=0;e<this.visualArray.length;e++)this.config.danmakuFilter(this.visualArray[e].textData)?this.visualArray[e].show():this.visualArray[e].hide();for(this.container.getContext("2d").clearRect(0,0,this.config.width,this.config.height),e=0;e<this.visualArray.length;e++){var t=this.visualArray[e];"hidden"!==t.element.visibility&&t.render(t._x,t._y,this.config.width,null,!0)}},t.prototype.clearVisualList=function(){for(;this.visualArray.length;)e.prototype.end.call(this,this.visualArray[0]);this.lastTime=-3,this.fresh()},t.prototype.init=function(){this.container=this.config.container,this.opacityHack()},t.prototype.option=function(e,t){this.config[e]=t,this.opacityHack()},t.prototype.opacityHack=function(){var e=navigator.userAgent;/Gecko/i.test(e)&&!/KHTML/i.test(e)&&!/Trident/i.test(e)&&e.indexOf("49.0")>-1&&(this.container.style.opacity=this.config.opacity)},t}(r.default);t.default=s},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),r=i(72),l=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.getText=function(e,t){return this.config.devicePR=1,new r.default(e,this.config,t?t-e.stime:0)},t}(a.default);t.default=l},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i(6),r=function(e){function t(t,i,n){return void 0===n&&(n=0),e.call(this,t,i,n)||this}return o(t,e),t.prototype.textRender=function(e,t){var i=[],n=a.default.getHexColor(this.GetOutlineColor(e));i[0]="1px 0 1px "+n+",0 1px 1px "+n+",0 -1px 1px "+n+",-1px 0 1px "+n,i[1]="0px 0px 1px "+n+",0 0 1px "+n+",0 0 1px "+n,i[2]="1px 1px 2px "+n+",0 0 1px "+n;var o=document.createElement("div");return o.className="bilibili-danmaku",o.appendChild(document.createTextNode(e.text.replace(/\r/g,"\r\n"))),e.html?o.innerHTML=e.html:(o.style.color=a.default.getHexColor(e.color),o.style.fontSize=e.size*t.fontSize*(t.fullScreenSync?this.parent.getBoundingClientRect().height/440:1)+"px",o.style.fontFamily=t.fontFamily+", Arial, Helvetica, sans-serif",o.style.fontWeight=t.bold?"bold":"normal",o.style.lineHeight="1.125"),6===e.mode?o.style.right=this.parent.offsetWidth-1+"px":o.style.left=this.parent.offsetWidth-1+"px",o.style.position="absolute",o.style.whiteSpace="nowrap",o.style.pointerEvents="none",o.style.opacity=(t.opacity<.1?.1:t.opacity)+"",o.style.textShadow=i[t.fontBorder],e.border&&(o.style.border="1px solid "+a.default.getHexColor(e.borderColor),o.style.paddingLeft="1px",o.style.paddingRight="1px"),o.style.filter="glow(color=#000000,strength=3)",this.parent.appendChild(o),{bitmap:o,width:o.offsetWidth,height:o.offsetHeight}},t.prototype.render=function(e,t,i){var n=!1;if(this.startTime||(this.startTime=+new Date,this.pauseTime=+new Date),this.paused&&!i)return this.paused=!1,this.pauseTime=+new Date,!0;6===this.textData.mode&&(n=!0);try{null!=this.element&&"hidden"!==this.element.style.visibility&&(this.element.style.left=(n?this.config.width-e-this.width||0:e)+"px",isNaN(e)&&(this.element.style.left=(-this.width||0)+"px"),this.element.style.top=t+"px")}catch(e){console.warn(e)}},t.prototype.pause=function(e,t){this.paused=!0,this.pauseTime&&(this.rest=this.rest-(+new Date-this.pauseTime)/1e3),this.pauseTime=+new Date,this.render(e,t,!0)},t.prototype.textFree=function(e){this.parent.removeChild(e)},t}(i(10).default);t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Blob(["onmessage = function (event) {\n    var a = event.data;\n    var l = [];\n    for (var i = 0, len = a.length; i < len; i++) {\n        var n = bsearch(a[i]);\n        l.splice(n, 0, a[i])\n    }\n    postMessage(l);\n    function fn(a, b) {\n        return a.stime - b.stime;\n    }\n    function bsearch(a) {\n        if (l.length === 0) return 0;\n        if (fn(a, l[0]) < 0) return 0;\n        if (fn(a, l[l.length - 1]) >= 0) return l.length;\n        var low = 0,hig = l.length - 1,count = 0,i;\n        while (low <= hig) {\n            i = Math.floor((low + hig + 1) / 2);\n            count++;\n            if (fn(a, l[i - 1]) >= 0 && fn(a, l[i]) < 0) {\n                return i;\n            } else if (fn(a, l[i - 1]) < 0) {\n                hig = i - 1;\n            } else if (fn(a, l[i]) >= 0) {\n                low = i;\n            } else {\n                console.error('Catch an ERROR');\n            }\n            if (count > 1000) {\n                console.error('1000');\n                break;\n            }\n        }\n        return -1;\n    }\n}"],{type:"application/javascript"}),o=URL.createObjectURL(n);t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),o=i(1),a=i(2),r=i(0),l=i(75),s=i(76),A=function(){function e(e,t){var i=this;this._player=e,this._container=t,this._timeUpdateCallbackList=[],this._lastCurrentTime=0,this._lastTrackTime=0,this.CHECK_CHASING_FRAME_ID=null,this._reloadStatus=!0,this._restoreStatus=!1,this._lastVolume=.9,this._fetchReloadCount=0,this._unknownNetworkReloadCount=0,this._bufferingSlowlyStartTime=0,this._destroyStatus=!1,this._detectSlowlyStatus=!0,this._bufferedTime=0,this._guid=o.default.guid(),this._uniqueIDPrefix="blp_"+o.default.getRandomString(8)+"_",this.autoFixAudioTimestampGapStatus=!0,this.firstAudioFrameDecoded=!1,this.firstVideoFrameDecoded=!1,this.totalBytes=0,this.initialTime=o.default.getTimeNow(),this.autoPlayerHandler=function(){try{i._player.components.template.wrap.attr("data-auto-play-state","true"),i.play()}catch(e){}document.body&&document.body.removeEventListener("click",i.autoPlayerHandler)},this.INTERVAL={MAX_TIME:1e4,RELOAD_TIME_OUT:0,BUFFERING_TIME_OUT:0,CHECK_CHASING_FRAME:1e3,CHECK_PLAYING_DELAY_TIME:null,PROTECT_MAX_COUNT:5,ADJUST_CHASING_PROP:.9},this.state={autoPlayError:!1,bufferingMaxTime:1e4,bufferingDelayTime:2e3,playingMuted:!1,hasEmitAutoPlayEvent:!0,shouldShowAutoTips:o.default.getLocalStorage(r.STATE_STRING.BILIBILI_PLAYER_SHOW_TIP_BASE_TIME)||0,cacheTotalBytes:[],bitRate:0,playbackDelayThreshold:0,checkDelayTime:2e3,getDelayCount:0,delayTimeSum:0,lastTotalBytes:0,protectCount:0,shouldOpenChasingFrame:!0,lastDelayGrade:4,hasAutoPlay:!1,canplayBufferLength:2e3,bufferingSlowlyType:1},this._initialize()}return e.prototype.play=function(){var e=this._player;e.config.browser,e.getUserId();if(this._flvPlayer){a.default.log("Video Playing..");var t=this._videoElement&&this._videoElement.play();t&&this.handlePlayPromise(t),this._player.trackFirstLoaded()}else r.default.L_STATUS_LIVE===e.getLiveStatus()||(r.default.L_STATUS_ROUND,e.getLiveStatus());return this},e.prototype.pause=function(){return a.default.log("Video Paused."),this._flvPlayer&&this._flvPlayer.pause(),this},e.prototype.end=function(){this._player.pause(),this.reset()},e.prototype.destroy=function(e){if(void 0===e&&(e=!1),a.default.log("Video Destroyed."),this.clearDetectBufferSlowly(),window.clearTimeout(this._roundCounterTime),window.clearTimeout(this.CHECK_CHASING_FRAME_ID),this.CHECK_CHASING_FRAME_ID=null,this._destroyVideoBackup(),this._player.config.useType===r.default.PLAYER_HOME){if(r.default.L_STATUS_ROUND===this._player.getLiveStatus())return void(this._flvPlayer&&this._flvPlayer.pause());this._flvPlayer&&this._flvPlayer.unload()}else this._flvPlayer&&this._flvPlayer.destroy();this._flvPlayer=void 0,e&&(this._destroyStatus=!0,this._video.remove())},e.prototype.getConfig=function(){return this._flvPlayer&&"function"==typeof this._flvPlayer.getConfig?this._flvPlayer.getConfig():null},e.prototype.getClipCacheData=function(){return this._flvPlayer&&"function"==typeof this._flvPlayer.getClipCacheData?this._flvPlayer.getClipCacheData():null},Object.defineProperty(e.prototype,"canClip",{get:function(){return!!this._flvPlayer&&this._flvPlayer.canClip},enumerable:!0,configurable:!0}),e.prototype.addLoadingPicture=function(e){if(!this._player.state.onSwitching){var t=this._container.find(".bilibili-live-player-video-loading-picture");t.length||this._container.append($('<div class="bilibili-live-player-video-loading-picture"></div>')),t.show(),t.css({"background-image":"url("+e+")"})}},e.prototype.removeLoadingPicture=function(){this._container.find(".bilibili-live-player-video-loading-picture").hide()},e.prototype.changeMutedState=function(){this._videoElement&&(this._videoElement.muted=!1,this.state.playingMuted=!1)},e.prototype.reloadLive=function(e,t,i){var n=this;if(void 0===t&&(t=0),void 0===i&&(i=!1),e){if(this._reloadStatus){this._player.logTimeReload=a.default.log("\n== Reloading Live =="),this._reloadedCallback=function(){clearTimeout(n.INTERVAL.RELOAD_TIME_OUT)},this._bufferSlowlyEnd()._resetDetectBufferSlowly(),this._flvPlayer&&(this._reloadStatus=!1,this._flvPlayerBackup=this._flvPlayer,this._createVideoElement()._bindEvents(),i&&this._destroyVideoBackup()),this._createPlayer(e);var o=this._player.components;o&&o.controller&&o.controller.resetDurationTime()}return this}a.default.log("Video reload live missing url.")},e.prototype.reloadRound=function(e){var t=this;this._reloadStatus&&(this._player.logTimeReload=a.default.log("\n== Reloading Round =="),this._player.state.loadingPicture&&this.addLoadingPicture(this._player.state.loadingPicture),this.showLoading(),this._timeUpdateCallbackList=[],this._flvPlayer&&(this._reloadStatus=!1,this._flvPlayerBackup=this._flvPlayer,this._createVideoElement()._bindEvents(),this._destroyVideoBackup()),this._createPlayer("",e.time,e.roundData),this._timeUpdateCallbackList.push(function(){t._player.components&&t._player.components.controller&&t._player.components.controller.reloadRound({time:t._videoElement.currentTime||e.time})}),this._createRoundTitle(e.title))},e.prototype.setPlaybackRate=function(e){if(this._videoElement&&e>=0&&this.getPlaybackRate()!==e)try{return a.default.log("set playback rate: "+e),this._videoElement.playbackRate=e,!0}catch(e){return a.default.log("set playback rate: error",3),!1}return!1},e.prototype.getPlaybackRate=function(){return this._videoElement?this._videoElement.playbackRate:0},e.prototype.volume=function(e){if(e>=0&&e<=1){this._player.getVideoStatus();this._lastVolume=e,this._videoElement.volume=e}return this},e.prototype.initLive=function(e){e&&this.reloadLive(e)},e.prototype.initRound=function(){},e.prototype.showLoading=function(e){void 0===e&&(e=0),this._loading||(this._loading=this._container.find(".bilibili-live-player-video-loading"),this._loading.length||(this._loading=$('<div class="bilibili-live-player-video-loading">\n                                    <div class="video-loading"></div>\n                               </div>'),this._container.append(this._loading)))},e.prototype.hideLoading=function(){this._loading&&(this._loading.remove(),this._loading=void 0)},e.prototype.counterRoundPlay=function(t){this.destroy(),this.hideLoading(),this.removeLoadingPicture();var i=$('<div class="'+e._ROUND_COUNTER_CLASS+'">\n                    <p>\n                        <span class="'+e._ROUND_COUNTER_CLASS+'-span">05:00</span>\n                        后\n                    </p>\n                    <p>主播的投稿视频将轮流播放</p>\n                </div>');this._roundCounter=i.prependTo(this._container),this._roundCounterSpan=this._roundCounter.find("."+e._ROUND_COUNTER_CLASS+"-span"),this._counterRoundPlay(t)},e.prototype.clearDetectBufferSlowly=function(){this._detectSlowlyStatus=!1,this.hideLoading(),window.clearTimeout(this._TIMEOUT_DETECT_SLOWLY),window.clearTimeout(this._BACKUP_DETECT_SLOWLY),window.clearTimeout(this.INTERVAL.BUFFERING_TIME_OUT)},e.prototype.restoreVideoBackup=function(){var e=this;this._flvPlayerBackup&&!this._restoreStatus&&(a.default.log("Restore Backup FlvPlayer.."),this._restoreStatus=!0,$(this._videoElement).off().fadeIn(50),setTimeout(function(){$(e._videoElement).remove(),e._flvPlayer&&e._flvPlayer.destroy(),e._flvPlayer=e._flvPlayerBackup,e._videoElement=e._videoElementBackup,e._reloadStatus=!0,e._flvPlayerBackup=void 0,e._restoreStatus=!1,e._resetDetectBufferSlowly(),e._detectBufferSlowly(),e._bindEvents()},50))},e.prototype.resetReloadCount=function(){this._fetchReloadCount=0},e.prototype.reset=function(e){return void 0===e&&(e=!1),this._destroyCounter(),this._destroyRoundTitle(),this._resetDetectBufferSlowly(),this.destroy(),this},e.prototype.recoverReload=function(){this._reloadStatus=!0},e.prototype.restoreReloadFailed=function(){this._flvPlayerBackup&&(a.default.log("Restore FlvPlayer.."),this._flvPlayer&&this._flvPlayer.destroy(),this._flvPlayer=void 0,this._flvPlayer=this._flvPlayerBackup,$(this._videoElement).remove(),this._videoElement=this._videoElementBackup,this._flvPlayerBackup=void 0,this._videoElementBackup=void 0,this._reloadStatus=!0)},e.prototype.getPlaybackDelay=function(){var e=this._videoElement,t=e.buffered;return t&&0!==t.length?1e3*(t.end(0)-e.currentTime):0},e.prototype.handleReload=function(){this.resetBytesCount(),this.subscribeDelay()},e.prototype.setChasingFrameThreshold=function(e){return a.default.log("setChasingFrameThreshold: "+e+"ms"),e>=0&&(this.setPlaybackRate(1),this.state.playbackDelayThreshold=e,this._player.track(r.TRACK.STATISTIC_CHASING_THRESHOLD,{time:e})),this.state.playbackDelayThreshold},e.prototype.load=function(){this._flvPlayer&&this._flvPlayer.load()},e.prototype.unload=function(){a.default.log("stream unload"),this._flvPlayer&&this._flvPlayer.unload()},e.prototype._initialize=function(){return this._player.state.loadingPicture&&this.addLoadingPicture(this._player.state.loadingPicture),this.showLoading(),this._createVideoElement(),this._bindEvents(),a.default.log("Video Initialized.."),this},e.prototype._createVideoElement=function(){this._video&&(this._videoBackup=this._video,this._videoElementBackup=this._videoElement);var e=this._guid();return this._video=$('<video id="'+this._uniqueIDPrefix+e+'" class="bilibili-live-player-video-stream">').attr("tabindex",-1).css("z-index",1),a.default.log("Created video element，id: "+e),this._container.prepend(this._video),this._videoElement=this._video[0],this._videoElement.volume=0,this},e.prototype.handlePlayPromise=function(e){var t=this,i=this._player,n=i.config,a=n.browser;i.getUserId();e.catch(function(){if("mutePlay"!==t.state.autoPlayType)n.useType!==r.default.PLAYER_HOME&&n.useType!==r.default.PLAYER_ROOM||(t._videoElement.muted=!0,t.state.playingMuted=!0,i.components.controller.volume(0),t.state.autoPlayType="mutePlay",t.state.hasAutoPlay||t.play());else{var e=n.useType===r.default.PLAYER_HOME?r.STATE_STRING.LOCAL_STORAGE_VOLUME_HOME:r.STATE_STRING.LOCAL_STORAGE_VOLUME,l=parseFloat(o.default.getLocalStorage(e));t.state.playingMuted=!1,t._videoElement.muted=!1,t.state.autoPlayType=null,i.components.controller.volume(l),i.state.firstPlaying?i.pause():t.state.autoPlayError=!0,"safari"===a.name?Date.now()>t.state.shouldShowAutoTips&&new s(document.body,{link:{href:"https://www.bilibili.com/video/av16973616/",label:"查看视频演示 >>"},callback:function(){t._player.reload()},onCreateSuccess:function(e){t.handleShowAutoTips(e)}}):t._player.toast(r.CONFIG_STRING.AUTO_PLAY_MUTED_PAUSE,5e3)}return!0}).then(function(e){var i;"mutePlay"!==t.state.autoPlayType||e||(t.state.autoPlayType=null,t.state.hasAutoPlay=!0,t._player.toast(r.CONFIG_STRING.AUTO_PLAY_MUTED,3e3),o.default.fireEventCallback(t._player.callbackMap.autoPlay,((i={}).ua=a.name,i.roomId=n.rid,i.playerType=n.useType,i)))})},e.prototype.p2pLoaderType=function(){var e={useP2P:!1,P2PType:""};if(!this._player.errorRetrying&&this._player.state.coreType===r.CORE_TYPE.FLV){switch(this._player.state.coreProtocol){case r.CORE_PROTOCOL.FLV_TLOADER:e.useP2P=!0,e.P2PType="TLoader"}return e}return e},e.prototype._createPlayer=function(e,t,i){var n=this;if(void 0===t&&(t=0),!this._destroyStatus){var s=this._player,A={type:"flv",isLive:!0,url:e},c=(s.getLiveStatus(),this.p2pLoaderType()),d=c.useP2P,p={enableWorker:!1,isLive:!0,deferLoadAfterSourceOpen:!0,fixAudioTimestampGap:!1,clipCacheEnabled:!0,clipCacheDuration:30,P2PType:c.P2PType,useP2P:d};window.flvjs.LoggingControl.forceGlobalTag=!0,window.flvjs.LoggingControl.enableVerbose=!1,flvjs.getFeatureList().mseLiveFlvPlayback?("DEVELOP"===o.default.BUNDLE_TYPE&&(flvjs.LoggingControl.forceGlobalTag=!0,flvjs.LoggingControl.enableVerbose=!1),i&&i.mediaDataSource&&(A=i.mediaDataSource,p.seekType=i&&i.seekType||"param",p.reuseRedirectedURL=!0,p.fixAudioTimestampGap=!1,p.reuseRedirectedURL=!0),this._flvPlayer=flvjs.createPlayer(A,p),this._player.event.emit(r.EVENT.CREATE_PLAYER_SUCCESS,this._videoElement,this._container),this._flvPlayer.currentTime=t,this._flvPlayer.attachMediaElement(this._videoElement),this._flvPlayer.load(),this._flvPlayer.on(flvjs.Events.ERROR,this._videoOnError.bind(this)),this._player.state.liveStatus===r.default.L_STATUS_LIVE&&(this._flvPlayer.on(flvjs.Events.VIDEO_FRAME_DECODED,this._handleAudioFrameDecoded.bind(this)),this._flvPlayer.on(flvjs.Events.AUDIO_FRAME_DECODED,this._handleVideoFrameDecoded.bind(this)),this._flvPlayer.on(flvjs.Events.HTTP_HEADER_RECEIVED,function(e){n._player.track(r.TRACK.STATISTIC_HTTP_CONNECTION_TIME,{time:e})}),this._flvPlayer.on(flvjs.Events.HTTP_REQUEST_ENDED,function(e){n._player.track(r.TRACK.STATISTIC_HTTP_RECEIVED_BYTES,{delta_ts:e}),n.totalBytes+=e}),flvjs.Events.USE_BACKUPLOADER&&this._flvPlayer.on(flvjs.Events.USE_BACKUPLOADER,function(e){switch(a.default.log("get "+e.useTag+" flvp2p stream error, downgrade 2 "+e.backUpTag+" flv"),n._player.state.coreProcotol=r.CORE_PROTOCOL.NONE,e.useTag){case"TLoader":n._player.track(r.TRACK.ERROR_PROTOCOL_DOWNGRADE,{loadtime:r.PROTOCOL_DOWNGRADE_TYPE.FLVP2P_2_FLV})}})),this._flvPlayer.on(flvjs.Events.SEI_DATA,function(e){if(s.config.mask.shouldOpenMask)switch(e.type){case"MASK_DATA":var t=n._flvPlayer.getFirstIdr;t&&(e.firstPlayTime=t.originalDts-t.pts),n._player.event.emit(r.EVENT.GET_MASK_DATA,e)}}),this._flvPlayer.on(flvjs.Events.STATISTICS_INFO,function(e){var t=n._flvPlayer&&n._flvPlayer.mediaInfo||"";if(e.decodedFrames){var i=n.state.cacheTotalBytes,a=i.length;if(0!==a&&e.totalBytes<i[a-1].totalBytes&&(i.length=0),i.push({totalBytes:e.totalBytes,time:o.default.getTimeNow(!0)}),e.connectionSpeed=n.state.connectionSpeed,n._flvPlayer&&n._flvPlayer.type){var r=l.default.updateVideoInfoData(n._flvPlayer.type,t,e);0!==r.length&&(n.state.bitRate=t.videoDataRate),n._player.logVideoInfo(r),n._player.plugins.videoInfo&&n._player.plugins.videoInfo.refresh(r)}}}),this._player.plugins.videoInfo.update(l.default.generateVideoInfoItems(this._flvPlayer.type)),a.default.log("Created New FlvPlayer.")):(a.default.log("Created New FlvPlayer Failed.",2),o.default.log("当前浏览器不支持Flv.js"))}},e.prototype._handleBeforeUnload=function(){this.destroy(),this._player.track(r.TRACK.STATISTIC_PLAYER_RECEIVED_BYTES,{delta_ts:this.totalBytes}),this.trackPlayingDelay(),window.removeEventListener("beforeunload",this._handleBeforeUnload)},e.prototype._handleAudioFrameDecoded=function(e){this.firstAudioFrameDecoded||this._player.track(r.TRACK.EXPERIENCE_FIRST_AUDIO_FRAME_DECODED,{time:e-this.initialTime}),this.firstAudioFrameDecoded=!0},e.prototype._handleVideoFrameDecoded=function(e){this.firstVideoFrameDecoded||this._player.track(r.TRACK.EXPERIENCE_FIRST_VEDIO_FRAME_DECODED,{time:e-this.initialTime}),this.firstVideoFrameDecoded=!0},e.prototype._videoOnError=function(e,t,i){var n="["+e+"] "+t+" : ";-1!==i.code&&(n+=i.code+" "),n+=i.msg,this._player.state.errorCode=i.code;var o,a=window.flvjs.ErrorTypes,l=window.flvjs.ErrorDetails;if(e===a.NETWORK_ERROR)switch(t){case l.NETWORK_EXCEPTION:o=r.ERROR_CODE.NETWORK_EXCEPTION;break;case l.NETWORK_STATUS_CODE_INVALID:o=r.ERROR_CODE.NETWORK_STATUS_CODE_INVALID;break;case l.NETWORK_UNRECOVERABLE_EARLY_EOF:o=r.ERROR_CODE.NETWORK_UNRECOVERABLE_EARLY_EOF}else if(e===a.MEDIA_ERROR)switch(t){case l.MEDIA_MSE_ERROR:o=r.ERROR_CODE.MEDIA_MSE_ERROR;break;case l.MEDIA_FORMAT_ERROR:o=r.ERROR_CODE.MEDIA_FORMAT_ERROR;break;case l.MEDIA_FORMAT_UNSUPPORTED:o=r.ERROR_CODE.MEDIA_FORMAT_UNSUPPORTED;break;case l.MEDIA_CODEC_UNSUPPORTED:o=r.ERROR_CODE.MEDIA_CODEC_UNSUPPORTED}this.loadLiveStreamTrack(i.code),this._videoErrorHandler(o,n)},e.prototype._videoErrorHandler=function(e,t){this._player.error(e,t)},e.prototype.checkChasingFrame=function(){var e=this,t=this.getPlaybackDelay(),i=this.getPlaybackRate(),n=this.state,o=n.playbackDelayThreshold,a=n.shouldOpenChasingFrame,r=n.bufferingDelayTime;0!==o&&(t>o+2*r?a&&this.setPlaybackRate(1.1):t>o+r&&1.05!==i?a&&this.setPlaybackRate(1.1):t>o&&1!==i?a&&this.setPlaybackRate(1.05):this.setPlaybackRate(1)),this.protectPlay(),this.CHECK_CHASING_FRAME_ID=window.setTimeout(function(){e.checkChasingFrame()},this.INTERVAL.CHECK_CHASING_FRAME)},e.prototype.resetBytesCount=function(){this.state.lastTotalBytes=null,this.state.cacheTotalBytes.length=0,this.state.protectCount=0},e.prototype.protectPlay=function(){var e=this.state,t=e.protectCount,i=e.cacheTotalBytes,n=e.bitRate,o=e.playbackDelayThreshold,r=this.INTERVAL.ADJUST_CHASING_PROP;this.state.protectCount++;var l=this.getPlaybackRate();if(this._player.config.checkChasingFrame){if(t>=this.INTERVAL.PROTECT_MAX_COUNT){var s=i.pop();if(!s||0===i.length)return;this.state.lastTotalBytes||(this.state.lastTotalBytes=i[0]);var A=8*(s.totalBytes-this.state.lastTotalBytes.totalBytes)/(s.time-this.state.lastTotalBytes.time);this.state.connectionSpeed=isNaN(A)?0:A,this.state.lastTotalBytes=s,i.length=0,this.state.protectCount=0,A>n*r&&!this.state.shouldOpenChasingFrame?(0!==o&&a.default.log("open chasing frame by connect speed quickly, speed: "+A+",bitRate: "+n),this.state.shouldOpenChasingFrame=!0):A<n*r&&this.state.shouldOpenChasingFrame&&(0!==o&&a.default.log("close chasing frame by connect speed slowly, speed "+A+",bitRate: "+n),this.state.shouldOpenChasingFrame=!1,1!==l&&this.setPlaybackRate(1))}}else this.state.shouldOpenChasingFrame=!0},e.prototype._createRoundTitle=function(t){a.default.log("Create Round Title: "+t),this._roundTitle!==t&&(this._roundTitle=t,this._roundTitleElem&&this._roundTitleElem.length?this._roundTitleElem.text(t):this._roundTitleElem=$('<div class="'+e._ROUND_TITLE_CLASS+'">').text(t).appendTo(this._container))},e.prototype._destroyRoundTitle=function(){this._roundTitle="",this._roundTitleElem&&this._roundTitleElem.remove(),this._roundTitleElem=void 0},e.prototype._counterRoundPlay=function(e){var t=this,i=Math.floor(e/60),n=Math.floor(e%60);i=i<10?"0"+i:i,n=n<10?"0"+n:n,e--,this._roundCounterSpan.html(i+":"+n),e>=0?this._roundCounterTime=window.setTimeout(function(){t._counterRoundPlay(e)},1e3):(this._destroyCounter(),this._player.event.emit(r.EVENT.ON_ROUND))},e.prototype._destroyCounter=function(){window.clearTimeout(this._roundCounterTime),this._roundCounter&&this._roundCounter.remove()},e.prototype._detectBufferSlowly=function(){var e=this,t=this._videoElement.currentTime;return t!==this._lastCurrentTime?(this.hideLoading(),this.removeLoadingPicture(),this._lastCurrentTime=t,this._bufferSlowlyEnd()):this._bufferSlowlyStart(t||0),window.clearTimeout(this._TIMEOUT_DETECT_SLOWLY),this._TIMEOUT_DETECT_SLOWLY=window.setTimeout(function(){e._detectBufferSlowly()},100),this._BACKUP_DETECT_SLOWLY=this._TIMEOUT_DETECT_SLOWLY,this},e.prototype._resetDetectBufferSlowly=function(){this.clearDetectBufferSlowly(),this._BACKUP_DETECT_SLOWLY=0,this._lastTrackTime=0,this._bufferingSlowlyStartTime=0,this._lastCurrentTime=0},e.prototype._destroyVideoBackup=function(){var e=this;this._flvPlayerBackup&&(a.default.log("Destroying Backup FlvPlayer.."),this._videoElementBackup.volume=0,this._videoElement.volume=this._lastVolume,$(this._videoElementBackup).off().fadeIn(50),setTimeout(function(){$(e._videoElementBackup).remove(),e._flvPlayerBackup&&e._flvPlayerBackup.destroy(),e._flvPlayerBackup=void 0,e._reloadStatus=!0,a.default.log("Destroyed Backup FlvPlayer.."),e._hackMultiVideoRemove()},50))},e.prototype.checkPlayingDelay=function(){var e=this,t=this._videoElement,i=t.buffered;if(i&&0!==i.length){var n=1e3*(i.end(0)-t.currentTime);0!==n&&(this.state.delayTimeSum+=n,this.state.getDelayCount++)}this.INTERVAL.CHECK_PLAYING_DELAY_TIME=window.setTimeout(function(){e.checkPlayingDelay()},this.state.checkDelayTime)},e.prototype.trackPlayingDelay=function(){var e=this._player;e.state.firstPlaying&&this.state.getDelayCount>4&&e.track(r.TRACK.STATISTIC_PLAY_DELAY,{loadTime:Math.floor(this.state.delayTimeSum/this.state.getDelayCount)}),this.state.getDelayCount=0,this.state.delayTimeSum=0},e.prototype.subscribeDelay=function(){var e=this;clearTimeout(this.INTERVAL.CHECK_PLAYING_DELAY_TIME),this.trackPlayingDelay(),this.INTERVAL.CHECK_PLAYING_DELAY_TIME=window.setTimeout(function(){e.checkPlayingDelay()},this.state.checkDelayTime)},e.prototype._bindEvents=function(){var e=this,t=this._player;return this._videoElement.addEventListener("loadstart",function(){e._logTimeLoadedMetaData=a.default.log("Video LoadStart."),e._player.event.emit(r.EVENT.VIDEO_LOAD_START),n.default.verifyDocumentIsHidden()&&(e._player.state.backgroundTabStartTime=a.default.log("Background Tab Start Time")),t.components.loadingPanel.hide(),t.state.onFixing||(e.showLoading(),e._player.state.loadingPicture&&e.addLoadingPicture(e._player.state.loadingPicture))}),this._handleBeforeUnload=this._handleBeforeUnload.bind(this),window.addEventListener("beforeunload",this._handleBeforeUnload),this._videoElement.addEventListener("loadedmetadata",function(){if(e._player.getLiveStatus()===r.default.L_STATUS_PREPARING)return a.default.log("The preparing state but the live stream exists ",1),void e.destroy();var t=o.default.getTimeNow(!0)-e._logTimeLoadedMetaData-e._player.state.backgroundTabTime;e._player.event.emit(r.EVENT.VIDEO_LOADED_META_DATA,t),e._destroyVideoBackup(),e._detectSlowlyStatus=!0,e._detectBufferSlowly()}),this._videoElement.addEventListener("ended",function(){a.default.log("Video Ended."),e.destroy(),e._player.event.emit(r.EVENT.VIDEO_ENDED)}),this._videoElement.addEventListener("timeupdate",function(i){r.default.L_STATUS_ROUND===t.getLiveStatus()&&e._timeUpdateCallbackList.forEach(function(t){t.call(e)})}),this._videoElement.addEventListener("playing",function(){}),this._videoElement.addEventListener("canplay",function(){e.state.autoPlayError&&(e.state.autoPlayError=!1,t.pause());var i=t.state.backgroundTabTime;a.default.log("Video CanPlay",0,t.logTimeReload+i),t.logTimeReload=void 0,t.logTimeFirstPlay&&(a.default.log("Player First Play",0,t.logTimeFirstPlay+i),t.logTimeFirstPlay=void 0),t.state.firstPlaying||(e._player.state.firstPlaying=!0,o.default.fireEventCallback(t.callbackMap.firstPlaying)),null===e.CHECK_CHASING_FRAME_ID&&t.state.liveStatus===r.default.L_STATUS_LIVE&&(a.default.log("Video open checkChasingFrame"),e.checkChasingFrame())}),this._videoElement.addEventListener("volumechange",function(){}),this},e.prototype._bufferSlowlyEnd=function(){if(clearTimeout(this.INTERVAL.BUFFERING_TIME_OUT),this._bufferingSlowlyStartTime>0){var e=o.default.getTimeNow(!0)-this._bufferingSlowlyStartTime;this._bufferingSlowlyStartTime=0,a.default.log("BUFFERING_TIME: "+e+" ms"),e<this.state.bufferingMaxTime&&(this.state.bufferingSlowlyType!==r.default.BUFFERING_LACK_OF_PERFORMANCE?this._player.track(r.TRACK.STATISTICS_VIDEO_BUFFERING_TIME,{time:e}):this._player.track(r.TRACK.STATISTICS_BUFFERING_LACK_OF_PERFORMANCE,{time:e}))}return this},e.prototype._bufferSlowlyStart=function(e){var t=this,i=this._player;if(e>.1&&e!==this._lastTrackTime&&this._BACKUP_DETECT_SLOWLY&&r.default.L_STATUS_LIVE===this._player.getLiveStatus()&&r.default.V_PLAY===this._player.getVideoStatus()&&this._detectSlowlyStatus){var n=this._videoElement.readyState;if(4===n)return;if(this.showLoading(),!this._player.errorRetrying){var l=NaN;try{var s=this._videoElement.buffered;if(s.length)for(var A=0;A<s.length;A++)s.start(A)<=e&&s.end(A)>=e&&(l=Math.round(1e3*(s.end(A)-e)))}catch(e){console.error(e)}l<this.state.canplayBufferLength&&2===n?this.state.bufferingSlowlyType=r.default.BUFFERING_SLOW_NETWORK_SPEED:l>=this.state.canplayBufferLength&&2===n?this.state.bufferingSlowlyType=r.default.BUFFERING_LACK_OF_PERFORMANCE:this.state.bufferingSlowlyType=r.default.BUFFERING_OTHERS,this._player.trackBuffering({param:"readyState:"+n+",visiblity:"+i.config.visibilityStatus+",type:"+this.state.bufferingSlowlyType,time:l}),a.default.log("Live Stream Time: "+e),this._lastTrackTime=e,this._bufferingSlowlyStartTime=o.default.getTimeNow(!0);var c=i.state.forceBufferTimeout?i.state.forceBufferTimeout+500*i.errorRetryCount:this.state.bufferingMaxTime;this.INTERVAL.BUFFERING_TIME_OUT=setTimeout(function(){a.default.log("Buffering time out, ready to reload.",1),t._player.reload()},c)}}},e.prototype._hackMultiVideoRemove=function(){this._container.find("video").length>1&&(a.default.log("Hack multi-video remove"),this._container.find("video").last().remove())},e.prototype.loadLiveStreamTrack=function(e){void 0===e&&(e=0),this._player.state.trackLoadStreamErrorStatus&&(a.default.log("Load stream error, code: "+e,2),this._player.state.trackLoadStreamErrorStatus=!1,this._player.track(r.TRACK.STATISTICS_PLAYING_ERROR_WITH_CODE,{errorCode:e,time:Math.floor(Date.now()/1e3)}))},e.prototype.loadLiveStreamTrackRetry=function(){},e.prototype.loadLiveStreamTrackEnd=function(){},e.prototype.handleShowAutoTips=function(e){var t=this,i=e.querySelector(".video-cannot-autoplay-tips-footer"),n=document.createElement("div");n.innerHTML='\n            <input name="shouldShowTips" type="checkbox" id="live_bilibili_player_should_show_tips"/>\n            <label for="shouldShowTips">\n                <div style="\n                display: inline-block;\n                color: #8D9AA4;\n                letter-spacing: 0.18px;\n                font-family: PingFangSC-Regular;\n                font-size: 12px;\n                margin-top: 10px;\n                ">一个月之内不再提醒</div>\n            </label>\n        ',i.appendChild(n);var a=i.querySelector("#live_bilibili_player_should_show_tips");a&&a.addEventListener("change",function(e){var i=e.target.checked?Date.now()+2592e6:0;t.state.shouldShowAutoTips=i,o.default.setLocalStorage(r.STATE_STRING.BILIBILI_PLAYER_SHOW_TIP_BASE_TIME,i.toString())})},e._ROUND_TITLE_CLASS="bilibili-live-player-video-round-title",e._ROUND_COUNTER_CLASS="bilibili-live-player-video-round-counter",e}();t.default=A},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.generateVideoInfoItems=function(e){return"NativePlayer"===e?{infos:[{name:"mimeType",type:"text",title:"Mime Type",data:""},{name:"playerType",type:"text",title:"Player Type",data:""},{name:"resolution",type:"text",title:"Resolution",data:""},{name:"streamType",type:"text",title:"Stream Type",data:""},{name:"streamHost",type:"text",title:"Stream Host",data:""},{name:"droppedFrames",type:"text",title:"Dropped Frames",data:""}]}:{infos:[{name:"mimeType",type:"text",title:"Mime Type",data:""},{name:"playerType",type:"text",title:"Player Type",data:""},{name:"resolution",type:"text",title:"Resolution",data:""},{name:"fps",type:"text",title:"FPS",data:""},{name:"videoProfile",type:"text",title:"Video Profile",data:""},{name:"audioSampling",type:"text",title:"Audio Sampling",data:""},{name:"videoDatarate",type:"text",title:"Video DataRate",data:""},{name:"audioDatarate",type:"text",title:"Audio DataRate",data:""},{name:"encoder",type:"text",title:"Encoder",data:""},{name:"loader",type:"text",title:"Loader",data:""},{name:"streamType",type:"text",title:"Stream Type",data:""},{name:"streamHost",type:"text",title:"Stream Host",data:""},{name:"networkActivity",type:"graph",title:"Network Activity",unit:"KB/s",data:0},{name:"connectionSpeed",type:"graph",title:"Connection Speed",unit:"Kbps",data:0},{name:"droppedFrames",type:"text",title:"Dropped Frames",data:""}]}},e.updateVideoInfoData=function(e,t,i){var n=t.width+" x "+t.height;t.hasOwnProperty("sarNum")&&(n+=" [SAR "+t.sarNum+":"+t.sarDen+"]");var o=/https?:\/\/(.+?)\//.exec(i.url)[1],a=/^(https?|wss?)\:\/\/?/.exec(i.url)[1],r=i.droppedFrames+"/"+i.decodedFrames,l=[{name:"mimeType",data:t.mimeType},{name:"playerType",data:i.playerType},{name:"resolution",data:n},{name:"streamType",data:a},{name:"streamHost",data:o},{name:"droppedFrames",data:r}];if("NativePlayer"===e)return l;var s=t.metadata&&t.metadata.encoder,A=t.profile+", L"+t.level,c=t.audioSampleRate+" Hz",d=t.audioChannelCount;return c+=1===d?", Mono":2===d?", Stereo":", "+d+" Channels",l=l.concat([{name:"fps",data:t.fps&&t.fps.toFixed(3)},{name:"videoProfile",data:A},{name:"audioSampling",data:c},{name:"videoDatarate",data:Math.round(t.videoDataRate)+" Kbps"},{name:"audioDatarate",data:Math.round(t.audioDataRate)+" Kbps"},{name:"encoder",data:s},{name:"loader",data:i.loaderType},{name:"networkActivity",data:Math.round(i.speed)},{name:"connectionSpeed",data:isNaN(Math.round(i.connectionSpeed))?0:Math.round(i.connectionSpeed)}])},e}();t.default=n},function(e,t){var i,n;i=this,n=function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){var n=i(1).default;e.exports=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),o=(i.n(n),i(7)),a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"development"===e.CONFIG.bundleType&&(console.clear(),console.dir(e.CONFIG)),this.initialize(t,i)}return e.prototype.initialize=function(t,i){return this.tips=new o.a(t,i),{config:e.CONFIG,destroy:this.destroy.bind(this)}},e.prototype.destroy=function(){this.tips&&this.tips.destroy()},a(e,null,[{key:"CONFIG",get:function(){return{version:"1.0.8",gitHash:"9473675f",build:"15",bundleType:"release"}}}]),e}();t.default=r},function(e,t,i){var n=i(3);"string"==typeof n&&(n=[[e.i,n,""]]);var o={transform:void 0};i(5)(n,o),n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(4)(void 0)).push([e.i,'.video-cannot-autoplay-tips {\n  font-family: "Microsoft YaHei", Arial, Helvetica, sans-serif;\n  position: absolute;\n  padding: 20px 24px;\n  z-index: 999;\n  width: 500px;\n  min-height: 220px;\n  max-height: 320px;\n  cursor: default;\n  line-height: normal;\n  left: 50%;\n  top: 50%;\n  margin: -140px 0 0 -250px;\n  opacity: 0;\n  visibility: hidden;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  border: 1px solid #E9EAEC;\n  -webkit-transform: translate(0, 10px);\n  -moz-transform: translate(0, 10px);\n  -ms-transform: translate(0, 10px);\n  -o-transform: translate(0, 10px);\n  transform: translate(0, 10px);\n  -webkit-box-shadow: 0 13px 20px 0 rgba(106, 115, 133, 0.22);\n  -moz-box-shadow: 0 13px 20px 0 rgba(106, 115, 133, 0.22);\n  box-shadow: 0 13px 20px 0 rgba(106, 115, 133, 0.22);\n  -webkit-border-radius: 12px;\n  -moz-border-radius: 12px;\n  border-radius: 12px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-transition: all 0.4s ease-in-out;\n  -moz-transition: all 0.4s ease-in-out;\n  -ms-transition: all 0.4s ease-in-out;\n  -o-transition: all 0.4s ease-in-out;\n  transition: all 0.4s ease-in-out;\n}\n.video-cannot-autoplay-tips[data-state="hide"] {\n  -webkit-transform: translate(0, 10px);\n  -moz-transform: translate(0, 10px);\n  -ms-transform: translate(0, 10px);\n  -o-transform: translate(0, 10px);\n  transform: translate(0, 10px);\n  opacity: 0;\n  visibility: hidden;\n}\n.video-cannot-autoplay-tips[data-state="show"] {\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n  opacity: 1;\n  visibility: visible;\n}\n.video-cannot-autoplay-tips-header-title {\n  font-size: 18px;\n  color: #23ADE6;\n  letter-spacing: 0.19px;\n}\n.video-cannot-autoplay-tips-body {\n  font-size: 14px;\n  margin-top: 18px;\n}\n.video-cannot-autoplay-tips-body-content {\n  color: #333333;\n}\n.video-cannot-autoplay-tips-body-tips {\n  margin: 29px 0 20px;\n  line-height: 1.7;\n  color: #999999;\n}\n.video-cannot-autoplay-tips-body-link {\n  text-decoration: none;\n  color: #23ADE6;\n  display: inline-block;\n  margin-bottom: 8px;\n}\n.video-cannot-autoplay-tips-body-link:hover {\n  color: #51beeb;\n}\n.video-cannot-autoplay-tips-footer {\n  width: 100%;\n  position: relative;\n  text-align: center;\n}\n.video-cannot-autoplay-tips-footer-confirm {\n  display: inline-block;\n  padding: 7px 31px;\n  font-size: 14px;\n  color: #ffffff;\n  background: #23ADE5;\n  cursor: pointer;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n}\n.video-cannot-autoplay-tips-footer-confirm:hover {\n  background: #51beea;\n}\n',""])},function(e,t){function i(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n);return[i].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([o]).join("\n")}return[i].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(n[a]=!0)}for(o=0;o<e.length;o++){var r=e[o];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){function n(e,t){for(var i=0;i<e.length;i++){var n=e[i],o=p[n.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](n.parts[a]);for(;a<n.parts.length;a++)o.parts.push(c(n.parts[a],t))}else{var r=[];for(a=0;a<n.parts.length;a++)r.push(c(n.parts[a],t));p[n.id]={id:n.id,refs:1,parts:r}}}}function o(e,t){for(var i=[],n={},o=0;o<e.length;o++){var a=e[o],r=t.base?a[0]+t.base:a[0],l={css:a[1],media:a[2],sourceMap:a[3]};n[r]?n[r].parts.push(l):i.push(n[r]={id:r,parts:[l]})}return i}function a(e,t){var i=h(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=_[_.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),_.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function r(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function l(e){var t=document.createElement("style");return e.attrs.type="text/css",A(t,e.attrs),a(e,t),t}function s(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",A(t,e.attrs),a(e,t),t}function A(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function c(e,t){var i,n,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var A=g++;i=f||(f=l(t)),n=d.bind(null,i,A,!1),o=d.bind(null,i,A,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=s(t),n=function(e,t,i){var n=i.css,o=i.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(n=b(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(r),l&&URL.revokeObjectURL(l)}.bind(null,i,t),o=function(){r(i),i.href&&URL.revokeObjectURL(i.href)}):(i=l(t),n=function(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),o=function(){r(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function d(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=m(t,o);else{var a=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}var p={},u=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),h=function(e){var t={};return function(e){return void 0===t[e]&&(t[e]=function(e){return document.querySelector(e)}.call(this,e)),t[e]}}(),f=null,g=0,_=[],b=i(6);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=u()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=o(e,t);return n(i,t),function(e){for(var a=[],r=0;r<i.length;r++){var l=i[r];(s=p[l.id]).refs--,a.push(s)}e&&n(o(e,t),t);for(r=0;r<a.length;r++){var s;if(0===(s=a[r]).refs){for(var A=0;A<s.parts.length;A++)s.parts[A]();delete p[s.id]}}}};var m=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?i+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,i){"use strict";var n={content:"主人，你的Safari浏览器不允许视频自动播放，跟我一起来调教：",tips:"1、右击屏幕顶部【live.bilibili.com 地址栏】&rarr;\r\n2、点击【此网站的设置】&rarr;\r\n3、修改【自动播放】选项为【允许全部自动播放】",link:{href:"http://www.bilibili.com",label:"查看视频演示>>"},confirmLabel:"我设置好了",callback:null,onCreateSuccess:null},o=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.container=t,this.props=Object.assign(n,i),this.htmlPrefix="video-cannot-autoplay-tips",this._initialize()}return e.prototype._initialize=function(){var e=this,t=document.createElement("div");t.innerHTML=this._getHtml(),this.container.appendChild(t.firstElementChild),this.wrapper=this.container.querySelector("."+this.htmlPrefix),this.confirmBtn=this.container.querySelector("."+this.htmlPrefix+"-footer-confirm"),this.props.onCreateSuccess&&this.props.onCreateSuccess(this.wrapper),this._bindEvents(),this._addEvents(),this.container===document.body?this.wrapper.style.cssText="position: fixed;":"relative"!==window.getComputedStyle(this.container,null).position&&(this.container.style.cssText="position: relative"),setTimeout(function(){e.wrapper.setAttribute("data-state","show")},0)},e.prototype._bindEvents=function(){this._closeHandler=this._closeHandler.bind(this)},e.prototype._addEvents=function(){this.confirmBtn.addEventListener("click",this._closeHandler)},e.prototype._removeEvents=function(){this.confirmBtn.removeEventListener("click",this._closeHandler)},e.prototype._closeHandler=function(){this.props.callback&&this.props.callback(),this.destroy()},e.prototype._getHtml=function(){var e=this.htmlPrefix,t=this.props.link?'<a class="'+e+'-body-link" href="'+this.props.link.href+'" target="_blank">'+this.props.link.label+"</a>":"";return'<div class="'+e+'">\n                    <div class="'+e+'-header">\n                        <span class="'+e+'-header-title">浏览器设置</span>\n                        \x3c!--<span class="'+e+'-header-close"></span>--\x3e\n                    </div>\n                    <div class="'+e+'-body">\n                        <p class="'+e+'-body-content">'+this.props.content+'</p>\n                        <p class="'+e+'-body-tips">'+this.props.tips.replace(/\r\n/g,"<br />")+"</p>\n                        "+t+'\n                    </div>\n                    <div class="'+e+'-footer">\n                        <span class="'+e+'-footer-confirm">'+this.props.confirmLabel+"</span>\n                    </div>\n                </div>"},e.prototype.destroy=function(){var e=this;this.wrapper.setAttribute("data-state","hide"),setTimeout(function(){e._removeEvents(),e.wrapper.parentNode.removeChild(e.wrapper)},500)},e}();t.a=o}])},"object"==typeof t&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.AutoPlaySettingTips=n():i.AutoPlaySettingTips=n()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(12),a=i(2),r=i(1),l=i(78),s=function(){function e(e){var t=this;this.player=e,this.countTime=0,this.maskCount=0,this.hasCreatBtn=!1,this.browserTick=1e3/60,this.danmakuStatus=!0,this.lastMaskStatus=!0;var i=e.config.mask;this.maxSelectTime=i.maxSelectTime,this.deleteImageFps=i.deleteImageFps,this.maskFps=i.maskFps,this.shouldOpenMask=i.shouldOpenMask,this.fpsTime=1e3/this.maskFps,this.deleteImageFps=this.fpsTime*this.deleteImageFps,this.videoInfo=null,this.imgList=[],this.hasVideoInfo=!1,this.cancelListenVideoId=null,this.cancelDeleteId=null,this.lastSelectTime=null,this.lastCurrentTime=null,this.beforeReloadMaskState="false"!==localStorage.getItem(l.MASKKEY.DB_MASK_KEY),this.maskState=null,this.showPts=0,this.count=0,this.selectTotalTime=0,this.asyncShowTime=0,this.asyncShowTimeTotal=0,this.player=e,this.firstPlayTime=null,this.stateCount=0,this.isFirstReload=!1,this.isHandleBrowser=r.default.isChrome(),this.getVideoInfoBind=function(){setTimeout(function(){t.getVideoInfo()},0)},this.bindEvent()}return e.prototype.init=function(){return this.shouldOpenMask&&this.open(),this},e.prototype.set=function(e,t){switch(a.default.log("mask set value, ac: "+e+", data: "+t),e){case l.MASKACTIONTYPE.MAX_SELECT_TIME:this.maxSelectTime=t;break;case l.MASKACTIONTYPE.DELETE_IMAGE_FPS:this.deleteImageFps=t;break;case l.MASKACTIONTYPE.MASK_FPS:this.maskFps=t;break;case l.MASKACTIONTYPE.DANMUKU_MASK_STATUS_CHANGE:if(!this.danmakuStatus)return;switch(t.type){case"mask":this.maskState!==t.status&&this.handleChange(t.status);break;case"tip":!1===t.status&&this.handleTipsChange()}}},e.prototype.destroy=function(){this.player.event.off(n.EVENT.CREATE_PLAYER_SUCCESS),this.player.event.off(n.EVENT.PLAYER_RELOAD_SUCCESSFULLY),this.player.event.off(n.EVENT.GET_MASK_DATA),cancelAnimationFrame(this.cancelDeleteId),this.removeBtn(),this.maskState&&this.close()},e.prototype.handleChange=function(e){e?this.open():this.close(),this.beforeReloadMaskState=e,localStorage.setItem(l.MASKKEY.DB_MASK_KEY,e.toString()),r.default.fireEventCallback(this.player.callbackMap.danmakuMaskStatusChange,{type:"mask",status:this.maskState});var t=e?n.TRACK.OPEN_MASK:n.TRACK.CLOSE_MASK;this.player.track(t)},e.prototype.bindEvent=function(){var e=this,t=this.player;this.isHandleBrowser&&(t.event.on(n.EVENT.CREATE_PLAYER_SUCCESS,this.handleCreate.bind(this)),t.event.on(n.EVENT.PLAYER_RELOAD_SUCCESSFULLY,this.handleReload.bind(this)),t.event.on(n.EVENT.DANMAKU_STATUS_CHANGE,this.handleDanmakuChange.bind(this)),t.on(o.default.CALLBACK_PLAYER_STATE_CHANGE,function(){return setTimeout(function(){e.getVideoInfo()},0)}),this.player.event.on(n.EVENT.GET_MASK_DATA,this.parseMask.bind(this)),requestAnimationFrame(function(t){e.setTime(t,0,e.deleteImageFps,e.deleteImageList.bind(e),"cancelDeleteId")}))},e.prototype.handleCreate=function(e,t){this.videoElement=e,this.playerWrap=t,this.init()},e.prototype.open=function(){var e=this;return a.default.log("mask open, state: "+this.maskState),this.player.handleZzmaskChange(!1),this.maskState||(requestAnimationFrame(function(t){e.setTime(t,0,e.fpsTime,e.subscribeVideoTime.bind(e),"cancelListenVideoId")}),this.maskCheckBox&&this.maskCheckBox.prop("checked",!0),this.player.event.on(n.EVENT.PLAYER_RESIZE,this.getVideoInfoBind),this.maskState=!0,this.shouldOpenMask=!0),this},e.prototype.close=function(){return a.default.log("mask close"),this.maskState&&(cancelAnimationFrame(this.cancelListenVideoId),this.deleteMask(),this.maskState=!1,this.maskCheckBox.prop("checked",!1),this.shouldOpenMask=!1),this},e.prototype.handleDanmakuChange=function(e){e?(this.danmakuStatus=!0,this.lastMaskStatus&&this.open()):(this.danmakuStatus=!1,this.lastMaskStatus=this.maskState,this.close())},e.prototype.handleTipsMoveOut=function(){this.handleTipsChange(),r.default.fireEventCallback(this.player.callbackMap.danmakuMaskStatusChange,{type:"tip",status:!1})},e.prototype.handleTipsChange=function(){var e=this.player.components.template.controller_wrap.find(".bilibili-live-player-mask-span");e&&e.removeClass("bilibili-live-player-mask-span"),this.danmakuIcon&&this.danmakuIcon.removeClass("bilibili-live-player-mask-tips"),localStorage.setItem(l.MASKKEY.DB_TIP_KEY,"true"),this.tipsBind&&this.danmakuIcon.parent().unbind("mouseout",this.tipsBind)},e.prototype.clearMaskQueue=function(){this.imgList.length=0,this.deleteMask()},e.prototype.handleReload=function(){a.default.log("mask reload"),this.isFirstReload&&(this.clearMaskQueue(),cancelAnimationFrame(this.cancelFpsId),this.hasCreatBtn&&this.removeBtn(),this.hasCreatBtn=!1,r.default.fireEventCallback(this.player.callbackMap.danmakuMaskChange,{isShowMask:!1,isShowTip:!1,isOpenMask:this.maskState}),this.isFirstReload=!0)},e.prototype.createBtn=function(){var e=this,t='\n            <div class="hide-danmaku-content danmaku-mask-checkbox"><div class="blpui-checkbox-container">\n                <label>\n                    <input id="bilibili_live_player_danmaku_mask_checkbox" type="checkbox" class="blpui-checkbox" checked>\n                    <span class="blpui-checkbox-span no-select '+(this.tipsState?"bilibili-live-player-mask-span":"")+'">智能防挡弹幕</span>\n                </label>\n            </div>\n        ',i=this.player.components.template.controller_wrap.find(".bilibili-live-player-video-controller-hide-danmaku-container"),n=document.createElement("div");n.className="bilibili-live-player-video-controller-hide-danmaku-group",n.innerHTML=t,i.append(n),this.maskCheckBox=this.player.components.template.controller_wrap.find("#bilibili_live_player_danmaku_mask_checkbox"),this.maskCheckBox.prop("checked",this.beforeReloadMaskState),this.maskCheckBox.bind({change:function(){e.handleChange(e.maskCheckBox.prop("checked"))}})},e.prototype.removeBtn=function(){var e=this.player.components.template.controller_wrap.find(".danmaku-mask-checkbox");e&&e.remove()},e.prototype.subscribeVideoTime=function(){this.hasVideoInfo||this.getVideoInfo();var e=1e3*this.videoElement.currentTime;this.selectImg(e)},e.prototype.maskUiInit=function(){this.tipsInit(),this.createBtn(),r.default.fireEventCallback(this.player.callbackMap.danmakuMaskChange,{isShowMask:!0,isShowTip:this.tipsState,isOpenMask:this.maskState}),this.hasCreatBtn=!0,this.beforeReloadMaskState||this.handleChange(!1)},e.prototype.tipsInit=function(){this.tipsState=!localStorage.getItem(l.MASKKEY.DB_TIP_KEY),this.tipsState&&(this.danmakuIcon=this.player.components.template.controller_wrap.find(".live-icon-danmaku-on"),this.danmakuIcon&&(this.tipsBind=this.handleTipsMoveOut.bind(this),this.danmakuIcon.addClass("bilibili-live-player-mask-tips"),this.danmakuIcon.parent().bind({mouseout:this.tipsBind})))},e.prototype.readPayloadType=function(e,t){var i=e.getUint8(t);t+=1;for(var n=0;t<e.byteLength;){var o=e.getUint8(t);if(n+=o,t+=1,255!==o)break}return{size:n,type:i,offset:t}},e.prototype.parseMask=function(e){this.hasCreatBtn||this.maskUiInit(),isNaN(e.firstPlayTime)||(this.firstPlayTime=e.firstPlayTime);for(var t,i=this.removeNALEscape(e.arrayBuffer,e.dataOffset+4,e.dataSize),n=new DataView(i.buffer),o=1;o<e.dataSize&&(o=(t=this.readPayloadType(n,o)).offset,5!==t.type);)o+=t.size;if(!(5!==t.type||o>e.dataSize)){var a=o;o+=16;var r=e.dts;if(!(this.firstPlayTime&&r-this.firstPlayTime<1e3*this.videoElement.currentTime)){var l,s=i.buffer.slice(o,a+t.size);try{l=this.unCompress(s)}catch(e){if(this.trackTime&&this.trackTime-Date.now()<6e4)return;this.trackTime=Date.now();var A=parseInt(e.message,10);return void this.player.track(A)}this.imgList.push({pts:r,baseData:l})}}},e.prototype.setTime=function(e,t,i,n,o){var a=this;e-t>i&&(n(),t=e),this[o]=requestAnimationFrame(function(e){a.setTime(e,t,i,n,o)})},e.prototype.deleteImageList=function(){if(0!==this.imgList.length&&this.videoElement&&this.videoElement.currentTime)for(var e=1e3*this.videoElement.currentTime,t=0;t<this.imgList.length;t++){if(this.imgList[t].pts-e-this.browserTick-this.firstPlayTime>0){0!==t&&this.imgList.splice(0,t);break}}},e.prototype.getFps=function(e,t){var i=this;0===t&&(t=e);var n=e-t;(this.maskCount++,n>1e3)?(t=e,document.createElement("p").innerText="maskFps: "+this.maskCount,this.maskCount=0):this.countTime+=n;this.cancelFpsId=requestAnimationFrame(function(e){i.getFps(e,t)})},e.prototype.selectImg=function(e){if(0===e||e===this.lastCurrentTime)return!1;this.lastCurrentTime=e;for(var t=100,i=null,n=0,o=this.imgList.length;n<o;n++){var a=this.imgList[n].pts-e-this.browserTick-this.firstPlayTime;a>0&&a<t&&(t=a,i=n)}return Math.abs(t)>this.maxSelectTime||null===i?this.deleteMask():(this.lastSelectTime&&(this.asyncShowTime=Math.abs(e-this.lastSelectTime),this.asyncShowTimeTotal+=this.asyncShowTime),this.count+=1,this.selectTotalTime+=t,this.lastSelectTime=this.imgList[i].pts-this.firstPlayTime,this.showImg(i))},e.prototype.deleteMask=function(){this.player.components&&this.player.components.danmaku&&this.player.components.danmaku.deleteMask()},e.prototype.showImg=function(e){if(this.hasVideoInfo&&this.maskState){var t=this.videoInfo,i=t.direction,n=t.padding,o="linear-gradient(\n                to "+i+",\n                rgb(0,0,0,1),\n                rgb(0,0,0,1) "+n+"%,\n                rgb(0,0,0,0) "+n+"%,\n                rgba(0,0,0,0) "+(100-n)+"%,\n                rgba(0,0,0,1) "+(100-n)+"%,\n                rgba(0,0,0,1)),\n                url("+this.imgList[e].baseData+")";this.player.components&&this.player.components.danmaku&&this.player.components.danmaku.showMask(o)}return e},e.prototype.getVideoInfo=function(){if(this.maskState){var e,t,i=this.videoElement.videoHeight,n=this.videoElement.videoWidth,o=this.videoElement.clientHeight,a=this.videoElement.clientWidth,r=this.playerWrap[0].clientHeight,l=this.playerWrap[0].clientWidth;if(0===i||0===n)return!1;n/i>a/o?(t="bottom",e=Math.ceil((o-i*a/n)/(2*r)*100)):(t="right",e=Math.ceil((a-n*o/i)/(2*l)*100)),this.hasVideoInfo=!0,this.videoInfo={direction:t,padding:e}}},e.prototype.unCompress=function(e){for(var t,i=new DataView(e),o="",a=0;a<e.byteLength;){var r=this.readVarInt(i,a,1),s=r.data;a+=r.useByte;var A=void 0;switch(parseInt(s,10)){case l.SvgType.SVG_KEY_VERSION:if("1"!==(A=this.readVarInt(i,a,1)).data)throw new Error(n.TRACK.MASK_VERSION_ERROR.toString());a+=A.useByte;break;case l.SvgType.SVG_KEY_META:t=this.readMeta(i,a),a+=24;break;case l.SvgType.SVG_KEY_PATH_CLOSE:o+="z ";break;case l.SvgType.SVG_KEY_PATH_MOVETO:a+=(A=this.readVarInt(i,a,2)).useByte,o+="M"+A.data+" ";break;case l.SvgType.SVG_KEY_PATH_RMOVETO:a+=(A=this.readVarInt(i,a,2)).useByte,o+="m"+A.data+" ";break;case l.SvgType.SVG_KEY_PATH_LINETO:a+=(A=this.readVarInt(i,a,2)).useByte,o+="L"+A.data+" ";break;case l.SvgType.SVG_KEY_PATH_RLINETO:a+=(A=this.readVarInt(i,a,2)).useByte,o+="l"+A.data+" ";break;case l.SvgType.SVG_KEY_PATH_CURVETO:a+=(A=this.readVarInt(i,a,6)).useByte,o+="C"+A.data+" ";break;case l.SvgType.SVG_KEY_PATH_RCURVETO:a+=(A=this.readVarInt(i,a,6)).useByte,o+="c"+A.data+" ";break;default:throw new Error(n.TRACK.MASK_UNHANDLE_KEY.toString())}}var c=t.width,d=t.height,p='\n            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n                width="'+c+'px" height="'+d+'px" viewBox="0 0 '+c+" "+d+'" transform="scale(1.02, 1.02)"\n                preserveAspectRatio="xMidYMid meet">\n            <g transform="translate('+t.transX+", "+t.transY+") scale("+t.scaleX+", "+t.scaleY+')"\n                fill="#000000" stroke="none">\n            <path d="'+o+'">\n            </path>\n            </g>\n            </svg>\n        ';return"data:image/svg+xml;base64,"+window.btoa(decodeURIComponent(encodeURIComponent(p)))},e.prototype.readVarInt=function(e,t,i){if(void 0===i&&(i=1),t>e.byteLength)throw new Error(n.TRACK.MASK_TYPE_ERROR.toString());for(var o=[],a=0,r=function(i){for(var n=[],r=t;r<e.byteLength;r++){var s=e.getUint8(r);if(s>>>7!=1){n.push(s);break}n.push(127&s)}var A=0,c=n.length;a+=c;var d=n.reduce(function(e,t){var i=Math.pow(2,7*A)*t;return A++,e+i},0);t+=c,o.push(l.decodeInt(d))},l=this,s=0;s<i;s++)r();return{useByte:a,data:1===i?o.join(""):o.join(" ")}},e.prototype.decodeInt=function(e){return e>>1^1+~(1&e)},e.prototype.readMeta=function(e,t){return{width:e.getFloat32(t).toFixed(6),height:e.getFloat32(t+4).toFixed(6),transX:e.getFloat32(t+8).toFixed(6),transY:e.getFloat32(t+12).toFixed(6),scaleX:e.getFloat32(t+16).toFixed(6),scaleY:e.getFloat32(t+20).toFixed(6)}},e.prototype.removeNALEscape=function(e,t,i){t||(t=0),i=i||e.byteLength-t;for(var n=new Uint8Array(e),o=0,a=0,r=new Uint8Array(i),l=t;l<t+i;l++)l>=2&&3===n[l]&&0===n[l-1]&&0===n[l-2]?a++:r[o++]=n[l];return{buffer:r.buffer,nalSize:a}},e}();t.default=s},function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SVG_KEY_VERSION=1]="SVG_KEY_VERSION",e[e.SVG_KEY_META=2]="SVG_KEY_META",e[e.SVG_KEY_PATH_CLOSE=3]="SVG_KEY_PATH_CLOSE",e[e.SVG_KEY_PATH_MOVETO=4]="SVG_KEY_PATH_MOVETO",e[e.SVG_KEY_PATH_RMOVETO=5]="SVG_KEY_PATH_RMOVETO",e[e.SVG_KEY_PATH_LINETO=6]="SVG_KEY_PATH_LINETO",e[e.SVG_KEY_PATH_RLINETO=7]="SVG_KEY_PATH_RLINETO",e[e.SVG_KEY_PATH_CURVETO=8]="SVG_KEY_PATH_CURVETO",e[e.SVG_KEY_PATH_RCURVETO=9]="SVG_KEY_PATH_RCURVETO"}(n||(n={})),t.SvgType=n;t.MASKACTIONTYPE={MAX_SELECT_TIME:"maxSelectTime",DELETE_IMAGE_FPS:"deleteImageFps",MASK_FPS:"maskFps",DANMUKU_MASK_STATUS_CHANGE:"danmakuMaskStatusChange"};t.MASKKEY={DB_TIP_KEY:"maskTipsState",DB_MASK_KEY:"maskOpenState"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=i(2),a=i(16),r=i(4),l=i(0),s="bilibili-live-player-video-block",A=function(){function e(t,i,n){this._player=t,this._container=i,this._options=n,this._status=e._STATE_HIDE,this._blockList=[],this._blockSelectedIndexList=[],this._config={time:0,type:0,level:0,shieldUserKeywords:[]},this._adminBlockStatus=!1,this._checkBoxList=[],this._snippet=['<div class="'+s+'-container">','<div class="video-block-header">','<div class="video-block-header-title">全局屏蔽</div>','<span class="video-block-header-close live-icon-close"></span>',"</div>",'<div class="video-block-group">','<div class="video-block-content video-block-select-row clearfix">','<div class="video-block-select video-block-level"></div>',"</div>","</div>",'<div class="video-block-group">','<div class="video-block-title">关键字屏蔽</div>','<div class="video-block-content">','<input type="text" class="video-block-keyword-input" spellcheck="false">','<div class="video-block-btn video-block-add"></div>',"</div>","</div>",'<div class="video-block-group">','<div class="video-block-title">屏蔽列表</div>','<div class="video-block-content">','<div class="video-block-warning-info">注:用户屏蔽请到评论区左击选中屏蔽</div>','<div class="video-block-select-all"></div>','<div class="video-block-list-container">','<div class="video-block-list"></div>',"</div>","</div>","</div>",'<div class="video-block-group video-block-footer">','<div class="video-block-content">','<div class="video-block-apply-checkbox"></div>','<div class="video-block-btn video-block-delete"></div>',"</div>","</div>","</div>"],this._adminSelectRowSnippet=['<div class="video-block-select video-block-time"></div>','<div class="video-block-select video-block-level"></div>','<div class="video-block-btn video-block-apply-btn"></div>','<div class="video-block-info clearfix">','<span class="video-block-info-text">当前未开启禁言</span>','<span class="video-block-info-btn"></span>',"</div>"],this._guid=this._getGuidFunction(),this.state={},this.state={onSetting:!1,isInitialize:!1}}return e.prototype.canInject=function(){return this.state.isInitialize},e.prototype.show=function(){this._status=e._STATE_SHOW,this._container.show()},e.prototype.hide=function(){this._status=e._STATE_HIDE,this._container.hide()},e.prototype.toggle=function(){this._status!==e._STATE_SHOW?this.show():this.hide()},e.prototype.set=function(e,t,i){var n=this;switch(e){case"levelShield":this.state.onSetting=!0,this._blockLevelSelect.setValue(parseInt(t,10));break;case"addShieldWord":this.state.onSetting=!0,this.shieldKeyword(l.default.BLOCK_ADD_SHIELD,t,function(){n.addShield(t)});break;case"addShieldUser":this.state.onSetting=!0;var a=t.uid+"_"+t.uname;this.addShield(a,1),this._fire("addShieldList",{code:0,msg:a});break;case"deleteShieldId":this._setBlockSelectListByIndex(t);break;case"roomListShield":this.state.onSetting=!0,this._onRoomShieldChange(!!t);break;case"globalShield":var r=t.type,s=t.level,A=t.minutes;r?(this.state.onSetting=!0,this._applyAdminBlock(r,s,A)):o.default.log("Set globalShield Error, data: "+JSON.stringify(t),1);break;case"setUserShield":this.state.onSetting=!0,this._setUserShield(t,i)}},e.prototype.shieldKeyword=function(e,t,i,o){var a=this;void 0===e&&(e=l.default.BLOCK_ADD_SHIELD),n.default.ajax({type:"post",url:r.default.shieldKeyword,data:{roomid:this._player.config.rid,type:e,keyword:t},beforeSend:function(){e&&a._template._keyword_input.val("")}},function(r){n.default.log(r),0===r.code?("function"==typeof i&&i(),l.default.BLOCK_ADD_SHIELD===e?a._fire("addShieldList",{code:0,msg:t}):l.default.BLOCK_REMOVE_SHIELD===e&&(a._checkBoxList[o]=void 0,a._fire("deleteShieldList",[o]))):a._fire("addShieldList",r)})},e.prototype.shieldUser=function(e,t,i,a){var s=this;void 0===e&&(e=l.default.BLOCK_ADD_SHIELD),n.default.ajax({type:"post",url:r.default.shieldUser,data:{roomid:this._player.config.rid,type:e,uid:t}},function(t){if(0===t.code)if("function"==typeof i&&i(),l.default.BLOCK_ADD_SHIELD===e){o.default.log("Block Add Shield.");var n=t.data.uid+"_"+t.data.uname;s.addShield(n,1),s._fire("addShieldList",{code:0,msg:n})}else l.default.BLOCK_REMOVE_SHIELD===e&&(s._checkBoxList[a]=void 0,s._fire("deleteShieldList",[a]))})},e.prototype.shieldLevel=function(e){n.default.ajax({type:"post",url:r.default.setUserShield,data:{room_id:this._player.config.rid,level_sheild:e}},function(e){n.default.log(e),e.code})},e.prototype.addShield=function(e,t){var i=this;void 0===t&&(t=0);var n=this._guid(),o="bilibili_block_list_"+n,r=$('<div class="video-block-list-item">\n                            <label for="'+o+'" class="video-block-list-item-text">'+e+'</label>\n                            <div class="video-block-list-item-checkbox"></div>\n                        </div>'),l=this._blockList.length;this._template._block_list.append(r);var s=new a.default("checkbox",r.find(".video-block-list-item-checkbox"),{id:o,label:"",onChange:function(e){if(e)i._blockSelectedIndexList.push(l);else{var t=i._blockSelectedIndexList.indexOf(l);t>=0&&i._blockSelectedIndexList.splice(t,1)}i._checkForAllCheckbox()}});this._checkBoxList.push(s),this._blockList.push({index:n,id:o,item:r,selected:!1,checkBox:s,keyword:e,mode:t})},e.prototype.removeShield=function(){var e,t=this,i=this._blockSelectedIndexList.sort(function(e,t){return t-e}),o=this._blockList;n.default.log(i,this._blockList),i.forEach(function(i){e=o[i],n.default.log(e.keyword),function(e){if(l.default.BLOCK_MODE_KEYWORD===e.mode)t.shieldKeyword(l.default.BLOCK_REMOVE_SHIELD,e.keyword,function(){e.item.remove(),o[i]=void 0},e.index);else if(l.default.BLOCK_MODE_USER===e.mode){var n=parseInt(e.keyword.split("_")[0],10);t.shieldUser(l.default.BLOCK_REMOVE_SHIELD,n,function(){e.item.remove(),o[i]=void 0},e.index)}}(e)}),this._checkAllCheckbox.checked(!1),this._checkBlockList()},e.prototype.getBlockList=function(){return this._blockList},e.prototype.initialize=function(){this._create()._initializeUI()._bindEvents().injectUserData(),this.state.isInitialize=!0},e.prototype.injectUserData=function(){var e=this;if(this._player.user){var t=this._player.user.getFullUserConfig();this._guid=this._getGuidFunction(),t.userShieldKeyWord&&t.userShieldKeyWord.length&&t.userShieldKeyWord.forEach(function(t){e.addShield(t)}),t.shieldUser&&t.shieldUser.length&&t.shieldUser.forEach(function(t){e.addShield(t,l.default.BLOCK_MODE_USER)})}},e.prototype._getGuidFunction=function(){var e=0;return function(){return e++}},e.prototype._create=function(){var e=this._container;return e.append($(this._snippet.join(""))),this._template={_container:e.find("."+s+"-container"),_close:e.find(".video-block-header-close"),_keyword_input:e.find(".video-block-keyword-input"),_add_btn_wrap:e.find(".video-block-add"),_delete_btn_wrap:e.find(".video-block-delete"),_all_select_wrap:e.find(".video-block-select-all"),_block_list_wrap:e.find(".video-block-list-container"),_block_list:e.find(".video-block-list"),_block_time_wrap:e.find(".video-block-time"),_block_level_wrap:e.find(".video-block-level"),_block_apply_btn_wrap:e.find(".video-block-apply-btn"),_block_apply_checkbox_wrap:e.find(".video-block-apply-checkbox"),_select_row:e.find(".video-block-select-row")},this._template._block_list_wrap.mCustomScrollbar&&this._template._block_list_wrap.mCustomScrollbar({axis:"y",scrollInertia:100,autoHideScrollbar:!0}),this},e.prototype._initializeUI=function(){var t=this,i=this._player.config,o=this._template,r=o._container;return this._checkAllCheckbox=new a.default("checkbox",o._all_select_wrap,{checked:!1,label:"全选",onChange:function(e){t._checkBlockAll(!!e)}}),new a.default("button",o._add_btn_wrap,{title:"添加",text:"添加",type:"text-btn",value:0,isBlock:!0,onClick:function(){var e=o._keyword_input,i=e.val().trim();i?(t.shieldKeyword(l.default.BLOCK_ADD_SHIELD,i,function(){t.addShield(i)}),t._player.track(l.TRACK.STATISTICS_BLOCK)):e.focus()}}),new a.default("button",o._delete_btn_wrap,{title:"删除",text:"删除",type:"text-btn",value:0,isBlock:!0,onClick:function(){t.removeShield()}}),i.user.isSuperUser?(o._select_row.html(this._adminSelectRowSnippet.join("")),o._block_time_wrap=r.find(".video-block-time"),o._block_level_wrap=r.find(".video-block-level"),o._block_apply_btn_wrap=r.find(".video-block-apply-btn"),o._block_apply_checkbox_wrap=r.find(".video-block-apply-checkbox"),o._block_info=r.find(".video-block-info"),o._block_info_text=r.find(".video-block-info-text"),o._block_info_btn=r.find(".video-block-info-btn"),this._adminBlockTime=new a.default("select",o._block_time_wrap,{selected:180,options:e._TIME_LIST,onChange:function(){}}),this._adminBlockLevel=new a.default("select",o._block_level_wrap,{selected:1,options:e._ADMIN_LEVEL_LIST,onChange:function(){}}),this._adminApplyBlockBtn=new a.default("button",o._block_apply_btn_wrap,{title:"确定",text:"确定",type:"text-btn",value:0,isBlock:!0,onClick:function(){n.default.log(t._adminBlockTime.getValue())}}),this._adminApplyRoomBlockCheckbox=new a.default("checkbox",o._block_apply_checkbox_wrap,{id:"bilibili_live_player_block_apply_checkbox",label:"将屏蔽列表应用到房间",onChange:function(e){t._onRoomShieldChange(!!e)}})):this._blockLevelSelect=new a.default("select",o._block_level_wrap,{selected:0,options:e._NORMAL_LEVEL_LIST,onChange:function(e){n.default.log(e),t.shieldLevel(e)}}),this},e.prototype._bindEvents=function(){var e=this,t=this._template;return t._close.on("click",function(){e.hide()}),t._keyword_input.on("keydown",function(i){if(l.default.KEYCODE_ENTER===i.keyCode){var n=t._keyword_input.val().trim();n&&(e.shieldKeyword(l.default.BLOCK_ADD_SHIELD,n,function(){e.addShield(n)}),e._player.track(l.TRACK.STATISTICS_BLOCK))}}),this},e.prototype._checkBlockList=function(){this._blockSelectedIndexList=[];for(var e=0,t=this._blockList.length;e<t;e++)if(this._blockList[e])return!1;return this._blockList=[],!0},e.prototype._applyAdminBlock=function(e,t,i){var o=this;t=isNaN(t)?0:t,n.default.ajax({type:"post",url:r.default.roomSilent,data:{minute:i,room_id:this._player.config.rid,type:e,level:t},beforeSend:function(){o._adminBlockStatus=!0}},function(t){n.default.log(t),o._fire("globalShield",t),0===t.code&&(e||o._cancelApplyApplyBlock())})},e.prototype._blockCounter=function(e){var t,i,n,o=this,a=this._template._block_info_text;n="剩余时间 "+(t=(t=Math.floor(e/60))<10?"0"+t:t)+":"+(i=(i=Math.floor(e%60))<10?"0"+i:i),a.html(n),--e>0?this._adminBlockTimeout=window.setTimeout(function(){o._blockCounter(e)},1e3):this._cancelApplyApplyBlock()},e.prototype._cancelApplyApplyBlock=function(){this._adminBlockStatus=!1,window.clearTimeout(this._adminBlockTimeout),this._adminBlockCancelBtn&&this._adminBlockCancelBtn.destroy(),this._template._block_info_text.html("当前未开启禁言")},e.prototype._checkForAllCheckbox=function(){var e=0;this._blockList.forEach(function(t){t&&e++}),n.default.log(e,this._blockSelectedIndexList),e===this._blockSelectedIndexList.length?this._checkAllCheckbox.checked():this._checkAllCheckbox.checked(!1)},e.prototype._checkBlockAll=function(e){void 0===e&&(e=!0);var t=this._blockList,i=this._blockSelectedIndexList;e?t.forEach(function(e,t){e&&-1===i.indexOf(t)&&e.checkBox.fire("click")}):(t.forEach(function(e,t){e&&i.indexOf(t)>-1&&e.checkBox.fire("click")}),this._blockSelectedIndexList=[])},e.prototype._setUserShield=function(e,t){var i=this;n.default.ajax({url:r.default.userSilent,type:"post",data:e},function(n){"function"==typeof t&&t(n),0===n.code&&i._updateUserShieldConfig(e)})},e.prototype._updateUserShieldConfig=function(e){var t=this._player.config;switch(e.type){case"level":t.user.silentLevel=e.level;break;case"rank":t.user.silentRank=e.level;break;case"verify":t.user.silentVerify=!!e.level}},e.prototype._setBlockSelectListByIndex=function(e){n.default.log(this._blockList,this._blockSelectedIndexList),this._checkBoxList.forEach(function(e){e&&e.checked(!1)}),this._blockSelectedIndexList=[];var t=this._blockList;if(e&&e.length)for(var i=0,o=e.length;i<o;i++)for(var a=e[i],r=0,l=t.length;r<l;r++)t[r]&&t[r].index===a&&this._blockSelectedIndexList.push(a);this.removeShield()},e.prototype._onRoomShieldChange=function(e){var t=this;void 0===e&&(e=!1),n.default.ajax({type:"post",url:r.default.setRoomShield,data:{roomid:this._player.config.rid,type:e}},function(i){n.default.log(i),0===i.code&&t._fire("roomListShield",!!e)})},e.prototype._fire=function(e,t){n.default.fireEventCallback(this._player.callbackMap.set,{component:"block",action:e,data:t})},e._TIME_LIST=[{text:"3分钟",value:180},{text:"5分钟",value:300},{text:"10分钟",value:600}],e._BASE_LEVEL_LIST=[{text:"用户等级UL.1以下",value:1},{text:"用户等级UL.5以下",value:5},{text:"用户等级UL.10以下",value:10},{text:"用户等级UL.15以下",value:15},{text:"用户等级UL.20以下",value:20}],e._NORMAL_LEVEL_LIST=e._BASE_LEVEL_LIST.concat([{text:"不屏蔽",value:0}]),e._ADMIN_LEVEL_LIST=e._BASE_LEVEL_LIST.concat([{text:"全员",value:-1}]),e._STATE_HIDE=0,e._STATE_SHOW=1,e}();t.default=A},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=i(81),l=i(4),s=i(1),A=i(0),c=i(82),d=i(2),p=function(e){function t(t){var i=e.call(this,t)||this;return i.isReady=0,i.config=t.config,i.state={superUser:{isSuperUser:!1,superUserForceColor:0},hostServer:{port:-1,host:"",hostServerList:[{host:"",port:-1,wssPort:-1,wsPort:-1}]},shieldInfo:{shieldUserList:[],keywordList:[],shieldRules:{rank:0,verify:0,level:0}},danmuConf:{mode:1,color:16777215,length:20,roomid:0},roomSilent:{type:"level",level:0,second:0},roomInitData:{startTime:0,liveStatus:0,uid:parseInt(s.default.getCookie("DedeUserID"),10)||0,roomShield:0}},i}return o(t,e),t.prototype.initialize=function(){var e=this,t=[];return 0===this.config.switchCount&&this.config.useType===A.default.PLAYER_ROOM?t.length=0:t=this.config.downgrade?[]:[this.requestDanmuConfApi(),this.requestRoomSilent(),this.requestShieldInfo()],c.Promise.all([this.requestDanmuServerApi()].concat(t)).then(function(){if(0!==t.length){var i=e.initDanmaku();"function"==typeof e.config.onInitDanmaku&&e.config.onInitDanmaku(i)}})},t.prototype.setRoomInitData=function(e,t){"object"==typeof e?this.state.roomInitData=a({},this.state.roomInitData,e):this.state.roomInitData[t]=e},t.prototype.getSuperUser=function(){return this.state.superUser},t.prototype.getHostServer=function(){return this.state.hostServer},t.prototype.getShieldInfo=function(){return this.state.shieldInfo},t.prototype.getDanmuConf=function(){return this.state.danmuConf},t.prototype.getRoomSilent=function(){return this.state.roomSilent},t.prototype.getRoomInitData=function(){return this.state.roomInitData},t.prototype.getUserConfig=function(){return{id:this.getRoomInitData().uid,silentLevel:this.getShieldInfo().shieldRules.level,silentRank:this.getShieldInfo().shieldRules.rank,silentVerify:!!this.getShieldInfo().shieldRules.verify,isSuperUser:this.getSuperUser().isSuperUser,superUserForceColor:this.getSuperUser().superUserForceColor}},t.prototype.getFullUserConfig=function(){return{uid:this.getRoomInitData().uid,login:!!this.getRoomInitData().uid,time:this.getRoomInitData().startTime,state:this.getRoomInitData().liveStatus,chatid:this.config.cid,hostList:this.getHostServer().hostServerList.map(function(e){return e.host}),shieldUser:this.getShieldInfo().shieldUserList.map(function(e){return e.uid+"_"+e.uname}),userShieldKeyWord:this.getShieldInfo().keywordList,danmakuMode:this.getDanmuConf().mode,roomShield:this.getRoomInitData().roomShield,roomSilentType:this.getRoomSilent().type,roomSilentLevel:this.getRoomSilent().level,roomSilentSecond:this.getRoomSilent().second,userSilentLevel:this.getShieldInfo().shieldRules.level,userSilentVerify:!!this.getShieldInfo().shieldRules.verify,userSilentRank:this.getShieldInfo().shieldRules.rank,danmakuColor:this.getDanmuConf().color,danmakuLength:this.getDanmuConf().length}},t.prototype.initDanmaku=function(e){var t=this.state.danmuConf.color.toString(16);t&&(t=(Array(6).join("0")+t).slice(-6));var i=this.getShieldInfo().shieldUserList.map(function(e){return e.uid+"_"+e.uname}),n={ready:this.isReady++,level:this.getShieldInfo().shieldRules.level,shield_list:this.getShieldInfo().keywordList.concat(i),shield_keyword:this.getShieldInfo().keywordList,shield_users:i,danmu_color:"0x"+t,danmu_length:this.getDanmuConf().length,danmu_mode:this.getDanmuConf().mode,room_silent_type:this.getRoomSilent().type,room_silent_level:this.getRoomSilent().level,room_silent_second:this.getRoomSilent().second,user_silent_level:this.getShieldInfo().shieldRules.level,user_silent_rank:this.getShieldInfo().shieldRules.rank,user_silent_verify:this.getShieldInfo().shieldRules.verify};return"function"==typeof e&&e(n),n},t.prototype.requestDanmuServerApi=function(e){var t,i,n=this;return void 0===e&&(e=!0),new c.Promise(function(o,a){s.default.ajax({data:{room_id:n.config.cid,platform:"pc",player:"web"},url:l.default.danmakuHosts,beforeSend:function(){i=d.default.log("Loading danmu server getConf api"),s.default.time("Load API Danmu Server"),t=s.default.getTimeNow(!0)}},function(a){if(d.default.log("Loaded danmu getConf api",0,i),d.default.log("Loaded danmaku host API:\n\n "+JSON.stringify(a)+" \n",3),s.default.time("Load API Danmu Server",!0),e){var r=s.default.getTimeNow(!0)-t;"function"==typeof n.config.onTrack&&(n.config.onTrack(A.TRACK.STATISTIC_HOST_SERVER_LOADED,r),n.config.onTrack(A.TRACK.STATISTICS_SCRIPT_LOADED_TIME,n.config.scriptLoadTime))}a&&0===a.code&&a.data&&0!==Object.keys(a.data).length&&(n.setServerHost(a.data),o())},function(e){d.default.log("Load getConf api error!! Info: \\n\\n"+JSON.stringify(e)+"\\n`",2),a(e)})})},t.prototype.setInitData=function(e){d.default.log("inject data"+JSON.stringify(e)),e.roomBlockInfo&&this.setRoomSilent(e.roomBlockInfo),e.userBlockInfo&&this.setShieldInfo(e.userBlockInfo),e.danmakuInfo&&this.setDanmuConf(e.danmakuInfo);var t=this.initDanmaku();"function"==typeof this.config.onInitDanmaku&&this.config.onInitDanmaku(t)},t.prototype.requestDanmuConfApi=function(){var e,t,i=this;return new c.Promise(function(n,o){s.default.ajax({data:{roomid:i.config.cid},url:l.default.danmuConf,beforeSend:function(){t=d.default.log("Loading danmu getAll api"),e=s.default.getTimeNow(!0),s.default.time("Load Danmu Config API")}},function(o){d.default.log("Loaded danmu getAll api. ",0,t),d.default.log("Loaded danmaku API:\n\n "+JSON.stringify(o)+" \n",3),s.default.time("Load Danmu Config API",!0);var a=s.default.getTimeNow(!0)-e;"function"==typeof i.config.onTrack&&i.config.onTrack(A.TRACK.STATISTIC_DANMU_CONFIG_LOADED,a),o&&0===o.code&&(i.setDanmuConf(o.data),n())},function(e){d.default.log("Load danmu getAll api error!! Info: \\n\\n"+JSON.stringify(e)+"\\n`",2),o(e)})})},t.prototype.setDanmuConf=function(e){this.state.danmuConf=a({},this.state.danmuConf,e)},t.prototype.setServerHost=function(e){if(this.state.hostServer.port=e.port,this.state.hostServer.host=e.host,this.state.hostServer.token=e.token,"[object Array]"===Object.prototype.toString.call(e.host_server_list)){var t=e.host_server_list.map(function(e){return{host:e.host,port:e.port,wsPort:e.ws_port,wssPort:e.wss_port}});this.state.hostServer.hostServerList=t.slice()}},t.prototype.requestRoomSilent=function(){var e,t,i=this;return new c.Promise(function(n,o){s.default.ajax({data:{room_id:i.config.cid},url:l.default.getRoomSilent,beforeSend:function(){t=d.default.log("Loading room silent api"),s.default.time("Load API Room Silent"),e=s.default.getTimeNow(!0)}},function(o){d.default.log("Loaded room silent api",0,t),d.default.log("Loaded room silent API:\n\n "+JSON.stringify(o)+" \n",3),s.default.time("Load API Room Silent",!0);var a=s.default.getTimeNow(!0)-e;"function"==typeof i.config.onTrack&&i.config.onTrack(A.TRACK.STATISTIC_ROOM_SILENT_LOADED,a),o&&0===o.code&&(i.setRoomSilent(o.data),n())},function(e){d.default.log("Load room silent api error!! Info: \\n\\n"+JSON.stringify(e)+"\\n`",2),o(e)})})},t.prototype.setRoomSilent=function(e){"[object Object]"===Object.prototype.toString.call(e)&&0!==Object.keys(e).length&&(this.state.roomSilent.second=e.second,this.state.roomSilent.type=e.type,this.state.roomSilent.level=e.level)},t.prototype.requestShieldInfo=function(){var e,t,i=this;return new c.Promise(function(n,o){s.default.ajax({url:l.default.getShieldInfo,beforeSend:function(){t=d.default.log("Loading shield info api"),s.default.time("Load API Shield"),e=s.default.getTimeNow(!0)}},function(o){d.default.log("Loaded shield info api",0,t),d.default.log("Loaded silent info API:\n\n "+JSON.stringify(o)+" \n",3),s.default.time("Load API Shield",!0);var a=s.default.getTimeNow(!0)-e;"function"==typeof i.config.onTrack&&i.config.onTrack(A.TRACK.STATISTIC_SHIELD_INFO_LOADED,a),o&&o.data&&(i.setShieldInfo(o.data),n())},function(e){d.default.log("Load shield info api error!! Info: \\n\\n"+JSON.stringify(e)+"\\n`",2),o(e)})})},t.prototype.setShieldInfo=function(e){this.state.shieldInfo.shieldUserList=(e.shield_user_list||[]).slice(),this.state.shieldInfo.keywordList=(e.keyword_list||[]).slice(),"[object Object]"===Object.prototype.toString.call(e)&&(this.state.shieldInfo.shieldRules={rank:e.shield_rules.rank,verify:e.shield_rules.verify,level:e.shield_rules.level})},t.prototype._verifyUserIsSuperUser=function(){var e=this;s.default.ajax({url:l.default.getSpecialUser},function(t){d.default.log("Loaded Special User.");var i=t.nixiang,n=t.color;t&&i.length&&n.length&&i instanceof Array&&i.indexOf(e.getRoomInitData().uid)>-1&&(e.state.superUser.isSuperUser=!0,e.state.superUser.superUserForceColor=parseInt(n[e.getRoomInitData().uid],10))},function(){d.default.log("Loading Special User Error.")})},t}(r.default);t.default=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.options=e}return e.prototype.initialize=function(){},e.prototype.destroy=function(){},e}();t.default=n},function(e,t,i){(function(t,i){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,r=void 0,l=function(e,t){h[o]=e,h[o+1]=t,2===(o+=2)&&(r?r(f):E())},s="undefined"!=typeof window?window:void 0,A=s||{},c=A.MutationObserver||A.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function u(){var e=setTimeout;return function(){return e(f,1)}}var h=new Array(1e3);function f(){for(var e=0;e<o;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}o=0}var g,_,b,m,E=void 0;function y(e,t){var i=this,n=new this.constructor(S);void 0===n[T]&&U(n);var o=i._state;if(o){var a=arguments[o-1];l(function(){return O(o,n,a,i._result)})}else N(i,n,e,t);return n}function v(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(S);return k(t,e),t}d?E=function(){return t.nextTick(f)}:c?(_=0,b=new c(f),m=document.createTextNode(""),b.observe(m,{characterData:!0}),E=function(){m.data=_=++_%2}):p?((g=new MessageChannel).port1.onmessage=f,E=function(){return g.port2.postMessage(0)}):E=void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(f)}:u()}catch(e){return u()}}():u();var T=Math.random().toString(36).substring(2);function S(){}var I=void 0,R=1,C=2;function w(t,i,n){i.constructor===t.constructor&&n===y&&i.constructor.resolve===v?function(e,t){t._state===R?B(e,t._result):t._state===C?x(e,t._result):N(t,void 0,function(t){return k(e,t)},function(t){return x(e,t)})}(t,i):void 0===n?B(t,i):e(n)?function(e,t,i){l(function(e){var n=!1,o=function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}(i,t,function(i){n||(n=!0,t!==i?k(e,i):B(e,i))},function(t){n||(n=!0,x(e,t))},e._label);!n&&o&&(n=!0,x(e,o))},e)}(t,i,n):B(t,i)}function k(e,t){if(e===t)x(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(n=t),null===n||"object"!==o&&"function"!==o)B(e,t);else{var i=void 0;try{i=t.then}catch(t){return void x(e,t)}w(e,t,i)}var n,o}function L(e){e._onerror&&e._onerror(e._result),D(e)}function B(e,t){e._state===I&&(e._result=t,e._state=R,0!==e._subscribers.length&&l(D,e))}function x(e,t){e._state===I&&(e._state=C,e._result=t,l(L,e))}function N(e,t,i,n){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+R]=i,o[a+C]=n,0===a&&e._state&&l(D,e)}function D(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,o=void 0,a=e._result,r=0;r<t.length;r+=3)n=t[r],o=t[r+i],n?O(i,n,o,a):o(a);e._subscribers.length=0}}function O(t,i,n,o){var a=e(n),r=void 0,l=void 0,s=!0;if(a){try{r=n(o)}catch(e){s=!1,l=e}if(i===r)return void x(i,new TypeError("A promises callback cannot return that same promise."))}else r=o;i._state!==I||(a&&s?k(i,r):!1===s?x(i,l):t===R?B(i,r):t===C&&x(i,r))}var M=0;function U(e){e[T]=M++,e._state=void 0,e._result=void 0,e._subscribers=[]}var P=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(S),this.promise[T]||U(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&B(this.promise,this._result))):x(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===I&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===v){var o=void 0,a=void 0,r=!1;try{o=e.then}catch(e){r=!0,a=e}if(o===y&&e._state!==I)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(i===F){var l=new i(S);r?x(l,a):w(l,e,o),this._willSettleAt(l,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===I&&(this._remaining--,e===C?x(n,i):this._result[t]=i),0===this._remaining&&B(n,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;N(e,void 0,function(e){return i._settledAt(R,t,e)},function(e){return i._settledAt(C,t,e)})},e}(),F=function(){function t(e){this[T]=M++,this._result=this._state=void 0,this._subscribers=[],S!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){k(e,t)},function(t){x(e,t)})}catch(t){x(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this.constructor;return e(t)?this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return F.prototype.then=y,F.all=function(e){return new P(this,e).promise},F.race=function(e){var t=this;return n(e)?new t(function(i,n){for(var o=e.length,a=0;a<o;a++)t.resolve(e[a]).then(i,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},F.resolve=v,F.reject=function(e){var t=new this(S);return x(t,e),t},F._setScheduler=function(e){r=e},F._setAsap=function(e){l=e},F._asap=l,F.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=F},F.Promise=F,F},e.exports=n()}).call(this,i(83),i(84))},function(e,t){var i,n,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var s,A=[],c=!1,d=-1;function p(){c&&s&&(c=!1,s.length?A=s.concat(A):d=-1,A.length&&u())}function u(){if(!c){var e=l(p);c=!0;for(var t=A.length;t;){for(s=A,A=[];++d<t;)s&&s[d].run();d=-1,t=A.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];A.push(new h(e,t)),1!==A.length||c||l(u)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=f,o.addListener=f,o.once=f,o.off=f,o.removeListener=f,o.removeAllListeners=f,o.emit=f,o.prependListener=f,o.prependOnceListener=f,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(86),o=i(1),a=i(4),r=function(){function e(e){this._container=e}return e._createModalHtml=function(e,t){var i=t.reduce(function(e,t){return e+"<li>"+t.reason+"</li>"},'<li style="display: none">请选择举报理由喔~</li>');return'\n            <div class="bilibili-live-player-report-wrap" style="\n            ">\n                <div class="bilibili-live-player-report-uname">'+e.uname+'</div>\n                <div class="bilibili-live-player-report-msg">'+e.msg+'</div>\n                <div class="bilibili-live-player-report-select-wrap">\n                    <div class="bilibili-live-player-report-select-input">\n                        <div class="bilibili-live-player-report-curt">请选择举报理由喔~</div>\n                        <div class="bilibili-live-player-report-icon"></div>\n                    </div>\n                    <ul\n                    class="bilibili-live-player-report-ul">'+i+"</ul>\n                </div>\n            </div>\n        "},e.prototype.show=function(e){var t=this;o.default.ajax({url:a.default.reportReason,type:"get"},function(i){var n;n=0===i.code?i.data:[{id:1,reason:"违法违规"},{id:2,reason:"低俗色情"},{id:3,reason:"垃圾广告"},{id:4,reason:"辱骂引战"},{id:5,reason:"政治敏感"},{id:6,reason:"青少年不良信息"},{id:7,reason:"其他"}],t.handleReport(e,n)})},e.prototype.checkReportState=function(){var e=document.querySelector(".live-bilibili-player-report-cancel");e&&e.click()},e.prototype.handleReport=function(t,i){var o=this;this.checkReportState();var a=e._createModalHtml(t,i),r=function(e){var t=e.target.innerText;p.disabled="请选择举报理由喔~"===t&&"获取不到举报理由，请尝试刷新后举报喔~"===t,c.innerText=t,A.style.display="none",A.childNodes.forEach(function(e){"none"===e.style.display&&(e.style.cssText="block")}),e.target.style.display="none"},l=function(){A.style.display="block"},s=function(){A.style.display="none"};this._modal=new n.default(this._container,{title:"举报弹幕",html:a,btns:[{type:"submit",text:"警察叔叔就是他",click:function(){o._submitFunction.call(o,t);var e=document.querySelector(".bilibili-live-player-report-ul"),i=document.querySelector(".bilibili-live-player-report-select-wrap");e.removeEventListener("click",r),i.removeEventListener("click",s),i.removeEventListener("click",l)}},{type:"cancel",text:"饶他一命",click:function(){document.querySelector(".bilibili-live-player-report-ul").removeEventListener("click",r),d.removeEventListener("click",s),d.removeEventListener("click",l)}}],width:360,autoRemove:!0,autoShow:!0,btnPostion:"flex-report"});var A=document.querySelector(".bilibili-live-player-report-ul"),c=document.querySelector(".bilibili-live-player-report-curt"),d=document.querySelector(".bilibili-live-player-report-select-wrap"),p=document.querySelector(".blp-plugin-modal-btn");p.disabled=!0,A.addEventListener("click",r.bind(this)),d.addEventListener("mouseover",l.bind(this)),d.addEventListener("mouseout",s.bind(this))},e.prototype._submitFunction=function(e){var t=this,i=this._container.find(".bilibili-live-player-report-curt").last()[0].innerText,n=e.checkInfo;i&&o.default.ajax({url:a.default.reportDanmaku,type:"post",data:{reason:i,roomid:e.roomid,msg:e.msg,uid:e.uid,ts:n.ts,sign:n.ct}},function(e){0===e.code&&t._modal.hide()})},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,i){this._container=t,this._snippet=['<div class="blp-plugin-modal">','<div class="blp-plugin-modal-header"></div>','<div class="blp-plugin-modal-body"></div>','<div class="blp-plugin-modal-footer clearfix"></div>','<div class="blp-plugin-modal-close"><i class="live-icon-close"></i></div>',"</div>"],this._opts=$.extend({},e._DEFAULT_OPTIONS,i),this._initialize()}return e.prototype.show=function(){var e=this._opts,t=this._template;this._freshPos(),t._container.addClass("active"),"function"==typeof e.onShow&&e.onShow()},e.prototype.hide=function(){var e=this._opts;this._template._container.removeClass("active"),"function"==typeof e.onShow&&e.onHide(),e.autoRemove&&this.destroy()},e.prototype.destroy=function(){this._template._container.remove()},e.prototype._initialize=function(){this._create()._bindEvents(),this._opts.autoShow&&this.show()},e.prototype._create=function(){var e=$(this._snippet.join(""));this._template={_container:e,_header:e.find(".blp-plugin-modal-header"),_body:e.find(".blp-plugin-modal-body"),_footer:e.find(".blp-plugin-modal-footer"),_close:e.find(".blp-plugin-modal-close")};var t=this._template,i=this._opts;return t._header.html(i.title),t._body.html(i.html||i.text),this._createBtn(t._footer,i.btns,i),i.hideBtn&&t._close.addClass("active"),this._container.append(e),i.width&&e.width(i.width),this},e.prototype._createBtn=function(e,t,i){var n=this;if(t instanceof Array)t.forEach(function(t){n._createBtn(e,t,i)});else{var o=void 0;switch(t.type){case"submit":o=$("<button>").addClass("blp-plugin-modal-btn submit-btn").html(t.text),"function"==typeof t.click&&o.on("click",function(e){t.click(e),n.hide()});break;case"cancel":o=$("<button>").addClass("blp-plugin-modal-btn cancel-btn").html(t.text),"flex-report"===i.btnPostion&&o.addClass("live-bilibili-player-report-cancel"),o.on("click",function(){n.hide()})}o&&e.append(o)}},e.prototype._bindEvents=function(){var e=this;return this._opts.hideBtn&&this._template._close.on("click",function(){e.hide()}),this},e.prototype._freshPos=function(){var e,t,i=this._opts,n=(this._container,this._template._container),o=this._template._footer,a=0,r=0;switch(i.btnPostion){case"flex-report":o.css({display:"flex",justifyContent:"space-between",marginTop:"69px"}),n.css({height:190,padding:20})}switch(i.position){case"center-center":e="50%",t="50%",a=-1*n.outerWidth()/2,r=-1*n.outerHeight()/2}n.css({left:e,top:t,marginLeft:a,marginTop:r})},e._DEFAULT_OPTIONS={title:"Bilibili HTML5 Live Player Modal",theme:"white",text:"Are you confirm the operation?",btns:[{type:"submit",text:"Confirm",click:function(){}},{type:"cancel",text:"Cancel",click:function(){}}],appendTo:$(document.body),mask:!0,position:"center-center",hideBtn:!0,autoShow:!0},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=i(0),a=i(4),r=function(){function e(e,t){this.config=e,this.state=t,this._initialize()}return e.prototype.send=function(e,t){switch(t&&t.time?o.TRACK.STATISTICS_PLAYING_TIME:t&&t.counts>=0||console.debug("[Player] Tracking "+n.default.getPropertyNameByValue(o.TRACK,e)+" ("+e+")."),e){case o.TRACK.UV:break;default:this._sendEvents(e,t)}},e.prototype._initialize=function(){},e.prototype._sendEvents=function(e,t){var i=this.config,r=this.state,l={fId:["home","page","activity"][i.useType]||"page",fVer:i.version().version,result:e,roomId:i.rid,isHttps:i.protocol.api===o.STATE_STRING.PROTOCOL_API_HTTPS,guid:r.guid,loadTime:0,bufferTimes:0,playurl:r.playURL,deltaTs:0,errorCode:0,cTime:Date.now(),quality:r.quality,displayId:i.playerId,param:"",coreType:r.coreType,coreProtocol:r.coreProtocol};switch(e){case o.TRACK.EXPERIENCE_FIRST_LOADED:case o.TRACK.EXPERIENCE_FIRST_LOADED_META_DATA_TIME:case o.TRACK.EXPERIENCE_FIRST_SCREEN_TIME:case o.TRACK.EXPERIENCE_FIRST_INIT_TIME:case o.TRACK.EXPERIENCE_FIRST_PLAYER:case o.TRACK.EXPERIENCE_FIRST_PLAYURL:case o.TRACK.EXPERIENCE_FIRST_LOAD:case o.TRACK.EXPERIENCE_FIRST_AUDIO_FRAME_DECODED:case o.TRACK.EXPERIENCE_FIRST_VEDIO_FRAME_DECODED:case o.TRACK.STATISTIC_HTTP_CONNECTION_TIME:case o.TRACK.STATISTICS_PLAYER_LOADED:case o.TRACK.STATISTICS_SCRIPT_LOADED_TIME:case o.TRACK.STATISTICS_INITIALIZED_TO_LOAD_PLAYURL:case o.TRACK.STATISTICS_PLAYURL_LOADED:case o.TRACK.STATISTICS_VIDEO_LOADED_META_DATA:case o.TRACK.STATISTICS_VIDEO_BUFFERING_TIME:case o.TRACK.STATISTICS_ROOM_INIT_API_LOAD_TIME:case o.TRACK.STATISTIC_HOST_SERVER_LOADED:case o.TRACK.STATISTIC_DANMU_CONFIG_LOADED:case o.TRACK.STATISTIC_ROOM_SILENT_LOADED:case o.TRACK.STATISTIC_CHASING_THRESHOLD:case o.TRACK.STATISTIC_SHIELD_INFO_LOADED:if(l.loadTime=Math.floor(t.time),t.time<0)return!1;break;case o.TRACK.STATISTICS_REUSE_PLAYURL_TIME:l.deltaTs=t.deltaTs;break;case o.TRACK.EXPERIENCE_BUFFERING_SLOWLY:l.bufferTimes=t.counts;break;case o.TRACK.STATISTICS_PLAYING_TIME:l.deltaTs=t.time;break;case o.TRACK.ERROR_PLAYING:case o.TRACK.ERROR_FIRST_PLAYING:l.errorCode=t.errorCode;break;case o.TRACK.STATISTIC_PLAYER_RECEIVED_BYTES:case o.TRACK.STATISTIC_HTTP_RECEIVED_BYTES:l.deltaTs=t.delta_ts;break;case o.TRACK.ERROR_FETCH_STREAM:case o.TRACK.STATISTICS_PLAYING_ERROR_WITH_CODE:l.deltaTs=t.time,l.errorCode=t.errorCode;break;case o.TRACK.STATISTICS_PAGE_INIT_TIME:if(l.loadTime=Math.floor(t.time),t.time>5e3)return!1;break;case o.TRACK.STATISTIC_PLAY_DELAY:l.loadTime=t.loadTime;break;case o.TRACK.STATISTICS_VIDEO_BUFFERING:l.deltaTs=t.time,l.param=t.param}var s=[l.fId,l.fVer,l.result,l.roomId,l.isHttps,l.guid,l.loadTime,l.bufferTimes,l.playurl,l.deltaTs,l.errorCode,l.cTime,l.quality,l.displayId,l.param,l.coreType,l.coreProtocol].join("|"),A=i.trackLogId;o.TRACK.STATISTICS_PLAYING_TIME!==l.result&&n.default.log("[Track] > "+l.result+" - "+(l.loadTime||l.deltaTs)+" ms"),/localhost|127\.0\.0\.1/.test(location.origin)||n.default.ajax({url:a.default.track,data:""+A+Date.now()+s}),t&&t.isFirstError&&(t.isFirstError=!1,this._sendEvents(o.TRACK.ERROR_FIRST_PLAYING,t))},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=function(){function e(e){this.componentName="forbidden-panel",this.container=e.container,this.config=e.config}return e.prototype.initialize=function(e){void 0===e&&(e=""),this.render(e)},e.prototype.destroy=function(){this.template&&this.container[0].removeChild(this.template.containerWrap)},e.prototype.parseDOM=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes},e.prototype.TPL=function(){for(var e=this.config.prefix+"-"+this.componentName,t=i(89),o=document.createDocumentFragment(),a=this.parseDOM(t({prefix:n.PREFIX})),r=0;r<a.length;r+=1)o.appendChild(a[r]);return this.template={containerWrap:o.querySelector("div."+e),msgenWrap:o.querySelector("p."+e+"-text.msg-en"),msgcnWrap:o.querySelector("p."+e+"-text.msg-cn"),mailWrap:o.querySelector("p."+e+"-text.mail"),maillinkWrap:o.querySelector("a."+e+"-mail-link")},o},e.prototype.render=function(e){var t=this.TPL(),i=""===e?"Sorry, bilibili is currently not available in your country according to copyright restrictions<br/>非常抱歉，根据版权方要求，您所在的地区无法观看本直播":e;this.template.msgenWrap.textContent=this.template.msgenWrap.textContent.replace("#msg#",i).replace(/\\n/g,"<br />"),this.container[0].appendChild(t)},e}();t.default=o},function(e,t,i){var n=i(3);e.exports=function(e){var t="",i=e||{};return function(e){var i="".concat(e,"-forbidden-panel");t=t+"<div"+n.attr("class",n.classes(["".concat(i)],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(i,"-content")],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(i,"-image")],[!0]),!1,!0)+"></div><p"+n.attr("class",n.classes(["msg-en ".concat(i,"-text")],[!0]),!1,!0)+">Bilibili is currently not available in your country .</p><p"+n.attr("class",n.classes(["msg-cn ".concat(i,"-text")],[!0]),!1,!0)+">非常抱歉，您所在的国家或地区暂时无法观看这个直播。</p><p"+n.attr("class",n.classes(["mail ".concat(i,"-text")],[!0]),!1,!0)+">如有疑问，请<a"+n.attr("class",n.classes(["".concat(i,"-mail-link")],[!0]),!1,!0)+' href="mailto:livehelp@bilibili.com" target="_blank">联系我们</a></p></div></div>'}.call(this,"prefix"in i?i.prefix:"undefined"!=typeof prefix?prefix:void 0),t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),o=i(0),a=function(){function e(e){this._container=e,this._cur=0,this._max=0,this._completed=100,this._status=!0,this._initialize()}return e.prototype.show=function(){return this._status||(this._status=!0,n.default.log("LoadingPanel Show."),this._container.show()),this},e.prototype.hide=function(){var e=this;return this._status&&(this._status=!1,n.default.log("LoadingPanel Hide."),this._percent?(this._percent.html("Loading(100%)..."),clearTimeout(this._TIMEOUT),setTimeout(function(){e._container.fadeOut(300),e._percent.remove()},100)):this._container.hide()),this},e.prototype.setPercent=function(e,t){this._max=e,clearTimeout(this._TIMEOUT),this._refreshPercent(t)},e.prototype._initialize=function(){return this._create(),n.default.log("LoadingPanel Initialized.."),this},e.prototype._create=function(){var e=i(91);return this._container.html(e({prefix:o.PREFIX})),this._percent=this._container.find(".bilibili-live-player-loading-panel-percent"),this},e.prototype._refreshPercent=function(e){var t=this;this._cur===this._completed?(this.hide(),e&&e()):this._cur<this._max?(this._cur+=Math.floor(5*Math.random()+1),this._cur>this._completed&&(this._cur=this._completed),this._percent.html("Loading("+this._cur+"%)..."),this._TIMEOUT=setTimeout(function(){t._refreshPercent(e)},5)):clearTimeout(this._TIMEOUT)},e}();t.default=a},function(e,t,i){var n=i(3);e.exports=function(e){var t="",i=e||{};return function(e){var i="".concat(e,"-loading-panel");t=t+"<div"+n.attr("class",n.classes(["".concat(i,"-container")],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(i,"-img")],[!0]),!1,!0)+"></div></div>"}.call(this,"prefix"in i?i.prefix:"undefined"!=typeof prefix?prefix:void 0),t}},function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),a=i(2),r=i(4),l=i(0),s=i(0),A="bilibili-live-player-ending-panel",c=function(){function e(e,t){this._player=e,this._container=t,this._initialized=!1,this.defaultTipsText="主播已关播"}return e.prototype.show=function(){this._initialized||this._initialize(),this._container.show()},e.prototype.hide=function(){this._container.unbind().hide().html(""),this._initialized=!1},e.prototype.destroy=function(){var e=this._player.config.namespace;this._container.off("click"+e)},e.prototype.setTipsValue=function(e,t){void 0===t&&(t=!1),e=e||this.defaultTipsText,t?e=this.recieveTipsText:this.inputTipsText=e,this._template&&this._template._tipsWrap&&this._template._tipsWrap.text(e)},e.prototype._initialize=function(){var e=this;a.default.log("EndingPanel Initializing..");var t=this._player.config,i={room_id:t.rid||window.ROOMID,count:8,rnd:t.rnd};return this.inputTipsText=this._player.state.UIState.tipsText||this.defaultTipsText,o.default.ajax({data:i,url:r.default.recommend,beforeSend:function(){a.default.log("Loading Recommend.."),e._initialized=!0}},function(t){a.default.log("Loaded Recommend."),t.data&&t.data.recommend?(t.data.recommend=t.data.recommend,a.default.log("EndingPanel Initialized.")):(o.default.fireEventCallback(e._player.callbackMap.recommend,{type:s.STATE_STRING.RECOMMEND_NOLIVE}),t.data={tips:"主播已关播..."},a.default.log("Loaded Recommend Error."),e._player.error(l.ERROR_CODE.RECOMMEND_RESOLVE_ERROR,"EndingPanel Error")),t&&t.data&&e._create(t.data)},function(){a.default.log("Loading Recommend Error.",2),e._player.error(l.ERROR_CODE.RECOMMEND_NETWORK_ERROR,"EndingPanel Error",!0)}),this._player.components.danmaku.play(),this},e.prototype._bindEvents=function(){var e=this,t=this._player.config.namespace;this._container.on("click"+t,"."+A+"-recommend-card",function(t){t.preventDefault(),e._player.track(l.TRACK.STATISTICS_RECOMMEND_ROOM);try{var i=$(t.target).attr("data-href")||$(t.target).parents("."+A+"-recommend-card").attr("data-href");i&&window.open(i)}catch(e){a.default.log("Open recommend card error",2)}}),this._template._recommendWrap.on("click",function(t){t.preventDefault();for(var i=t.originalEvent.path,n=0;n<i.length;n++)if("a"===i[n].localName){var a=i[n].getAttribute("data-roomid");return void o.default.fireEventCallback(e._player.callbackMap.recommend,{type:s.STATE_STRING.RECOMMEND_CLICK,data:{roomid:a}})}});for(var i=this._template._recommendWrap.find("."+A+"-recommend-card"),n=0;n<i.length;n++)i[n].addEventListener("mouseenter",function(t){var i=t.target.getAttribute("data-roomid");o.default.fireEventCallback(e._player.callbackMap.recommend,{type:s.STATE_STRING.RECOMMEND_MOVE,data:{roomid:i}})})},e.prototype._create=function(e){var t,o=this._container,a=i(93);if(o.html(a({prefix:l.PREFIX})),this._template={_tipsWrap:o.find("."+A+"-tips"),_attentionBtnWrap:o.find("."+A+"-func-btn.btn-attention"),_feedBtnWrap:o.find("."+A+"-func-btn.btn-feed"),_recommendWrap:o.find("."+A+"-recommend")},this._player.state.UIState.recommend?this._template._tipsWrap.html(e.tips):this._template._tipsWrap.html(this.inputTipsText),this.recieveTipsText=e.tips,0!==e.recommend.length||0!==e.record_list.length){var r=e.record_list.map(function(e){return n({},e,{type:"record"})});r.sort(function(e,t){return e.global_order-t.global_order});var s=e.recommend.length+e.record_list.length;(t=r.concat(e.recommend)).length=s>8?8:s}else t=[];return this._template._recommendWrap.html(this._getRecommendCard(t)),this._bindEvents(),this},e.prototype._getRecommendCard=function(e){if(e instanceof Array){for(var t="",n=0,a=e;n<a.length;n++){var r=a[n];t+=this._getRecommendCard(r)}return t}var s=void 0,A=void 0,c=void 0,d=void 0,p=void 0,u=void 0,h=void 0,f=void 0;if("record"===e.type){switch(s=(g=e).cover,A="/record/"+g.rid,f=g.rid,c=g.title,d=g.uname,h=g.start_time,g.is_sticky){case 0:p="record",u="最新回放";break;case 1:p="recommend",u="主播推荐"}}else{var g;s=(g=e).pic,A=g.url,c=g.title,d=g.uname,(h=g.online)>1e4&&(h=Math.floor(h/1e4)+"万");var _=A.match(/[0-9]+$/i);_&&0!==_.length&&(f=_[0])}var b=i(94);return o.default.isWebPSupported&&(s+="@384w_240h.webp"),-1===A.indexOf("live.bilibili")&&(A="https://live.bilibili.com"+A),b({prefix:l.PREFIX,roomId:f,pic:s,title:c,uname:d,url:A,online:h,cardType:p,cardText:u})},e}();t.default=c},function(e,t,i){var n=i(3);e.exports=function(e){var t="",i=e||{};return function(e){var i="".concat(e,"-ending-panel");t=t+"<div"+n.attr("class",n.classes(["".concat(i,"-container")],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(i,"-tips")],[!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["clearfix","".concat(i,"-recommend")],[!1,!0]),!1,!0)+"></div><div"+n.attr("class",n.classes(["".concat(i,"-info")],[!0]),!1,!0)+"> 闲置中</div></div>"}.call(this,"prefix"in i?i.prefix:"undefined"!=typeof prefix?prefix:void 0),t}},function(e,t,i){var n=i(3);e.exports=function(e){var t,i="",o=e||{};return function(e,o,a,r,l,s,A,c,d){var p="".concat(l,"-ending-panel-recommend-card");i=i+"<a"+n.attr("class",n.classes(["".concat(p)],[!0]),!1,!0)+' href="javascript:void(0);"'+n.attr("data-href","".concat(d),!0,!0)+n.attr("data-roomId","".concat(s),!0,!0)+"><div"+n.attr("class",n.classes(["".concat(p,"-pic")],[!0]),!1,!0)+">",o&&(i=i+"<div"+n.attr("class",n.classes(["".concat(p,"-pic-").concat(o," ").concat(p,"-pic-label")],[!0]),!1,!0)+">"+n.escape(null==(t=e)?"":t)+"</div>"),i=i+"<img"+(n.attr("src","".concat(r),!0,!0)+n.attr("alt","".concat(A),!0,!0))+"></div><div"+n.attr("class",n.classes(["".concat(p,"-content")],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(p,"-user")],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(p,"-title")],[!0]),!1,!0)+">"+n.escape(null==(t=A)?"":t)+"</div></div><div"+n.attr("class",n.classes(["clearfix","".concat(p,"-info")],[!1,!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(p,"-uname")],[!0]),!1,!0)+">"+n.escape(null==(t=c)?"":t)+"</div><div"+n.attr("class",n.classes(["".concat(p,"-online")],[!0]),!1,!0)+">",o?i+=n.escape(null==(t=a)?"":t):i=i+"<span"+n.attr("class",n.classes(["live-icon-online","".concat(p,"-icon")],[!1,!0]),!1,!0)+">"+n.escape(null==(t=a)?"":t)+"</span>",i+="</div></div></div></a>"}.call(this,"cardText"in o?o.cardText:"undefined"!=typeof cardText?cardText:void 0,"cardType"in o?o.cardType:"undefined"!=typeof cardType?cardType:void 0,"online"in o?o.online:"undefined"!=typeof online?online:void 0,"pic"in o?o.pic:"undefined"!=typeof pic?pic:void 0,"prefix"in o?o.prefix:"undefined"!=typeof prefix?prefix:void 0,"roomId"in o?o.roomId:"undefined"!=typeof roomId?roomId:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"uname"in o?o.uname:"undefined"!=typeof uname?uname:void 0,"url"in o?o.url:"undefined"!=typeof url?url:void 0),i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),o=i(0),a=function(){function e(e,t){this._player=e,this._container=t,this._initialized=!1,this._snippet=['<div class="'+this._player.config.prefix+'-error-panel">','<div class="'+this._player.config.prefix+'-error-message"></div>','<div class="'+this._player.config.prefix+'-error-image"></div>',"</div>"]}return e.prototype.show=function(e,t){void 0===e&&(e="Player Error"),void 0===t&&(t=!1);var i=this._player.config.prefix;this._initialized||this._initialize(),e+='<div class="'+i+'-error-operation">\n                        ( 请尝试\n                        <a class="'+i+'-error-reload" href="javascript:void(0);">刷新</a>';try{this._detectFlashInstalled()&&(e+='或\n                    <a class="'+i+'-error-redirect" href="javascript:void(0);">\n                    切换至Flash播放器</a>')}catch(e){n.default.log("The browser is not support Flash.",2)}return e+=")</div>",this._template._errorPanel.attr("data-error-type",t?"image":"message"),this._template._errorContent.html(e),this},e.prototype.hide=function(){return this._initialized&&(this._initialized=!1,this._template._errorPanel.remove()),this},e.prototype._initialize=function(){n.default.log("ErrorPanel Initializing.."),this._container.append($(this._snippet.join("")));var e=this._player.config.prefix;return this._initialized=!0,this._template={_errorPanel:this._container.find("."+e+"-error-panel"),_errorContent:this._container.find("."+e+"-error-message"),_errorImage:this._container.find("."+e+"-error-image")},this._bindEvent(),n.default.log("ErrorPanel Initialized."),this},e.prototype._bindEvent=function(){var e=this,t=this._player.config.prefix;this._template._errorPanel.on("click",function(i){var n=$(i.target);n.hasClass(t+"-error-reload")?e._player.reload(o.default.LIVE_URL,4,!0):n.hasClass(t+"-error-redirect")&&window.EmbedPlayer.loader()})},e.prototype._detectFlashInstalled=function(){return function(){var e,t=navigator.plugins;try{e=window.ActiveXObject&&!1!==new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){e=!1}return void 0!==t&&"object"==typeof t["Shockwave Flash"]||e}()},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=function(){function e(e,t){this._player=e,this._container=t,this._initialize()}return e.prototype._initialize=function(){var e=this._player.config.namespace;return this._container.text("进入直播间"),this._container.on("click"+e,this._enterRoom.bind(this)),this},e.prototype._enterRoom=function(){var e,t=this._player;if(this._player.config.useType===n.default.PLAYER_HOME)t.event.emit(n.EVENT.HOME_ENTER_THE_ROOM,((e={}).cid=t.config.cid,e.type=n.default.ENTER_TIPS_TYPE_VIDEO_AREA,e));else{var i="//live.bilibili.com/"+this._player.config.rid;window.open(i),this._player.stop()}},e}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="bilibili-live-player-loading-panel",o=function(){function e(e){this._container=e,this._snippet=['<div class="'+n+'-sprite">',"</div>"],this._complete=!1,this._timeout=0,this._container.html(this._snippet.join("")),this._container.css("background","#000")}return e.prototype.show=function(){this._complete=!1,this._container.show()},e.prototype.hide=function(){this._complete&&(clearTimeout(this._timeout),this._container.hide())},e.prototype.setPercent=function(e,t){var i=this;this._complete=!0,t&&t(),this._timeout=setTimeout(function(){i.hide()},300)},e}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._player=e,this._container=t,this._prefix=e.config.prefix+"-send-container",this._init()._bindEvents()}return e.prototype.refreshConfig=function(e){this._config=e,this._refreshComps()},e.prototype._init=function(){var e=i(99),t="",n="_blank";try{t=window.parent.location.href,n="_top"}catch(e){}return this._container.html(e({prefix:""+this._prefix,href:t,target:n})),this._sendInput=this._container.find("."+this._prefix+"-input"),this._sendBtn=this._container.find("."+this._prefix+"-btn"),this._notLogInWrapper=this._container.find("."+this._prefix+"-input-not-log-in"),this},e.prototype._refreshComps=function(){this._config&&(this._config.login&&(this._notLogInWrapper.remove(),this._sendInput.show()),this._sendInput.attr("maxlength",this._config.danmakuLength||0))},e.prototype._bindEvents=function(){this._sendBtn.click(this._sendHandler.bind(this)),this._sendInput.keypress(this._sendHandler.bind(this))},e.prototype._sendHandler=function(e){if(this._config&&this._config.login){if("keypress"===e.type&&13!==e.which)return;var t=this._sendInput.val();this._sendInput.val(""),this._sendInput.focus(),this._player.sendDanmaku({msg:t})}},e}();t.default=n},function(e,t,i){var n=i(3);e.exports=function(e){var t="",i=e||{};return function(e,i,o){var a="".concat(i);t=t+"<div"+n.attr("class",n.classes(["".concat(a)],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(a,"-wrapper")],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(a,"-input-wrapper")],[!0]),!1,!0)+"><div"+n.attr("class",n.classes(["".concat(a,"-input-not-log-in")],[!0]),!1,!0)+"><span>游客无法发送弹幕，请</span><a"+(n.attr("href","https://passport.bilibili.com/login?gourl=".concat(e),!0,!0)+n.attr("target","".concat(o),!0,!0))+">登录</a><span>或</span><a"+(n.attr("href","https://passport.bilibili.com/register/phone.html#/?gourl=".concat(e),!0,!0)+n.attr("target","".concat(o),!0,!0))+">注册用户</a></div><input"+n.attr("class",n.classes(["".concat(a,"-input")],[!0]),!1,!0)+' placeholder=""></div><div'+n.attr("class",n.classes(["".concat(a,"-button-wrapper")],[!0]),!1,!0)+"><a"+n.attr("class",n.classes(["".concat(a,"-btn")],[!0]),!1,!0)+"><span"+n.attr("class",n.classes(["".concat(a,"-label")],[!0]),!1,!0)+">发送</span></a></div></div></div>"}.call(this,"href"in i?i.href:"undefined"!=typeof href?href:void 0,"prefix"in i?i.prefix:"undefined"!=typeof prefix?prefix:void 0,"target"in i?i.target:"undefined"!=typeof target?target:void 0),t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(21),o=i(2),a=i(0),r=i(1);t.default=function(e,t){var i=o.default.log,l={LOAD_METADATA:0},s=1e4;t&&(t instanceof n.default||e)&&t.on(a.EVENT.PLAYER_INITIALIZED,function(){i("Player initialized"),e.triggerInitCallback()}).on(a.EVENT.PLAYER_INITIALIZED_TIME_OUT,function(){i("Player initialized time out",2)}).on(a.EVENT.RESOLVED_USER_INFO_API_SUCCESSFULLY,function(){i("Resolved user info apis successfully."),e.state.firstLoadedAPIPlayerStatus||(r.default.fireEventCallback(e.callbackMap.firstLoadedAPIPlayer),e.state.firstLoadedAPIPlayerStatus=!0),(e.state.onPlayerAPIError||e.state.liveStatus===a.default.L_STATUS_ROUND)&&(e.state.onPlayerAPIError?o.default.log("Player API error, ready to reload...",1):o.default.log("Round status, ready to reload..."),e.reload())}).on(a.EVENT.RESOLVED_USER_INFO_API_FAILED,function(){i("Resolved user apis failed.",2)}).on(a.EVENT.FAILED_TO_GET_THE_USER_INFO_API,function(){e.errorRetrying?e.event.emit(a.EVENT.ON_ERROR_RETRYING_FAILED):(i("Fail to get the user apis.",2),e.error(a.ERROR_CODE.PLAYER_ERROR,"Load User APIs Error."))}).on(a.EVENT.RESOLVED_PLAY_URL_SUCCESSFULLY,function(){i("Resolved playurl successfully."),e.getCurrentLiveLine(e.state.playURLIndex,e.state.quality),window.clearTimeout(e.initializedTimeOut)}).on(a.EVENT.RESOLVED_PLAY_URL_FAILED,function(){i("Resolved playurl failed.",2),e.error(a.ERROR_CODE.PLAYURL_RESOLVE_ERROR,"Live PlayerURL ERROR")}).on(a.EVENT.FAILED_TO_GET_THE_PLAYURL,function(){e.errorRetrying?e.event.emit(a.EVENT.ON_ERROR_RETRYING_FAILED):(i("Fail to get the live playurl.",2),e.track(a.TRACK.STATISTICS_PLAYURL_FAILED),e.error(a.ERROR_CODE.PLAYURL_NETWORK_ERROR,"Live PlayerURL ERROR"))}).on(a.EVENT.RESOLVED_CURRENT_PLAY_URL_SUCCESSFULLY,function(t){i("Resolved current play url successfully"),e.state.firstLoadedAPIPlayurlStatus||(r.default.fireEventCallback(e.callbackMap.firstLoadedAPIPlayurl),e.state.firstLoadedAPIPlayurlStatus=!0),e.reloadLive(t)}).on(a.EVENT.RESOLVED_CURRENT_PLAY_URL_FAILED,function(){i("Resolved current playurl failed.",2)}).on(a.EVENT.RESOLVED_ROUND_PLAY_URL_SUCCESSFULLY,function(t){i("Resolved round playurl successfully."),e.reloadRound(t),e.components.controller&&e.components.controller.initRound()}).on(a.EVENT.RESOLVED_ROUND_PLAY_URL_FAILED,function(){e.errorRetrying?e.event.emit(a.EVENT.ON_ERROR_RETRYING_FAILED):(i("Resolved round playurl failed.",2),e.error(a.ERROR_CODE.PLAYURL_ROUND_RESOLVE_ERROR,"Round PlayerURL ERROR"))}).on(a.EVENT.FAILED_TO_GET_THE_ROUND_PLAYURL,function(){e.errorRetrying?e.event.emit(a.EVENT.ON_ERROR_RETRYING_FAILED):(i("Fail to get the round playurl.",2),e.track(a.TRACK.STATISTICS_PLAYURL_FAILED),e.error(a.ERROR_CODE.PLAYURL_ROUND_NETWORK_ERROR,"Round PlayerURL ERROR"))}).on(a.EVENT.ON_PLAYER_RELOADING,function(t){i("Player on reloading."),t&&(e.state.onStop=!1),clearTimeout(e.INTERVAL.RELOAD_LIVE);var n=e.state.forceBufferTimeout?e.state.forceBufferTimeout+500*e.errorRetryCount:e.INTERVAL.RELOAD_LIVE_MAX_TIME;e.INTERVAL.RELOAD_LIVE=setTimeout(function(){e.event.emit(a.EVENT.PLAYER_RELOAD_FAILED)},n),e.clearPlayURL(),e.reload(e.state.playURLIndex,e.state.quality,t)}).on(a.EVENT.PLAYER_RELOAD_SUCCESSFULLY,function(){i("Player reload successfully."),clearTimeout(e.INTERVAL.RELOAD_LIVE),e.INTERVAL.RELOAD_LIVE=0,e.showSwitchTip(a.default.SWITCH_INFO_TYPE_COMPLETED),e.resetSwitchInfo(),e.onPlayerLiveStatus({onLive:function(){e.state.onSwitching&&(e.state.switchNextLine>-1&&("function"==typeof e.state.reloadDoneCallback?e.state.reloadDoneCallback(e.state.playURLIndex):r.default.fireEventCallback(e.callbackMap.switchLine,e.state.playURLIndex)),e.state.switchNextQuality>-1&&r.default.fireEventCallback(e.callbackMap.switchQuality,e.state.switchNextQuality)),e.state.onSwitching=!1,e.state.onError=!1,e.state.onFixing=!1,e.state.switchNextLine=-1,e.state.switchNextQuality=-1,e.state.reloadDoneCallback=void 0,e.state.reuseTime>1&&e.track(a.TRACK.STATISTICS_REUSE_PLAYURL_TIME,{deltaTs:3===e.state.reuseTime?e.errorRetryCount:e.state.reuseTime}),e.state.reuseTime=0,e.components.controller&&e.components.controller.initLive(),e.event.emit(a.EVENT.CONTROLLER_ACTIVATE_LINE,e.state.playURLIndex),e.event.emit(a.EVENT.CONTROLLER_ACTIVATE_QUALITY,e.state.quality),e.errorRetrying&&e.event.emit(a.EVENT.ON_ERROR_RETRY_SUCCESSFULLY)},onRound:function(){e.state.onError=!1,e.errorRetrying&&e.event.emit(a.EVENT.ON_ERROR_RETRY_SUCCESSFULLY)}})}).on(a.EVENT.PLAYER_RELOAD_FAILED,function(){if(i("Player error retrying: "+e.errorRetrying),e.errorRetryCount>=e.errorRetryMaxCount)i("Player reload failed.",2),e.showSwitchTip(a.default.SWITCH_INFO_TYPE_FAILED),e.resetSwitchInfo(),e.state.playURLIndex=e.state.playURLIndexBackup,e.state.quality=e.state.qualityBackup,e.event.emit(a.EVENT.ON_ERROR_RETRYING_FAILED);else{if(e.state.onSwitching=!1,e.state.onError=!1,e.errorRetryCount>0){var t=a.default.LIVE_URL;if(e.state.playURLIndex===a.default.LIVE_URL){var n=[a.default.LIVE_URL,a.default.LIVE_B1URL,a.default.LIVE_B2URL,a.default.LIVE_B3URL],o=(n.indexOf(e.state.playURLIndex)+1)%n.length;t=n[o]}e.state.playURLIndex=t,i("Reload failed, switch to line "+t+" from line "+e.state.playURLIndex+"."),e.showSwitchTip(a.default.SWITCH_INFO_TYPE_FAILED),e.state.switchInfo={}}e.restoreReloadFailed(),e.error(a.ERROR_CODE.LIVE_PLAYER_RELOAD_ERROR,"player reload error")}}).on(a.EVENT.VIDEO_LOAD_START,function(){i("Video load start now: "+Math.floor(performance.now())+" ms"),e.state.firstLoadStart||(r.default.fireEventCallback(e.callbackMap.firstLoadStart),e.state.firstLoadStart=!0),window.clearTimeout(l.LOAD_METADATA),l.LOAD_METADATA=window.setTimeout(function(){e.state.onError?e.event.emit(a.EVENT.ON_ERROR_RETRYING):e.error(a.ERROR_CODE.NETWORK_UNRECOVERABLE_EARLY_EOF,"Load metadata timeout.")},s)}).on(a.EVENT.VIDEO_LOADED_META_DATA,function(t){t=Math.floor(t),i("Video loaded meta data: "+t+" ms"),window.clearTimeout(l.LOAD_METADATA),e.state.firstLoadedMetaData||e.event.emit(a.EVENT.FIRST_VIDEO_LOADED_META_DATA),t<s&&e.user.getRoomInitData().liveStatus===a.default.L_STATUS_LIVE&&e.track(a.TRACK.STATISTICS_VIDEO_LOADED_META_DATA,{time:t}),e.state.backgroundTabStartTime=0,e.play(),e.event.emit(a.EVENT.PLAYER_RELOAD_SUCCESSFULLY)}).on(a.EVENT.FIRST_VIDEO_LOADED_META_DATA,function(){r.default.fireEventCallback(e.callbackMap.firstLoadedMetaData),e.state.firstLoadedMetaData=!0;var t=Math.floor(performance.now()-e.state.backgroundTabTime),n=Math.floor(t-e.config.initTime),o=Math.floor(t-e.state.firstPlayURLRequestTime);e.config.switchCount&&(t=n),i(Math.floor(e.config.initTime)+" ms: InitTime, "+e.state.backgroundTabTime+" ms: backgroundTabTime."),i(n+" ms: Player loaded meta data for the first time:"),i(t+" ms: Player loaded live stream screen for the first time: "),t<8e3&&!e.state.wasErrorRetried&&(e.track(a.TRACK.EXPERIENCE_FIRST_SCREEN_TIME,{time:t}),e.track(a.TRACK.EXPERIENCE_FIRST_LOADED_META_DATA_TIME,{time:n}),e.track(a.TRACK.EXPERIENCE_FIRST_LOAD,{time:o}))}).on(a.EVENT.SWITCH_LINE,function(t){if(e.state.onSwitching)return!1;e.onPlayerLiveStatus({onLive:function(){if(t!==e.state.playURLIndex){i("Switch to line : "+t+"."),e.event.emit(a.EVENT.ON_ERROR_RETRY_CANCELED),e.state.onSwitching=!0,e.state.switchNextLine=t;var n=0===t?a.CONFIG_STRING.LINE_MAIN:a.CONFIG_STRING.LINE_BACKUP+t;e.resetSwitchInfo(a.default.SWITCH_TYPE_LINE,n),e.showSwitchTip(a.default.SWITCH_INFO_TYPE_INIT),e.state.playURLIndexBackup=e.state.playURLIndex,e.state.playURLIndex=t,e.event.emit(a.EVENT.ON_PLAYER_RELOADING)}}})}).on(a.EVENT.SWITCH_QUALITY,function(t){if(e.state.onSwitching)return!1;if(0===e.config.uid&&t.value>e.state.checkQn){var n=function(t){return e.state.qualityList.find(function(e){return e.qn===t})},o=n(e.state.quality),l=n(e.state.checkQn);if(o&&l)return e.setPlayerStatus(a.default.P_NORMAL),r.default.fireEventCallback(e.callbackMap.switchQualityNotLogin,{newQn:{text:t.text,value:t.value},oldQn:{text:o.desc,value:o.qn},checkQn:{text:l.desc,value:l.qn}})}e.onPlayerLiveStatus({onLive:function(){if(t.value!==e.state.quality){i("Switch to quality : "+t.value+"."),e.event.emit(a.EVENT.ON_ERROR_RETRY_CANCELED),e.state.onSwitching=!0,e.state.onSwitchQuality=!0,e.state.switchNextQuality=t.value;var n=t.text;e.resetSwitchInfo(a.default.SWITCH_TYPE_QUALITY,n),e.showSwitchTip(a.default.SWITCH_INFO_TYPE_INIT),e.state.qualityBackup=e.state.quality,e.state.quality=t.value,e.event.emit(a.EVENT.ON_PLAYER_RELOADING)}}})}).on(a.EVENT.VIDEO_ENDED,function(){e.event.emit(a.EVENT.ON_PLAYER_RELOADING)}).on(a.EVENT.ON_LIVE,function(t,i){void 0===t&&(t=a.default.LIVE_URL),void 0===i&&(i=a.default.QUALITY_DEFAULT),e.setLiveStatus(a.default.L_STATUS_LIVE),e.getCurrentLiveLine(t,i),e.components.danmaku&&e.components.danmaku.density(e.state.danmakuDensity)}).on(a.EVENT.ON_PRE_ROUND,function(t){void 0===t&&(t=300),e.event.emit(a.EVENT.ON_ERROR_RETRY_CANCELED),e.setLiveStatus(a.default.L_PRE_ROUND),e.preRound(t),e.components.danmaku&&e.components.danmaku.density(e.state.danmakuDensity)}).on(a.EVENT.ON_ROUND,function(){e.setLiveStatus(a.default.L_STATUS_ROUND),e.getRoundURL(),e.components.danmaku&&e.components.danmaku.density(e.state.danmakuDensity)}).on(a.EVENT.ON_PREPARING,function(){e.setLiveStatus(a.default.L_STATUS_PREPARING),e.components.danmaku&&e.components.danmaku.density(20),e.components.video&&e.components.video.destroy(!1),e.end(),e.event.emit(a.EVENT.ON_ERROR_RETRY_CANCELED)}).on(a.EVENT.ON_ERROR_RETRYING,function(){if(a.default.L_STATUS_PREPARING===e.state.liveStatus)return o.default.log("Preparing state, cancel the error retry"),void e.event.emit(a.EVENT.ON_ERROR_RETRY_CANCELED);e.state.wasErrorRetried=!0,e.errorRetrying||(o.default.log("Try to recover, index = "+e.errorRetryCount,1),e.errorRetrying=!0,window.clearTimeout(e.INTERVAL.RELOAD_LIVE),window.clearTimeout(e.INTERVAL.ERROR_RECOVER_CALLBACK),e.errorRecover())}).on(a.EVENT.ON_ERROR_RETRYING_FAILED,function(){e.errorRetrying&&(0===e.errorRetryCount&&(e.errorRetryCount=e.state.reuseTime),e.errorRetryCount<e.errorRetryMaxCount?(e.errorRetryCount++,e.errorRetrying=!1,e.restoreReloadFailed(),clearTimeout(e.INTERVAL.ERROR_RECOVER_CALLBACK),e.INTERVAL.ERROR_RECOVER_CALLBACK=window.setTimeout(function(){e.event.emit(a.EVENT.ON_ERROR_RETRYING)},1e3*e.errorRetryIntervalArray[e.errorRetryCount])):(e.state.reuseTime>1&&(e.track(a.TRACK.STATISTICS_REUSE_PLAYURL_TIME,{deltaTs:e.errorRetryMaxCount}),e.state.reuseTime=0),e.event.emit(a.EVENT.ON_ERROR_RETRY_FAILED)))}).on(a.EVENT.ON_ERROR_RETRY_SUCCESSFULLY,function(){e.errorRetrying=!1,e.errorRetryCount=0}).on(a.EVENT.ON_ERROR_RETRY_FAILED,function(){o.default.log("Failed to recover.");var t=e.components;window.clearTimeout(e.INTERVAL.RELOAD_LIVE),window.clearTimeout(e.INTERVAL.ERROR_RECOVER_CALLBACK),t.controller.end(),e.setLiveStatus(a.default.L_ERROR),e.pause(),t.danmaku.clear(),t.loadingPanel.hide(),t.endingPanel.hide(),e.state.loadingPicture||t.errorPanel.show("直播已断开",!0),e.trackPlayingError()}).on(a.EVENT.ON_ERROR_RETRY_CANCELED,function(){e.errorRetrying=!1,e.errorRetryCount=0,window.clearTimeout(e.INTERVAL.RELOAD_LIVE),window.clearTimeout(e.INTERVAL.ERROR_RECOVER_CALLBACK),window.clearTimeout(l.LOAD_METADATA)}).on(a.EVENT.TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC,function(){var t=60*Math.round(4*Math.random()+10)*1e3;window.clearTimeout(e.INTERVAL.TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC),e.INTERVAL.TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC=window.setTimeout(function(){o.default.log("Try to fix the picture is not sync.",1),e.state.onFixing=!0,e.reload()},t)}).on(a.EVENT.PLAYER_RESIZE,function(t,i){if(!(t<=0)){var n=t<=500;e.state.onMini=n,e.toggleMiniType(n),e.plugins.zzmask&&e.plugins.zzmask.resize(),e.components.danmaku&&e.components.danmaku.fontSize(n?.72:e.components.controller.getControllerDanmakuScale()).option("offsetTop",0).resize()}}).on(a.EVENT.HOME_ENTER_THE_ROOM,function(t){void 0===t&&(t={cid:0,type:0}),r.default.fireEventCallback(e.callbackMap.enterTheRoom,t)}).on("sss")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=i(22),a=i(0),r=function(){function e(e,t){this._container=e,this._version="1.10.4",this._prefix="bilibili-live-player-context-menu",this._namespace=".bpl_context_menu",this._actionClass="js-blp-action",this._DEFAULT_OPTIONS={menu:[],appendTo:$(document.body),align:"left",theme:"black"},this._DEFAULT_MENU=[{type:"function",icon:"",text:"Bilibili HTML5 Live Player "+this._version,link:""},{type:"function",text:"Copyright Bilibili "+(new Date).getFullYear(),disabled:!0},{type:"function",text:"关闭"}],this._opts=this._DEFAULT_OPTIONS,this._status=!1,this._createStatus=!1,this._guid=this._guidFn(),this._fnCallbackList={},this._menuMap={},this._menuIndex=0,this._menuSubIndex=0,this._outerWrap=$(window),this._opts=$.extend(this._opts,t),this._opts.menu=this._opts.menu.concat(this._DEFAULT_MENU),this._outerWrap=t.outerWrap||$(window),this._initialize()}return e.prototype.show=function(e,t,i){var n,o,a,r=this._template._container,l=this._opts,s=($(window),this._outerWrap),A=s.width(),c=s.height(),d=s.scrollTop()||0,p=s.scrollLeft()||0;l.appendTo.offset();if(this._status&&this.hide(),this._status=!0,l.changeMode)switch(a="function"==typeof l.onChange&&l.onChange($(i.target),i),l.changeType){case 0:break;case 1:this._addMenu(a);break;case 2:this._addMenu(a,!0)}n=r.width(),t=t+(o=r.height())+7>c+d?c-o-7+d:t,A-(e=e+n+7>A+p?A-n-7+p:e)-n<160&&this._template._container.addClass("left-sub-menu"),r.css({left:e-1,top:t-1}).addClass("active")},e.prototype.hide=function(){var e=this,t=this._template,i=this._opts;if(this._status=!1,t._container.removeClass("active left-sub-menu").css({top:-9999,left:-9999}),i.changeMode&&i.autoRemove){var n,o=t._ul.find('>li[data-auto-remove="1"]'),a=o.find("a.context-menu-a[data-id]");a.each(function(t){n=parseInt(a.eq(t).attr("data-id").toString(),10),delete e._fnCallbackList[n]}),o.hide(),setTimeout(function(){o.remove()},0)}},e.prototype.reset=function(){},e.prototype.add=function(){},e.prototype.delete=function(e){if(this.hide(),e){var t=this.getElement(e),i=void 0;if(t.submenu)for(var n in t.submenu)i=parseInt(n.substr(5),10),delete this._fnCallbackList[i];else i=parseInt(e.substr(5),10),delete this._fnCallbackList[i];t.element.parent().remove(),delete this._menuMap[e]}},e.prototype.destroy=function(){var e=this._namespace;$(window).off("click"+e).off("contextmenu"+e).off("keydown"+e),this._container.off("contextmenu"+e),this._template._container.off("click"+e),this._guid=void 0,this._template._container.remove()},e.prototype.disable=function(e,t){var i=this.getElement(e,t);i&&i.element.attr("data-disabled",1)},e.prototype.enable=function(e,t){var i=this.getElement(e,t);e&&i.element.attr("data-disabled",0)},e.prototype.push=function(e){this._addMenu(e,!1,!1)},e.prototype.unshift=function(e){return this._addMenu(e,!0,!1)},e.prototype.getMenuMap=function(){return this._menuMap},e.prototype.getElement=function(e,t){var i,n;if(this._menuMap[e]){if((n=(i=this._menuMap[e]).submenu)&&(t>=0||t))if("string"==typeof t)i=n[t];else if("number"==typeof t)for(var o in n)n[o].index===t&&(i=n[o]);return i}},e.prototype.deactivate=function(e,t){if(e){var i=this.getElement(e,t);if(i.activated&&(i.activated=!1,i.element.removeClass("active").attr("data-disabled",0)),r=i.submenu)for(var n in r)r[n].activated&&(r[n].activated=!1,r[n].element.removeClass("active").attr("data-disabled",0))}else{var o=this._menuMap;for(var a in o){var r;if(o[a].activated&&(o[a].activated=!1,o[a].element.removeClass("active").attr("data-disabled",0)),r=o[a].submenu)for(var n in r)r[n].activated&&(r[n].activated=!1,r[n].element.removeClass("active").attr("data-disabled",0))}}},e.prototype.active=function(e,t){if(e){this.deactivate(e);var i=this.getElement(e,t);i.activated||(i.activated=!0,i.element.addClass("active").attr("data-disabled",1))}else{var n=this._menuMap;for(var o in n){n[o].activated||(n[o].activated=!0,n[o].element.addClass("active").attr("data-disabled",1));var a=n[o].submenu;if(a)for(var r in a)a[r].activated||(a[r].activated=!0,a[r].element.addClass("active").attr("data-disabled",1))}}},e.prototype._guidFn=function(){var e=0;return function(){return e++}},e.prototype._initialize=function(){return this._create()._bindEvents(),this},e.prototype._create=function(){var e,t=this._opts,i=t.theme,n=this._prefix;return t.appendTo.addClass("relative"),e=$("<div>").addClass(n+"-container "+i).appendTo(t.appendTo),this._createMenu(t.menu,e),this._template={_container:e,_ul:e.find(">ul.context-menu-ul"),_li:e.find(">ul>li>a.context.menu-a")},this._createStatus=!0,this},e.prototype._createMenu=function(e,t,i){var n=this,o=$('<ul class="context-menu-ul">').appendTo(t);e.forEach(function(e,t){n._createMenuItem(e,o,i)})},e.prototype._createMenuItem=function(e,t,i,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1);var a,r="function"==typeof this._guid&&this._guid(),l="item_"+r,s=(""+e.type).trim().toLowerCase(),A=e.icon?'<span class="'+e.icon+'"></span>':"",c=e.title||"",d=e.text,p=e.className||"",u=n?1:0,h=e.disabled?1:0,f=e.link?'href="'+e.link+'" target="_blank"':'href="javascript:;"',g=e.attr?e.attr.key+'="'+e.attr.value+'"':"";if(a=$('<li class="context-menu-'+s+" "+p+'" data-auto-remove="'+u+'">'),s)switch(s){case"title":a.append('<a class="context-menu-a" title="'+c+'" href="javascript:;">'+A+d+"</a>");break;case"division":a.append('<a class="context-menu-a" href="javascript:;" ></a>');break;case"function":this._fnCallbackList[r]=e.click,a.append('<a class="context-menu-a '+this._actionClass+'" title="'+c+'" data-id="'+r+'"\n                    '+f+' data-disabled="'+h+'" '+g+' data-item-id="'+l+'" >'+A+d+"</a>");break;case"submenu":var _=$("<div/>").text(d).html();a.append('<a class="context-menu-a" title="'+c+'" data-id="'+r+'"\n                    '+f+' data-disabled="'+h+'" >'+A+_+'<span class="context-menu-right-arrow"></span></a>')}return o?a.prependTo(t):a.appendTo(t),i?i&&this._menuMap[i]&&(this._menuMap[i].submenu||(this._menuMap[i].submenu={}),this._menuMap[i].submenu[l]={index:this._menuSubIndex++,element:a.find(">a"),activated:!1,disabled:!1}):(this._menuSubIndex=0,this._menuMap["item_"+r]={index:this._menuIndex++,element:a.find(">a"),activated:!1,disabled:!1}),"submenu"===s&&this._createMenu(e.submenu,a,l),{id:l,item:this._menuMap[l]}},e.prototype._bindEvents=function(){var e=this,t=this._namespace;$(window).on("click"+t,function(t){var i=$(t.target);!$.contains(e._template._container[0],i[0])&&e.hide()}).on("contextmenu"+t,function(t){var i=$(t.target);!$.contains(e._container[0],i[0])&&!$.contains(e._container[0],i[0])&&e.hide()}).on("keydown"+t,function(t){a.default.KEYCODE_ESC===t.keyCode&&e.hide()}),o.default.addFullscreenChange(function(){e.hide()}),this._container.on("contextmenu"+t,function(t){t.preventDefault();var i=n.default.getRelativePos(t,e._container);return e.show(i.x-1,i.y-1,t),!1}),this._template._container.on("click"+t,function(t){var i=$(t.target);if(!i.hasClass(e._actionClass))return!1;var n=parseInt(i.attr("data-id").toString(),10),o=parseInt(i.attr("data-disabled").toString(),10),a=e._fnCallbackList[n],r=i.attr("data-item-id");o?t.preventDefault():("function"==typeof a&&a(e,i,n,r),e.hide())}).on("contextmenu"+t,function(){return!1})},e.prototype._addMenu=function(e,t,i){var n=this;void 0===t&&(t=!1),void 0===i&&(i=!0);var o,a=this._template;return e.forEach(function(e){o=n._createMenuItem(e,a._ul,"",i,t)}),o},e.prototype._resetMenu=function(e){this._opts.menu=e.concat(this._DEFAULT_MENU),this._container.html(""),this._initialize()},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._container=e,this._successCallbackList=[],this._initialize()}return e.prototype.copy=function(e,t){t&&this._successCallbackList.push(t),this._btn.attr("data-clipboard-text",e).trigger("click")},e.prototype._initialize=function(){this._create()._bindEvents()},e.prototype._create=function(){return this._btn=$("<button>").addClass("blp-clipboard-btn").attr("data-clipboard-text","").css("display","none").appendTo(this._container),this},e.prototype._bindEvents=function(){var e=this;return this._clipboard="function"==typeof window.Clipboard&&new window.Clipboard(this._btn[0]),this._clipboard.on("success",function(t){t.clearSelection(),e._successCallbackList.forEach(function(e){"function"==typeof e&&e()}),e._successCallbackList=[]}),this._clipboard.on("error",function(e){console.error("Clipboard Copy Error.",e)}),this},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(){function e(e,t){this._container=e,this._cssPrefix="bilibili-live-player-video-info",this._infos={},this._initialized=!1,this._graphWidth=180,this._graphHeight=14,this._minValue=0,this._updateStatus=!1,this._opts=$.extend({infos:[]},t),this._initialize()}return e.prototype.toggle=function(){var e=this._template._container;e&&e.hasClass("active")?this.hide():this.show()},e.prototype.show=function(){this._initialized||(this._initialize(),this._initialized=!0),this._restoreData(),this._template._container.addClass("active"),this._updateStatus=!0},e.prototype.hide=function(){this._updateStatus=!1,this._template._container.removeClass("active")},e.prototype.refresh=function(e){this._cacheData(e),this._updateStatus&&this._refresh(e)},e.prototype.update=function(e){return this._update(e)},e.prototype.getInfo=function(){return this._infos},e.prototype._initialize=function(){var e,t,i,n=this._cssPrefix,o=this._infos;e=$("<div>").addClass(n+"-container").appendTo(this._container),t=$('<a href="javascript:void(0);">').addClass(n+"-close").text("[x]").appendTo(e),(i=$("<div>").addClass(n+"-panel").appendTo(e)).html(this._infoTemplate(o)),this._template={_container:e,_close:t,_panel:i},this._initialized=!0,this._bindEvents(),this._cacheInfos=this._infos},e.prototype._bindEvents=function(){var e=this;this._template._close.on("click",function(){e.hide()})},e.prototype._infoTemplate=function(e){var t,i=this,n="";if(e instanceof Array)e.forEach(function(e){n+=i._infoTemplate(e)});else if("object"==typeof e&&e.type&&e.title)switch(t=e,this._infos[t.name]={type:t.type,title:t.title,data:t.data},t.type){case"text":n+='<div class="info-line" data-name="'+t.name+'"><span class="info-title">'+t.title+':</span><span class="info-data" >'+t.data+"</span></div>";break;case"graph":this._infos[t.name].unit=t.unit,this._infos[t.name].graphPointArr=[],this._infos[t.name].graphLineArr=[],n+='<div class="info-line" data-name="'+t.name+'"><span class="info-title">'+t.title+':</span><span class="info-graph">'+this._getGraph(this._infos[t.name])+'</span><span class="info-data" >'+t.data+" "+(t.unit||"")+"</span></div>"}return n},e.prototype._getGraph=function(e,t){var i,n,o,a="",r="";if(t||0===t)for(e.graphPointArr.splice(0,1),e.graphPointArr.push(t),e.graphLineArr=[],this._maxValue=Math.max.apply(this,e.graphPointArr)||1,this._perValue=this._graphHeight/(this._maxValue-this._minValue),n=0,o=e.graphPointArr.length;n<o;n++){var l=e.graphPointArr[n];e.graphLineArr.push([2*n,this._graphHeight-(l-this._minValue)*this._perValue])}else for(n=0,o=this._graphWidth/2;n<o;n++)e.graphPointArr.push(0),e.graphLineArr.push([2*n,this._graphHeight]);for(i=e.graphLineArr,a+='<svg width="'+this._graphWidth+'" height="'+this._graphHeight+'" viewBox="0 0 '+this._graphWidth+" "+this._graphHeight+'"><g><polyline stroke="white" fill="none" points="',n=0,o=i.length;n<o;n++)r+=i[n].join(",")+" ";return a+=r,a+='"></polyline></g></svg>'},e.prototype._update=function(e){e&&e.infos&&e.infos instanceof Array?(this._opts=$.extend({infos:[]},e),this._template._panel.html(this._infoTemplate(this._opts.infos)),this._cacheInfos=this._infos):console.error("video info update arguments error...")},e.prototype._refresh=function(e){var t,i,o=this,a=this._template._panel;if(e instanceof Array)e.forEach(function(e){o._refresh(e)});else if("object"==typeof e)switch((t=this._infos[e.name])?t.data=e.data:(a.append(this._infoTemplate(e)),t=this._infos[e.name]),"string"==typeof t.data&&(t.data=n.default.escapeMessyCode(t.data)),i=a.find('.info-line[data-name="'+e.name+'"]'),t.type){case"text":i.find(".info-data").text(t.data);break;case"graph":i.find(".info-graph").html(this._getGraph(t,t.data)).next().text(t.data+" "+t.unit)}},e.prototype._cacheData=function(e){var t,i,n,o=this;e instanceof Array?e.forEach(function(e){o._cacheData(e)}):"object"==typeof e&&(t=e.name,i=e.data,(n=this._cacheInfos[t])&&("text"===n.type?n.data=i:"graph"===n.type&&(n.data=i,this._getGraph(n,i))))},e.prototype._restoreData=function(){var e,t;for(var i in this._cacheInfos)switch(t=this._cacheInfos[i],e=this._template._panel.find('.info-line[data-name="'+i+'"]'),"string"==typeof t.data&&(t.data=n.default.escapeMessyCode(t.data)),t.type){case"text":e.find(".info-data").text(t.data);break;case"graph":e.find(".info-graph").html(this._getGraph(t,t.data)).next().text(t.data+" "+t.unit)}},e}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=0,a=1,r=function(){function e(){}return e.resolve=function(t,i,a){t&&n.default.ajax({url:t},function(n){var o=e.parse(n,t,!0,a);"function"==typeof i&&i(o)},function(e){a(o,"Fail to get playurl",t)})},e.parse=function(e,t,i,n){var o,r=null,l=null,s={};if(!e.result){if(void 0===e.durl){var A="Error";return e.error_text&&(A=e.error_code+": "+e.error_text),void n(a,A,t)}e.result="suee"}if("suee"===e.result)if("local"===e.from&&"suee"===e.result){if(e.durl&&0!==e.durl.length){r=e.accept_format,l=e.accept_quality,o=e.format,r&&0!==r.length||(r=[e.format]),l&&0!==l.length||(l=[2]);var c="flv";e.format&&e.format.indexOf("mp4")>-1&&(c="mp4");var d=e.timelength;s.type=c,s.duration=0;var p="http";if("mp4"===c){var u=e.durl[0],h=u.url,f=[];i&&(p="https",h=h.replace("http://","https://")),u.backup_url&&u.backup_url.forEach(function(e){i&&(p="https",e=e.replace("http://","https://")),f.push(e)}),s.url=h,s.backupURL=f,s.duration=u.length}else s.segments=[],s.duration=0,e.durl.forEach(function(e){var t=e.url,n=[];i&&(p="https",t=t.replace("http://","https://")),e.backup_url&&e.backup_url.forEach(function(e){i&&(p="https",e=e.replace("http://","https://")),n.push(e)});var o={};o.duration=e.length,o.filesize=e.size,o.url=t,o.backupURL=n,s.segments.push(o),s.duration+=o.duration});var g=e.status,_=e.vip_type,b=e.vip_status,m=e.has_paid,E=e.bp,y="range";if("flv"===s.type)for(var v=s.segments,T=0;T<v.length;T++)if(v[T].url.match(/\/ws\.acgvideo\.com\//)){y="param";break}return{streamType:p,mediaDataSource:s,acceptFormat:r,acceptQuality:l,timelength:d,status:g,vipType:_,vipStatus:b,hasPaid:m,format:o,bp:E,seekType:y}}n(a,"Invalid durl",t)}else n(a,"Unsupported video source: "+e.from,t);else"error"===e.result?n(a,"Resolve Error: "+e.message,t):n(a,"Resolve Error: result is "+e.result,t)},e}();t.default=r},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,l)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var i,n,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.c=e,this.handleGetMask=t.onGetMask,this.paint={},this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="19",this.canvas.style.backgroundColor="#4c4343",this.canvas.style.opacity="0.7",this.canvas.style.top="0",this.canvas.style.left="0",this.ctx=this.canvas.getContext("2d"),this.ctx.strokeStyle="rgba(0, 0, 0, 1)",this.ctx.fillStyle="rgba(0, 0, 0, 1)",this.state={isOpening:!1,status:0},this.resizeCanvas(),this.bindEvent()}return e.prototype.open=function(){this.c.append(this.canvas)},e.prototype.close=function(){this.clear(),this.state.status=0,this.state.isOpening=!1;var e=this.canvas.parentNode;e&&e.removeChild(this.canvas)},e.prototype.onGetMask=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){return this.handleGetMask=e,[2]})})},e.prototype.destroy=function(){this.close(),this.canvas=null,this.paint=null,this.ctx=null,this.state=null,this.handleGetMask=null},e.prototype.resize=function(){this.state.isOpening&&this.canvas.width!==this.c.width()&&(this.resizeCanvas(),this.downloadPng())},e.prototype.resizeCanvas=function(){this.canvas.width=this.c.width(),this.canvas.height=this.c.height(),this.state.isOpening,this.state.cw=this.c.width(),this.state.ch=this.c.height()},e.prototype.bindEvent=function(){var e=this;this.canvas.addEventListener("mousedown",function(t){var i=t.offsetX,n=t.offsetY;0===e.state.status?(e.state.status=1,e.paint.x=i/e.state.cw,e.paint.y=n/e.state.ch):1===e.state.status&&(e.clear(),e.downloadPng())}),this.canvas.addEventListener("mousemove",function(t){var i=t.offsetX,n=t.offsetY,o=e.state,a=o.cw,r=o.ch;if(1===e.state.status){var l=e.paint.x*a,s=e.paint.y*r;e.paint.width=(i-l)/a,e.paint.height=(n-s)/r,e.clear(),e.ctx.strokeRect(l,s,e.paint.width*a,e.paint.height*r)}})},e.prototype.clear=function(){this.ctx.clearRect(0,0,this.state.cw,this.state.ch)},e.prototype.downloadPng=function(){var e=this.state,t=e.cw,i=e.ch,n=this.paint.x*t,o=this.paint.y*i;this.clear(),this.ctx.fillStyle="rgba(0, 0, 0, 1)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.clearRect(n,o,this.paint.width*t,this.paint.height*i);var a=this.canvas.toDataURL("image/png",1);this.handleGetMask&&"[object Function]"===Object.prototype.toString.apply(this.handleGetMask)&&this.handleGetMask(a),this.close()},e}();t.default=a}]);
